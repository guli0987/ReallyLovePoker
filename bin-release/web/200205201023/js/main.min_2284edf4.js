var __reflect=this&&this.__reflect||function(e,t,r){e.__class__=t,r?r.push(t):r=[t],e.__types__=e.__types__?r.concat(e.__types__):r},__extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);r.prototype=t.prototype,e.prototype=new r},__awaiter=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(o,i){function a(e){try{n(s.next(e))}catch(t){i(t)}}function h(e){try{n(s["throw"](e))}catch(t){i(t)}}function n(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,h)}n((s=s.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function r(e){return function(t){return s([e,t])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,i&&(a=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[0,a.value]),r[0]){case 0:case 1:a=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,i=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){n=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){n.label=r[1];break}if(6===r[0]&&n.label<a[1]){n.label=a[1],a=r;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(r);break}a[2]&&n.ops.pop(),n.trys.pop();continue}r=t.call(e,n)}catch(s){r=[6,s],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,a,h,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return h={next:r(0),"throw":r(1),"return":r(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},GameUser=function(){function e(){this.id=0,this.name="",this.avatar="http://www.wetes.cn/SY/upload/tom.jpg",this.sex="未知",this.token="",this.pValue=0,this.tableID=0,this.isOwner=!1,this.loadFinish=!1}return e}();__reflect(GameUser.prototype,"GameUser");var mvs;!function(e){var t=function(t){function r(){var e=t.call(this)||this;return e._response=null,e.registResponseCall(),e}return __extends(r,t),Object.defineProperty(r,"getInstance",{get:function(){return null==r._instance&&(r._instance=new r),r._instance},enumerable:!0,configurable:!0}),r.release=function(){r._instance._response=null,r._instance=null},r.prototype.getResponse=function(){return null==this._response&&this.registResponseCall(),this._response},r.prototype.registResponseCall=function(){this._response=new MatchvsResponse,this._response.initResponse=this.initResponse.bind(this),this._response.registerUserResponse=this.registerUserResponse.bind(this),this._response.loginResponse=this.loginResponse.bind(this),this._response.logoutResponse=this.logOutResponse.bind(this),this._response.joinRoomResponse=this.joinRoomResponse.bind(this),this._response.joinRoomNotify=this.joinRoomNotify.bind(this),this._response.createRoomResponse=this.createRoomResponse.bind(this),this._response.joinOverResponse=this.joinOverResponse.bind(this),this._response.joinOverNotify=this.joinOverNotify.bind(this),this._response.leaveRoomResponse=this.leaveRoomResponse.bind(this),this._response.leaveRoomNotify=this.leaveRoomNotify.bind(this),this._response.kickPlayerResponse=this.kickPlayerResponse.bind(this),this._response.kickPlayerNotify=this.kickPlayerNotify.bind(this),this._response.getRoomListExResponse=this.getRoomListExResponse.bind(this),this._response.getRoomDetailResponse=this.getRoomDetailResponse.bind(this),this._response.setRoomPropertyResponse=this.setRoomPropertyResponse.bind(this),this._response.setRoomPropertyNotify=this.setRoomPropertyNotify.bind(this),this._response.sendEventResponse=this.sendEventResponse.bind(this),this._response.sendEventNotify=this.sendEventNotify.bind(this),this._response.gameServerNotify=this.gameServerNotify.bind(this),this._response.errorResponse=this.errorResponse.bind(this),this._response.networkStateNotify=this.networkStateNotify.bind(this),this._response.setFrameSyncResponse=this.setFrameSyncResponse.bind(this),this._response.setFrameSyncNotify=this.setFrameSyncNotify.bind(this),this._response.sendFrameEventResponse=this.sendFrameEventResponse.bind(this),this._response.frameUpdate=this.frameUpdate.bind(this),this._response.reconnectResponse=this.reconnectResponse.bind(this),this._response.setReconnectTimeoutResponse=this.setReconnectTimeoutResponse.bind(this),this._response.getOffLineDataResponse=this.getOffLineDataResponse.bind(this),this._response.joinOpenResponse=this.joinOpenResponse.bind(this),this._response.joinOpenNotify=this.joinOpenNotify.bind(this),this._response.disConnectResponse=this.disConnectResponse.bind(this),this._response.hotelHeartBeatRsp=this.hotelHeartBeatRsp.bind(this)},r.prototype.initResponse=function(t){console.info("initResponse status：",t),this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_INIT_RSP,!1,!1,{status:t}))},r.prototype.registerUserResponse=function(t){console.info("registerUserResponse userInfo ",JSON.stringify(t)),this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_REGISTERUSER_RSP,!1,!1,t))},r.prototype.loginResponse=function(t){console.info("[loginResponse] "+JSON.stringify(t)),this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_LOGIN_RSP,!1,!1,t))},r.prototype.joinRoomResponse=function(t,r,s){if(console.info("[joinRoomResponse] "),200==t){var o={status:t,userList:r,roomInfo:s};return void this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINROOM_RSP,!1,!1,o))}console.error("[joinRoomResponse error:]",t)},r.prototype.joinRoomNotify=function(t){console.info("[joinRoomNotify] "+t.userProfile);var r={userId:t.userId,userProfile:t.userProfile};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINROOM_NTFY,!1,!1,r))},r.prototype.createRoomResponse=function(t){console.info("[sendEventResponse]"+JSON.stringify(t));var r={status:t.status,roomID:t.roomID,owner:t.owner};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_CREATEROOM_RSP,!1,!1,r))},r.prototype.sendEventResponse=function(t){console.info("[sendEventResponse]"+JSON.stringify(t));var r={status:t.status,sequence:t.sequence};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SENDEVENT_RSP,!1,!1,r))},r.prototype.gameServerNotify=function(t){console.info("[gameServerNotify] "+JSON.stringify(t));var r={srcUserId:t.srcUserId,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_GAMESERVER_NTFY,!1,!1,r))},r.prototype.sendEventNotify=function(t){console.info("[sendEventNotify] "+JSON.stringify(t));var r={srcUserId:t.srcUserId,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SENDEVENT_NTFY,!1,!1,r))},r.prototype.joinOverResponse=function(t){console.info("[joinOverResponse] "+JSON.stringify(t));var r={status:t.status,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINOVER_RSP,!1,!1,r))},r.prototype.joinOverNotify=function(t){console.info("[joinOverNotify] ");var r={roomID:t.roomID,userID:t.srcUserID,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINOVER_NTFY,!1,!1,r))},r.prototype.leaveRoomResponse=function(t){console.info("[leaveRoomResponse] status: "+t.status);var r={roomID:t.roomID,status:t.status,userId:t.userId,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_LEAVEROOM_RSP,!1,!1,r))},r.prototype.leaveRoomNotify=function(t){console.info("[leaveRoomNotify] "+t.userId);var r={roomID:t.roomID,userId:t.userId,owner:t.owner,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_LEAVEROOM_NTFY,!1,!1,r))},r.prototype.networkStateNotify=function(t){console.info("[networkStateNotify] state: "+t.state);var r={roomID:t.roomID,userID:t.userID,owner:t.owner,state:t.state};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_NETWORKSTATE_NTFY,!1,!1,r))},r.prototype.setFrameSyncResponse=function(t){console.info("[setFrameSyncResponse] "+JSON.stringify(t));var r={mStatus:t.status};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SETFRAMESYNC_RSP,!1,!1,r))},r.prototype.setFrameSyncNotify=function(t){console.info("[setFrameSyncNotify] "+JSON.stringify(t));var r={frameRate:t.frameRate,startIndex:t.startIndex,timestamp:t.timestamp,enableGS:t.enableGS,cacheFrameMS:t.cacheFrameMS};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SETFRAMESYNC_NTFY,!1,!1,r))},r.prototype.sendFrameEventResponse=function(t){console.info("[sendFrameEventResponse] "+JSON.stringify(t));var r={status:t.mStatus};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SENDFRAME_RSP,!1,!1,r))},r.prototype.frameUpdate=function(t){console.info("[frameUpdate] ");var r={frameIndex:t.frameIndex,frameItems:t.frameItems,frameWaitCount:t.frameWaitCount};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_FRAMEUPDATE,!1,!1,r))},r.prototype.errorResponse=function(t,r){console.info("[errorResponse] errCode:"+t+" errMsg:"+r);var s={errCode:t,errMsg:r};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_ERROR_RSP,!1,!1,s))},r.prototype.logOutResponse=function(t){console.info("[logOutResponse] status:",t);var r={status:t};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_LOGOUT_RSP,!1,!1,r))},r.prototype.joinOpenResponse=function(t){console.info("[joinOpenResponse] info:",t.status);var r={status:t.status,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINOPEN_RSP,!1,!1,r))},r.prototype.joinOpenNotify=function(t){console.info("[joinOpenResponse] info:");var r={roomID:t.roomID,userID:t.userID,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINOPEN_NTFY,!1,!1,r))},r.prototype.kickPlayerNotify=function(t){console.info("[kickPlayerNotify] info:");var r={cpProto:t.cpProto,owner:t.owner,srcUserId:t.srcUserId,userID:t.userID};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_KICKPLAYER_NTFY,!1,!1,r))},r.prototype.kickPlayerResponse=function(t){console.info("[kickPlayerResponse] info:"+t.status);var r={owner:t.owner,userID:t.userID,status:t.status};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_KICKPLAYER_RSP,!1,!1,r))},r.prototype.setRoomPropertyNotify=function(t){console.info("[setRoomPropertyNotify] info:");var r={roomID:t.roomID,userID:t.userID,roomProperty:t.roomProperty};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SETROOMPROPERTY_NTFY,!1,!1,r))},r.prototype.setRoomPropertyResponse=function(t){console.info("[setRoomPropertyResponse] info:",t.status);var r={roomID:t.roomID,userID:t.userID,roomProperty:t.roomProperty,status:t.status};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SETROOMPROPERTY_RSP,!1,!1,r))},r.prototype.getRoomDetailResponse=function(t){console.info("[getRoomDetailResponse] info:",t.status);var r={canWatch:t.canWatch,createFlag:t.createFlag,maxPlayer:t.maxPlayer,mode:t.mode,owner:t.owner,roomProperty:t.roomProperty,state:t.state,status:t.status,userInfos:t.userInfos};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_GETROOMDETAIL_RSP,!1,!1,r))},r.prototype.getRoomListExResponse=function(t){console.info("[getRoomListExResponse] info:",t.status);var r={roomAttrs:t.roomAttrs,status:t.status,total:t.total};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_GETROOMLIST_EX_RSP,!1,!1,r))},r.prototype.getRoomListResponse=function(t,r){console.info("[getRoomListResponse] info:",t);var s={status:t,roomInfos:r};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_GETROOMLIST_RSP,!1,!1,s))},r.prototype.reconnectResponse=function(t,r,s){console.info("[reconnectResponse] info:",t);var o={status:t,roomUserInfoList:r,roomInfo:s};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_RECONNECT_RSP,!1,!1,o))},r.prototype.setReconnectTimeoutResponse=function(t){console.info("[setReconnectTimeoutResponse] info:",t);var r={status:t};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SETRECONNECTTIMEOUT_RSP,!1,!1,r))},r.prototype.getOffLineDataResponse=function(t){console.info("[getOffLineDataResponse] info:",t.status);var r={status:t.status,frameCount:t.frameCount,msgCount:t.msgCount};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_GETOFFLINEDATA_RSP,!1,!1,r))},r.prototype.disConnectResponse=function(e){console.info("[disConnectResponse] info:",e)},r.prototype.heartBeatResponse=function(e){console.info("[heartBeatResponse] info:",e.gameID+","+e.gsExist)},r.prototype.hotelHeartBeatRsp=function(e){console.info("[hotelHeartBeatRsp] info:",e)},r._instance=null,r}(egret.EventDispatcher);e.MsResponse=t,__reflect(t.prototype,"mvs.MsResponse")}(mvs||(mvs={}));var LoadingProgress=function(e){function t(){var t=e.call(this)||this;return t.progressCount=0,t.createView(),t}return __extends(t,e),t.prototype.createView=function(){console.log("mc1");var e=new egret.Shape;e.graphics.beginFill(0,.2),e.graphics.drawRect(0,0,1920,1080),e.graphics.endFill(),this.addChild(e),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=490,this.textField.x=720,this.textField.width=480,this.textField.height=100,this.textField.textAlign=egret.HorizontalAlign.CENTER,this.initProgressBar()},t.prototype.initProgressBar=function(){this.pBar=new eui.ProgressBar,this.pBar.maximum=100,this.pBar.minimum=0,this.pBar.width=300,this.pBar.height=28,this.addChild(this.pBar),this.pBar.x=810,this.pBar.y=600,this.pBar.value=0},t.prototype.onProgress=function(e,t){console.log("current:"+e+",total:"+t),this.textField.text="资源加载中..."+(e/t*100).toFixed(2)+"%",this.progressCount++,this.pBar.value=this.progressCount/142*100},t}(egret.Sprite);__reflect(LoadingProgress.prototype,"LoadingProgress",["RES.PromiseTaskReporter"]);var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.createView,t),t}return __extends(t,e),t.prototype.createView=function(){return __awaiter(this,void 0,void 0,function(){var e,t,r;return __generator(this,function(s){return this.width=this.stage.stageWidth,this.height=this.stage.stageHeight,e=new egret.Bitmap,e.texture=RES.getRes("loading_bg_jpg"),e.width=this.width,e.height=this.height,this.addChild(e),t=new egret.Shape,t.graphics.beginFill(0,.4),t.graphics.drawRect(0,0,this.width,this.height),t.graphics.endFill(),this.addChild(t),r=new egret.Bitmap,r.texture=RES.getRes("index_track_png"),r.scale9Grid=new egret.Rectangle(23,13,20,0),r.width=1400,this.addChild(r),r.x=260,r.y=960,this.loading_green=new egret.Bitmap,this.loading_green.texture=RES.getRes("index_thumb_png"),this.loading_green.scale9Grid=new egret.Rectangle(23,13,20,0),this.loading_green.width=0,this.addChild(this.loading_green),this.loading_green.x=260,this.loading_green.y=960,this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=700,this.textField.x=720,this.textField.width=480,this.textField.height=100,this.textField.textAlign=egret.HorizontalAlign.CENTER,[2]})})},t.prototype.onProgress=function(e,t){console.log("current"+e+",total:"+t),this.loading_green.width=1400*e/t,this.textField.text="资源加载中..."+(e/t*100).toFixed(2)+"%"},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.user=PokerUtils.getRandomUser(),t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(r){switch(r.label){case 0:return this.stage.orientation=egret.OrientationMode.LANDSCAPE,[4,this.loadResource()];case 1:return r.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return e=r.sent(),this.startAnimation(e),[4,platform.login()];case 3:return r.sent(),[4,platform.getUserInfo()];case 4:return t=r.sent(),console.log(t),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return r.sent(),[4,RES.loadGroup("loading",7)];case 2:return r.sent(),e=new LoadingUI,this.stage.addChild(e),[4,this.loadTheme()];case 3:return r.sent(),[4,RES.loadGroup("preload",1,e)];case 4:return r.sent(),this.stage.removeChild(e),[3,6];case 5:return t=r.sent(),console.error(t),[3,6];case 6:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,r){var s=new eui.Theme("resource/default.thm.json",e.stage);s.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},t.prototype.createGameScene=function(){var e=this.createBitmapByName("bg_jpg");this.addChild(e);var t=this.stage.stageWidth,r=this.stage.stageHeight;e.width=t,e.height=r;var s=new egret.Shape;s.graphics.beginFill(0,.5),s.graphics.drawRect(0,0,t,172),s.graphics.endFill(),s.y=33,this.addChild(s);var o=this.createBitmapByName("yun_png");this.addChild(o),o.x=26,o.y=73;var i=new egret.Shape;i.graphics.lineStyle(2,16777215),i.graphics.moveTo(0,0),i.graphics.lineTo(0,117),i.graphics.endFill(),i.x=172,i.y=61,this.addChild(i);var a=new egret.TextField;a.textColor=16777215,a.width=t-172,a.textAlign="center",a.text="测试版本，不代表最终品质\n优化了加载动画，开通了在线匹配入口。仅做测试用途，仍不可多人游戏。",a.size=24,a.x=172,a.y=80,this.addChild(a);var h=new egret.TextField;this.addChild(h),h.alpha=0,h.width=t-172,h.textAlign=egret.HorizontalAlign.CENTER,h.size=24,h.textColor=16777215,h.x=172,h.y=135,this.textfield=h;var n=new egret.Bitmap(RES.getRes("button_begin_png"));n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startGame,this),n.name="button",n.x=820,n.y=780,this.addChild(n)},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,r=RES.getRes(e);return t.texture=r,t},t.prototype.startAnimation=function(e){var t=this,r=new egret.HtmlTextParser,s=e.map(function(e){return r.parse(e)}),o=this.textfield,i=-1,a=function(){i++,i>=s.length&&(i=0);var e=s[i];o.textFlow=e;var r=egret.Tween.get(o);r.to({alpha:1},200),r.wait(2e3),r.to({alpha:0},200),r.call(a,t)};a()},t.prototype.startGame=function(e){var t=new GameHall(this.user);t.name="gameHall",this.parent.addChild(t),this.parent.removeChild(this)},t}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,r,s){function o(e){t.call(s,e)}function i(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),r.call(s))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(s,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,r){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(s,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var h=e.split("/");h.pop();var n=h.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(s,generateJSON.paths[e])},this):RES.getResByUrl(n,function(r){window.JSONParseClass.setData(r),egret.callLater(function(){t.call(s,generateJSON.paths[e])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(s,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var OtherPokerCountContains=function(e){function t(t,r){var s=e.call(this)||this,o=RES.getRes("layout_json").otherPokerCountContainer;1===r?(s.x=o.playerX,s.y=o.playerY):2===r?(s.x=o.rightX,s.y=o.rightY):3===r?(s.x=o.topX,s.y=o.topY):4===r&&(s.x=o.leftX,s.y=o.leftY),s.width=o.width,s.height=o.height;var i=new TextTip(t+"",0,60,32);return i.width=100,s.addChild(i),s}return __extends(t,e),t}(egret.DisplayObjectContainer);__reflect(OtherPokerCountContains.prototype,"OtherPokerCountContains");var GameResultContainer=function(e){function t(t){var r=e.call(this)||this,s=RES.getRes("layout_json").layout;r.x=0,r.y=0,r.width=s.stageWidth,r.height=s.stageHeight;var o=new egret.Shape;return o.graphics.beginFill(1122867),o.graphics.drawRect(0,0,r.width,r.height),o.graphics.endFill(),o.alpha=.3,r.addChild(o),r.show(t),r}return __extends(t,e),t.prototype.show=function(e){var t;e?(t=new TextTip("\\胜利/",880,700,128),t.textColor=16516371):(t=new TextTip("/失败\\",880,700,128),t.textColor=131586),this.addChild(t)},t}(egret.DisplayObjectContainer);__reflect(GameResultContainer.prototype,"GameResultContainer");var HallMenuContainer=function(e){function t(t,r){var s=e.call(this)||this;return s.show(t,r),s}return __extends(t,e),t.prototype.show=function(e,t){var r=new HallMenus("menu_offlineMode_png",450,300,300,520);r.touchEnabled=!0,r.addEventListener(egret.TouchEvent.TOUCH_TAP,t.menuOfflineModeClick,t),this.addChild(r);var s=new HallMenus("menu_classicMode_png",850,300,310,450);s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_TAP,t.menuClassicModeClick,t),this.addChild(s);var o=new HallMenus("menu_friendMode_png",1260,300,300,495);this.addChild(o)},t}(egret.DisplayObjectContainer);__reflect(HallMenuContainer.prototype,"HallMenuContainer");var PlayerButtonContainer=function(e){function t(t,r){var s=e.call(this)||this,o=RES.getRes("layout_json").playerButtonContainer;return s.x=o.x,s.y=o.y,s.width=o.width,s.height=o.height,s.show(t,r),s}return __extends(t,e),t.prototype.show=function(e,t){if(t==RoomManager.ButtonsToThrowAPoker){var r=new Button("throw",500,40,260,160);r.touchEnabled=!0,r.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonDiuPai,e),this.addChild(r)}else if(t==RoomManager.ButtonsToDrawAPoker){var s=new Button("draw",400,400,260,160);s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonChouPai,e),this.addChild(s)}else if(t==RoomManager.ButtonsDiscard){console.log("该一号玩家出牌了");var o=new Button("pass",25,40,260,160);o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonBuYao,e),this.addChild(o);var i=new Button("tip",350,40,260,160);i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonTiShi,e),this.addChild(i);var a=new Button("ok",675,40,260,160);a.touchEnabled=!0,a.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonChuPai,e),this.addChild(a)}else if(t==RoomManager.ButtonsGameOver){var h=new Button("leaveRoom",200,0,300,200);h.touchEnabled=!0,h.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonGameOver,e),this.addChild(h);var n=new Button("newGame",600,0,300,200);n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonRestart,e),this.addChild(n)}else if(t==RoomManager.ButtonsToSwitchAPoker){var s=new Button("switch",400,400,300,200);s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonQiePai,e),this.addChild(s)}else if(t==RoomManager.ButtonsExpand){var l=new Button("eline",-460,580,915,10);l.touchEnabled=!1,this.addChild(l);var p=new Button("expand",450,490,100,100);p.touchEnabled=!0,p.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonExpand,e),this.addChild(p);var d=new Button("eline",545,580,915,10);d.touchEnabled=!1,this.addChild(d)}else if(t==RoomManager.ButtonsTools){var u=new Button("hline",-460,480,915,10);u.touchEnabled=!1,this.addChild(u);var g=new Button("hide",450,480,100,100);g.touchEnabled=!0,g.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonHide,e),this.addChild(g);var k=new Button("hline",545,480,915,10);k.touchEnabled=!1,this.addChild(k);var m=new Button("slowdown",60,260,200,100);m.touchEnabled=!0,m.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonSlowdown,e),this.addChild(m);var c=new Button("speedup",740,260,200,100);c.touchEnabled=!0,c.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonSpeedup,e),this.addChild(c)}else if(t==RoomManager.ButtonsTakeOverOutPokers){console.log("接替出牌");var o=new Button("pass",25,40,260,160);o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonTiBuYao,e),this.addChild(o);var i=new Button("tip",350,40,260,160);i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonTiTiShi,e),this.addChild(i);var a=new Button("ok",675,40,260,160);a.touchEnabled=!0,a.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonTiPai,e),this.addChild(a)}},t}(egret.DisplayObjectContainer);__reflect(PlayerButtonContainer.prototype,"PlayerButtonContainer");var PokerContainer=function(e){function t(t,r,s){var o=e.call(this)||this,i=RES.getRes("layout_json").pokerContainer;return o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height,r=s?PokerUtils.sortDescPokers(r):PokerUtils.sortAscPokers(r),o.show(t,r),o}return __extends(t,e),t.prototype.show=function(e,t){for(var r=RES.getRes("layout_json").poker,s=.5*(26-t.length)*r.pokerMiddleSpace,o=0;o<t.length;o++){var i=new PokerMod(t[o],s+o*r.pokerMiddleSpace,r.pokerUpMove,r.pokerWidth,r.pokerHeight);i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,e.pokerClick,e),this.addChild(i)}},t.prototype.removePokerByNames=function(e){for(var t=0;t<e.length;t++)null!=this.getChildByName(e[t]+"")&&this.removeChild(this.getChildByName(e[t]+""))},t}(egret.DisplayObjectContainer);__reflect(PokerContainer.prototype,"PokerContainer");var PokerDrawContainer=function(e){function t(t,r,s,o){var i=e.call(this)||this,a=RES.getRes("layout_json").pokerDrawContainer;return i.x=a.x,i.y=a.y,i.width=a.width,i.height=a.height,i.show(t,r,s,o),i}return __extends(t,e),t.prototype.show=function(e,t,r,s){for(var o=RES.getRes("layout_json").poker,i=0,a=0,h=0,n=0;n<t.length;n++){n>53?(a=o.pokerDrawAddy,h=o.pokerDrawAddx*o.pokerDrawSpace):(a=0,h=0);var l=!1;l=n!=s?r:!0;var p=new DrawPoker(t[n],i+n*o.pokerDrawSpace-h,o.pokerDrawUpMove+a,o.pokerDrawWidth,o.pokerDrawHeight,l);p.touchEnabled=!0,n>53?p.addEventListener(egret.TouchEvent.TOUCH_TAP,e.drawPokerClickDown,e):p.addEventListener(egret.TouchEvent.TOUCH_TAP,e.drawPokerClickUp,e),this.addChild(p)}},t.prototype.removePokerByNames=function(e){for(var t=0;t<e.length;t++)null!=this.getChildByName(e[t]+"")&&this.removeChild(this.getChildByName(e[t]+""))},t}(egret.DisplayObjectContainer);__reflect(PokerDrawContainer.prototype,"PokerDrawContainer");var PokerOthersContainer=function(e){function t(t,r){var s=e.call(this)||this,o=RES.getRes("layout_json").pokerOthersContainer;return 2===r?(s.x=o.rightX,s.y=o.rightY):3===r?(s.x=o.topX,s.y=o.topY):4===r&&(s.x=o.leftX,s.y=o.leftY),s.width=o.width,s.height=o.height,s.show(t,r),s}return __extends(t,e),t.prototype.show=function(e,t){var r=RES.getRes("layout_json").poker,s=0;3===t&&(s=(20-e.length)*r.pokerSmallSpace);for(var o=0;o<e.length;o++){var i=new PokerMod(e[o],s+o*r.pokerSmallSpace,0,r.pokerSmallWidth,r.pokerSmallHeight);this.addChild(i)}},t}(egret.DisplayObjectContainer);__reflect(PokerOthersContainer.prototype,"PokerOthersContainer");var PokerPlayerContainer=function(e){function t(t){var r=e.call(this)||this,s=RES.getRes("layout_json").pokerPlayerContainer;return r.x=s.x,r.y=s.y,r.width=s.width,r.height=s.height,r.show(t),r}return __extends(t,e),t.prototype.show=function(e){for(var t=RES.getRes("layout_json").poker,r=.5*(20-e.length)*t.pokerPlaySpace,s=0;s<e.length;s++){var o=new PokerMod(e[s],r+s*t.pokerPlaySpace,0,t.pokerTestWidth,t.pokerTestHeight);this.addChild(o)}},t}(egret.DisplayObjectContainer);__reflect(PokerPlayerContainer.prototype,"PokerPlayerContainer");var PokerThrowContainer=function(e){function t(t,r,s){var o=e.call(this)||this,i=RES.getRes("layout_json").pokerThrowContainer;return 1===t?(o.x=i.playerX,o.y=i.playerY):2===t?(o.x=i.rightX,o.y=i.rightY):3===t?(o.x=i.topX,o.y=i.topY):4===t&&(o.x=i.leftX,o.y=i.leftY),o.width=i.width,o.height=i.height,o.show(r,s),o}return __extends(t,e),t.prototype.show=function(e,t){for(var r=RES.getRes("layout_json").poker,s=0,o=0;o<e.length;o++){var i=new DrawPoker(e[o],s+o*r.pokerSmallSpace,0,r.pokerSmallWidth,r.pokerSmallHeight,t);this.addChild(i)}},t}(egret.DisplayObjectContainer);__reflect(PokerThrowContainer.prototype,"PokerThrowContainer");var PokerVerticalContainer=function(e){function t(t,r){var s=e.call(this)||this,o=RES.getRes("layout_json").pokerVerticalContainer;return 1===r||(2===r?(s.x=o.rightX,s.y=o.rightY,s.width=o.width,s.height=o.height):3===r?(s.x=o.topX,s.y=o.topY,s.width=o.topW,s.height=o.topH):4===r&&(s.x=o.leftX,s.y=o.leftY,s.width=o.width,s.height=o.height)),2===r||4===r?s.show(t):3===r&&s.showTop(t),s}return __extends(t,e),t.prototype.show=function(e){for(var t=RES.getRes("layout_json").poker,r=0,s=0,o=0;o<e.length;o++){o>=14&&(s=40),r>=14&&(r-=14);var i=new PokerMod(e[o],r*t.pokerSmallSpace,s,t.pokerSmallWidth,t.pokerSmallHeight);r++,this.addChild(i)}},t.prototype.showTop=function(e){for(var t=RES.getRes("layout_json").poker,r=0,s=0;s<e.length;s++){var o=new PokerMod(e[s],r+s*t.pokerSmallSpace,0,t.pokerSmallWidth,t.pokerSmallHeight);this.addChild(o)}},t.prototype.show1=function(e){for(var t=RES.getRes("layout_json").poker,r=0,s=0,o=0;o<e.length;o++){o>=10&&(r=.3*t.pokerSmallHeight),s>=10&&(s-=10);var i=new PokerMod(e[o],r,s*t.pokerSmallSpace,t.pokerSmallWidth,t.pokerSmallHeight);s++,this.addChild(i)}},t}(egret.DisplayObjectContainer);__reflect(PokerVerticalContainer.prototype,"PokerVerticalContainer");var FirstOutTitleContainer=function(e){function t(t){var r=e.call(this)||this,s=RES.getRes("layout_json").firstTitleContainer;r.width=s.width,r.height=s.height;var o=-30;1===t?(r.x=s.playerX,r.y=s.playerY):2===t?(r.x=s.rightX,r.y=s.rightY,o=20):3===t?(r.x=s.topX,r.y=s.topY):4===t&&(r.x=s.leftX,r.y=s.leftY);var i=new TextTip("【出牌】",o,40,20);return i.width=100,r.addChild(i),r}return __extends(t,e),t}(egret.DisplayObjectContainer);__reflect(FirstOutTitleContainer.prototype,"FirstOutTitleContainer");var FirstThrowTitleContainer=function(e){function t(t){var r=e.call(this)||this,s=RES.getRes("layout_json").firstTitleContainer;r.width=s.width,r.height=s.height;var o=-30;1===t?(r.x=s.playerX,r.y=s.playerY):2===t?(r.x=s.rightX,r.y=s.rightY,o=20):3===t?(r.x=s.topX,r.y=s.topY):4===t&&(r.x=s.leftX,r.y=s.leftY);var i=new TextTip("【丢牌】",o,30,20);return i.width=100,r.addChild(i),r}return __extends(t,e),t}(egret.DisplayObjectContainer);__reflect(FirstThrowTitleContainer.prototype,"FirstThrowTitleContainer");var PortraitContainer=function(e){function t(t,r,s,o){var i=e.call(this)||this,a=RES.getRes("layout_json").portraitContainer;i.x=a.x,i.y=a.y,i.width=a.width,i.height=a.height;var h=new TextTip(t.getName(),0,100,16);if(h.width=100,i.addChild(h),!s&&o){var n=new TextTip("[友]",100,10,32);n.textColor=995324,n.width=100,i.addChild(n)}return i.show(t.getSex(),r),i}return __extends(t,e),t.prototype.show=function(e,t){var r=new DefaultPortrait(e,t,0,0,100,100);this.addChild(r)},t}(egret.DisplayObjectContainer);__reflect(PortraitContainer.prototype,"PortraitContainer");var PortraitOtherContainer=function(e){function t(t,r,s,o,i){var a=e.call(this)||this,h=RES.getRes("layout_json").portraitOtherContainer;2===i?(a.x=h.rightX,a.y=h.rightY):3===i?(a.x=h.topX,a.y=h.topY):4===i&&(a.x=h.leftX,a.y=h.leftY),a.width=h.width,a.height=h.height;var n=new TextTip(t.getName(),0,100,16);if(n.width=100,a.addChild(n),!s){console.log("not	isFirst");var l=100;2==i&&(l=-100);var p=void 0;o?(p=new TextTip("[友]",l,10,32),p.textColor=995324):(p=new TextTip("[敌]",l,10,32),p.textColor=16386051),p.width=100,a.addChild(p)}return a.show(t,r),a}return __extends(t,e),t.prototype.show=function(e,t){var r=new DefaultPortrait(e.getSex(),t,0,0,100,100);this.addChild(r)},t}(egret.DisplayObjectContainer);__reflect(PortraitOtherContainer.prototype,"PortraitOtherContainer");
var TextOtherContainer=function(e){function t(t,r){var s=e.call(this)||this,o=RES.getRes("layout_json").textOtherContainer;return 1===r?(s.x=o.playerX,s.y=o.playerY):2===r?(s.x=o.rightX,s.y=o.rightY):3===r?(s.x=o.topX,s.y=o.topY):4===r&&(s.x=o.leftX,s.y=o.leftY),s.width=o.width,s.height=o.height,s.show(t,r),s}return __extends(t,e),t.prototype.show=function(e,t){var r=0;2===t&&(r=16+64*(6-e.length));var s=new TextTip(e,r,0,64);this.addChild(s)},t}(egret.DisplayObjectContainer);__reflect(TextOtherContainer.prototype,"TextOtherContainer");var OtherPlayingTimer=function(e){function t(t,r){var s=e.call(this)||this,o=RES.getRes("layout_json").otherPlayingTimer;return 2===r?(s.x=o.rightX,s.y=o.rightY):3===r?(s.x=o.topX,s.y=o.topY):4===r&&(s.x=o.leftX,s.y=o.leftY),s.width=o.width,s.height=o.height,s.show(t,r),s}return __extends(t,e),t.prototype.show=function(e,t){var r=new TextTip(e,0,0,48);this.addChild(r)},t}(egret.DisplayObjectContainer);__reflect(OtherPlayingTimer.prototype,"OtherPlayingTimer");var OtherThrowTimer=function(e){function t(t,r){var s=e.call(this)||this,o=RES.getRes("layout_json").otherPlayingTimer;return 1===r?(s.x=o.playerX,s.y=o.playerY):2===r?(s.x=o.rightX,s.y=o.rightY):3===r?(s.x=o.topX,s.y=o.topY):4===r&&(s.x=o.leftX,s.y=o.leftY),s.width=o.width,s.height=o.height,s.show(t,r),s}return __extends(t,e),t.prototype.show=function(e,t){var r=new TextTip(e,0,0,48);this.addChild(r)},t}(egret.DisplayObjectContainer);__reflect(OtherThrowTimer.prototype,"OtherThrowTimer");var GameSettingPannel=function(e){function t(){var t=e.call(this)||this;return t.radioCode=-1,t.addEventListener(eui.UIEvent.COMPLETE,t.onComplete,t),t.skinName="resource/eui_customize/GameSettingPannel.exml",t.name="gameSettingPannel",t.test(),t}return __extends(t,e),t.prototype.test=function(){this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnReturn,this),this.btn_confirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnConfirm,this),this.initRadioButtonWithGroup()},t.prototype.onComplete=function(){console.log("onComplete")},t.prototype.btnReturn=function(){console.log("button btnReturn"),null!=this.parent.getChildByName("gameSettingPannel")&&this.parent.removeChild(this.parent.getChildByName("gameSettingPannel"))},t.prototype.setMyPokers=function(e){this.myPoker=e},t.prototype.getMyPokers=function(){return this.myPoker},t.prototype.btnConfirm=function(){console.log("button btnConfirm"),1==this.radioCode?(null!=this.parent.getChildByName("mypoker")&&this.parent.removeChild(this.parent.getChildByName("mypoker")),StandaloneModel.mypoker=new PokerContainer(this.parent,this.getMyPokers(),!1),StandaloneModel.mypoker.name="mypoker",this.parent.addChild(StandaloneModel.mypoker),StandaloneModel.isLeftHand=!1):(null!=this.parent.getChildByName("mypoker")&&this.parent.removeChild(this.parent.getChildByName("mypoker")),StandaloneModel.mypoker=new PokerContainer(this.parent,this.getMyPokers(),!0),StandaloneModel.mypoker.name="mypoker",this.parent.addChild(StandaloneModel.mypoker),StandaloneModel.isLeftHand=!0),null!=this.parent.getChildByName("gameSettingPannel")&&this.parent.removeChild(this.parent.getChildByName("gameSettingPannel"))},t.prototype.initRadioButtonWithGroup=function(){var e=new eui.RadioButtonGroup;e.addEventListener(eui.UIEvent.CHANGE,this.radioChangeHandler,this),this.radio_left.value=0,this.radio_left.group=e,this.radio_right.value=1,this.radio_right.group=e,StandaloneModel.isLeftHand?(this.radio_left.selected=!0,this.radioCode=0):(this.radio_right.selected=!0,this.radioCode=1)},t.prototype.radioChangeHandler=function(e){var t=e.target;console.log(t.selectedValue),1==t.selectedValue?this.radioCode=1:this.radioCode=0},t.prototype.initSwitch=function(){this.ts_music.label="This is a ToggleButton",this.ts_music.addEventListener(eui.UIEvent.CHANGE,this.changeHandler,this)},t.prototype.changeHandler=function(e){egret.log(e.target.selected)},t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(GameSettingPannel.prototype,"GameSettingPannel",["eui.UIComponent","egret.DisplayObject"]);var GameSettings=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(GameSettings.prototype,"GameSettings",["eui.UIComponent","egret.DisplayObject"]);var IndexProgress=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/eui_customize/IndexProgress.exml",t}return __extends(t,e),t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.ProgressBar);__reflect(IndexProgress.prototype,"IndexProgress",["eui.UIComponent","egret.DisplayObject"]);var TakeOverFriend=function(e){function t(t){var r=e.call(this)||this;return r.skinName="resource/eui_customize/TakeOverFriend.exml",r.name="takeoverPannel",r.btnControl(t),r}return __extends(t,e),t.prototype.btnControl=function(e){this.takeover_return.addEventListener(egret.TouchEvent.TOUCH_TAP,e.takeoverReturn,e),this.takeover_confirm.addEventListener(egret.TouchEvent.TOUCH_TAP,e.takeoverConfirm,e)},t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(TakeOverFriend.prototype,"TakeOverFriend",["eui.UIComponent","egret.DisplayObject"]);var test=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(test.prototype,"test",["eui.UIComponent","egret.DisplayObject"]);var GameData=function(){function e(){}return e.init=function(){this.isGameOver=!0,this.isRoomOwner=!1,this.syncFrame=!1,this.number1="",this.number2="",this.number3="",this.number4="",this.roomID="",this.intervalList=[],this.playerUserIds=[],this.roomPropertyValue=this.roomPropertyType.mapA},e.CHANNEL="MatchVS",e.DEFAULT_ENV="alpha",e.ENVIRONMENT={dev:"alpha",pro:"release"},e.gameID=217926,e.appkey="3eeaf009789a4201a0a725e63372c3f2#E",e.secretKey="daa105d7eea34f1cabdf610c29691265",e.gameUser=new GameUser,e.playerUserIds=[],e.matchType=0,e.randomMatch=1,e.specialMatch=2,e.tagsMatch=3,e.maxPlayerNum=4,e.isRoomOwner=!1,e.gameStartEvent="gameStart",e.playerPositionEvent="playerPosition",e.reconnectStartEvent="gameReconnectStart",e.newStarEvent="newStar",e.changeStarEvent="changeStar",e.gameReadyEvent="gameReady",e.reconnectReadyEvent="gameReconnectReady",e.events={},e.syncFrame=!1,e.isGameOver=!1,e.starPositionX=0,e.starPositionY=0,e.frameRate=5,e.defaultHeight=400,e.roomID="",e.intervalList=[],e.number1="",e.number2="",e.number3="",e.number4="",e.playerTime=60,e.roomPropertyType={mapA:"mapA",mapB:"mapB"},e.roomPropertyValue="mapA",e.createRoomInfo=new MsCreateRoomInfo("MatchvsRoom",4,0,0,1,"mapA"),e.thefilter=new MsRoomFilterEx(e.createRoomInfo.maxPlayer,e.createRoomInfo.mode,e.createRoomInfo.canWatch,e.createRoomInfo.roomProperty,0,1,0,0,0,10),e}();__reflect(GameData.prototype,"GameData");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,r){function s(s){t.call(r,s,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?s(o):RES.getResAsync(e,s,this)}else RES.getResByUrl(e,s,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var OnlineEvent=function(){function e(){}return e.OE_LOADFINISH="OE_LOADFINISH",e.OE_GAMESTART="OE_GAMESTART",e.OE_GAMECOUNT="OE_GAMECOUNT",e.OE_SELECT_ORDER="OE_SELECT_ORDER",e.OE_SHOW_DATA="OE_SHOW_DATA",e.OE_CHANGE_TABLE="OE_CHANGE_TABLE",e.OE_SEND_POKERS="OE_SEND_POKERS",e.OE_SEND_AGAIN_POKERS="OE_SEND_AGAIN_POKERS",e.OE_SHOW_DRAWER_POKER="OE_SHOW_DRAWER_POKER",e.OE_SHOW_SWITCH_POKER="OE_SHOW_SWITCH_POKER",e.OE_SHOW_THROW_POKER="OE_SHOW_THROW_POKER",e.OE_SEARCH_CAMP="OE_SEARCH_CAMP",e.OE_SHOW_CAMP="OE_SHOW_CAMP",e.OE_EXCHANGE_POKER="OE_EXCHANGE_POKER",e.OE_FIRST_OUT_POKER="OE_FIRST_OUT_POKER",e.OE_OUT_POKERS="OE_OUT_POKERS",e.OE_IS_GAMEOVER="OE_IS_GAMEOVER",e.OE_GAMEOVER="OE_GAMEOVER",e.OE_AGAINGAME="OE_AGAINGAME",e.OE_READY="OE_READY",e.OE_GIVE_OUTPOKERS="OE_GIVE_OUTPOKERS",e}();__reflect(OnlineEvent.prototype,"OnlineEvent");var LoadingOne=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){this.initMovieClip()},t.prototype.initMovieClip=function(){var e=RES.getRes("Action_json"),t=RES.getRes("Action_png"),r=new egret.MovieClipDataFactory(e,t),s=new egret.MovieClip(r.generateMovieClipData("action"));this.addChild(s),s.gotoAndPlay(1,4),s.x=300,s.y=600},t}(egret.DisplayObjectContainer);__reflect(LoadingOne.prototype,"LoadingOne");var mvs;!function(e){var t=function(){function t(){this._engine=null,this._response=null,this._engine=new MatchvsEngine}return Object.defineProperty(t,"getInstance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.init=function(t,r,s,o){this._response=e.MsResponse.getInstance.getResponse();var i=this._engine.init(this._response,t,r,s,o,1);return 0!==i?(console.info("[MsEngine init failed] resCode:",i),i):(console.info("[MsEngine init seccess] resCode:",i),i)},t.prototype.registerUser=function(){var e=this._engine.registerUser();return 0!==e?(console.error("[MsEngine registerUser failed] resCode:",e),e):(console.info("[MsEngine registerUser seccess] resCode:",e),e)},t.prototype.LocalStoreClear=function(){LocalStore_Clear(),console.log("LocalStore_Clear")},t.prototype.login=function(e,t){var r=this._engine.login(e,t,"1");return console.info("[MsEngine login ] resCode:",r),r},t.prototype.logOut=function(){var e=this._engine.logout("");return console.info("[MsEngine logout ] resCode:",e),e},t.prototype.joinRandomRoom=function(e,t){var r=this._engine.joinRandomRoom(e,t);return console.info("[MsEngine joinRandomRoom ] resCode:",r),r},t.prototype.joinRoomWithProperties=function(e,t){var r=this._engine.joinRoomWithProperties(e,t);return console.info("[MsEngine joinRoomWithProperties ] resCode:",r),r},t.prototype.joinRoom=function(e,t){var r=this._engine.joinRoom(e,t);return console.info("[MsEngine joinRoom ByRoomId ] resCode:",r),r},t.prototype.createRoom=function(e,t){var r=this._engine.createRoom(e,t);return console.info("[MsEngine createRoom ] resCode:",r,JSON.stringify(e),t),r},t.prototype.joinOver=function(e){var t=this._engine.joinOver(e);return console.info("[MsEngine joinOver ] resCode:",t),t},t.prototype.joinOpen=function(e){var t=this._engine.joinOpen(e);return console.info("[MsEngine joinOpen ] resCode:",t),t},t.prototype.leaveRoom=function(e){var t=this._engine.leaveRoom(e);return console.info("[MsEngine leaveRoom ] resCode:",t),t},t.prototype.kickPlayer=function(e,t){var r=this._engine.kickPlayer(e,t);return console.info("[MsEngine kickPlayer ] resCode:",r),r},t.prototype.getRoomListEx=function(e){var t=this._engine.getRoomListEx(e);return console.info("[MsEngine getRoomListEx ] resCode:",t),t},t.prototype.getRoomDetail=function(e){var t=this._engine.getRoomDetail(e);return console.info("[MsEngine getRoomDetail ] resCode:",t),t},t.prototype.setRoomProperty=function(e,t){var r=this._engine.setRoomProperty(e,t);return console.info("[MsEngine setRoomProperty ] resCode:",r),r},t.prototype.sendEvent=function(e){var t=this._engine.sendEvent(e);return console.info("[MsEngine sendEvent ] resCode:",JSON.stringify(t)),t},t.prototype.sendEventEx=function(e,t,r,s){var o=this._engine.sendEventEx(e,t,r,s);return console.info("[MsEngine sendEventEx ] resCode:",JSON.stringify(o)),o},t.prototype.setFrameSync=function(e){var t=this._engine.setFrameSync(e);return console.info("[MsEngine setFrameSync ] resCode:",t),t},t.prototype.sendFrameEvent=function(e){var t=this._engine.sendFrameEvent(e,0);return console.info("[MsEngine sendFrameEvent ] resCode:",t),t},t.prototype.reconnect=function(){var e=this._engine.reconnect();return console.info("[MsEngine reconnect ]",e),e},t.prototype.setReconnectTimeout=function(){var e=this._engine.setReconnectTimeout(59);return console.info("[MsEngine setReconnectTimeout ]",e),e},t.prototype.getOffLineData=function(e){var t=this._engine.getOffLineData(e);return console.info("[MsEngine getOffLineData ]",t),t},t._instance=null,t}();e.MsEngine=t,__reflect(t.prototype,"mvs.MsEngine")}(mvs||(mvs={}));var mvs;!function(e){var t=function(){function e(){}return e.EVENT_INIT_RSP="MATCHVS_INIT_EVENT",e.EVENT_REGISTERUSER_RSP="MATCHVS_REGISTERUSER_EVENT",e.EVENT_LOGIN_RSP="MATCHVS_LOGIN_EVENT",e.EVENT_JOINROOM_RSP="MATCHVS_JOINROOM_EVENT",e.EVENT_JOINROOM_NTFY="MATCHVS_JOINROOM_NOTIFY_EVENT",e.EVENT_CREATEROOM_RSP="MATCHVS_CREATEROOM_RSP_EVENT",e.EVENT_SENDEVENT_RSP="MATCHVS_SENDEVENT_RSP_EVENT",e.EVENT_SENDEVENT_NTFY="MATCHVS_SENDEVENT_NOTIFY_EVENT",e.EVENT_GAMESERVER_NTFY="MATCHVS_GAMESERVER_NOTIFY_EVENT",e.EVENT_LEAVEROOM_RSP="MATCHVS_LEAVEROOM_RSP_EVENT",e.EVENT_LEAVEROOM_NTFY="MATCHVS_LEAVEROOM_NTFY_EVENT",e.EVENT_JOINOVER_RSP="MATCHVS_JOINOVER_RSP_EVENT",e.EVENT_JOINOVER_NTFY="MATCHVS_LEAVEROOM_EVENT",e.EVENT_JOINOPEN_RSP="MATCHVS_JOINOPEN_RSP_EVENT",e.EVENT_JOINOPEN_NTFY="MATCHVS_JOINOPEN_NTFY_EVENT",e.EVENT_NETWORKSTATE_NTFY="MATCHVS_NETWORKSTATE_NTFY",e.EVENT_SENDFRAME_RSP="MATCHVS_SENDFRAME_RSP_EVENT",e.EVENT_SETFRAMESYNC_RSP="MATCHVS_SETFRAMESYNC_RSP_EVENT",e.EVENT_SETFRAMESYNC_NTFY="MATCHVS_SETFRAMESYNC_NTFY_EVENT",e.EVENT_FRAMEUPDATE="MATCHVS_FRAMEUPDATE_EVENT",e.EVENT_ERROR_RSP="MATCHVS_ERROR_RSP_EVENT",e.EVENT_LOGOUT_RSP="MATCHVS_LOGOUT_RSP_EVENT",e.EVENT_SETROOMPROPERTY_RSP="MATCHVS_SETROOMPROPERTY_RSP_EVENT",e.EVENT_SETROOMPROPERTY_NTFY="MATCHVS_SETROOMPROPERTY_NTFY_EVENT",e.EVENT_KICKPLAYER_RSP="MATCHVS_KICKPLAYER_RSP_EVENT",e.EVENT_KICKPLAYER_NTFY="MATCHVS_KICKPLAYER_NTFY_EVENT",e.EVENT_GETROOMLIST_RSP="MATCHVS_GETROOMLIST_RSP_EVENT",e.EVENT_GETROOMLIST_EX_RSP="MATCHVS_GETROOMLIST_EX_RSP_EVENT",e.EVENT_GETROOMDETAIL_RSP="MATCHVS_GETROOMDETAIL_RSP_EVENT",e.EVENT_RECONNECT_RSP="MATCHVS_RECONNECT_RSP_EVENT",e.EVENT_SETRECONNECTTIMEOUT_RSP="MATCHVS_SETRECONNECTTIMEOUT_RSP_EVENT",e.EVENT_GETOFFLINEDATA_RSP="MATCHVS_GETOFFLINEDATA_RSP_EVENT",e}();e.MsEvent=t,__reflect(t.prototype,"mvs.MsEvent")}(mvs||(mvs={}));var GameSceneView=function(e){function t(){var r=e.call(this)||this;return t._gameScene=r,r.initView(),r}return __extends(t,e),t.prototype.initView=function(){console.log("initView"),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_ERROR_RSP,this.errorResponse,this),this.thisContainer=new egret.Sprite,this.addChild(this.thisContainer),this.login()},t.prototype.errorResponse=function(e){var r=e.data.errCode,s=e.data.errMsg;1001==r&&(""!=s&&s.indexOf("hotel")>=0?t._gameScene.errorView(1,"错误回调：errCode="+r+" errMsg="+s):t._gameScene.errorView(0,"错误回调：errCode="+r+" errMsg="+s))},t.prototype.login=function(){this.removeAll();var e=new Login;this.thisContainer.addChild(e)},t.prototype.lobby=function(){this.removeAll();var e=new Lobby;this.thisContainer.addChild(e)},t.prototype.match=function(e,t){this.removeAll();var r=new MatchUI;r.setJoinParame(e,t),this.thisContainer.addChild(r)},t.prototype.play=function(){this.removeAll();var e=new MultiplayerOnline;this.cuntPage=e,this.thisContainer.addChild(e)},t.prototype.showResult=function(e,t){},t.prototype.showRoomList=function(){this.removeAll();var e=new RoomListUI;this.thisContainer.addChild(e)},t.prototype.tagsMatchView=function(){this.removeAll();var e=new MatchProperty;this.thisContainer.addChild(e)},t.prototype.createRoom=function(e,t){this.removeAll();var r=new MatchUI;r.setJoinParame(MatchUI.JOINFLAG.CREATEROOM),this.thisContainer.addChild(r)},t.prototype.joinRoomSpecial=function(){this.removeAll();var e=new MatchRoomID;this.thisContainer.addChild(e)},t.prototype.reconnectView=function(){this.removeAll();var e=new ReconnectUI;this.thisContainer.addChild(e)},t.prototype.errorView=function(e,t){this.removeAll(),GameData.init();var r=new ErrorNote;r.SetErrorMsg(t),this.thisContainer.addChild(r)},t.prototype.removeAll=function(){this.cuntPage&&this.cuntPage.release&&(console.log("释放"),this.cuntPage.release(),this.cuntPage=null),this.thisContainer.removeChildren()},t}(egret.Sprite);__reflect(GameSceneView.prototype,"GameSceneView");var Button=function(e){function t(t,r,s,o,i){var a=this,h="button_"+t+"_png";return a=e.call(this,RES.getRes(h))||this,a.x=r,a.y=s,a.width=o,a.height=i,a.name=t+r,a}return __extends(t,e),t}(egret.Bitmap);__reflect(Button.prototype,"Button");var DefaultPortrait=function(e){function t(t,r,s,o,i,a){var h=this;"man"!==t&&(t="lady");var n=t+"_"+r+"_png";return h=e.call(this,RES.getRes(n))||this,h.x=s,h.y=o,h.width=i,h.height=a,h.name=r+"",h}return __extends(t,e),t}(egret.Bitmap);__reflect(DefaultPortrait.prototype,"DefaultPortrait");var DrawPoker=function(e){function t(t,r,s,o,i,a){var h=this,n=t.getId()+"_png";return h=a?e.call(this,RES.getRes(n))||this:e.call(this,RES.getRes("drawpoker_png"))||this,h.x=r,h.y=s,h.width=o,h.height=i,h.name=t.getId()+","+t.getOrderValue(),h}return __extends(t,e),t}(egret.Bitmap);__reflect(DrawPoker.prototype,"DrawPoker");var HallLayout=function(e){function t(t,r){var s=e.call(this,RES.getRes("gameHall_jpg"))||this;return s.width=t,s.height=r,s}return __extends(t,e),t}(egret.Bitmap);__reflect(HallLayout.prototype,"HallLayout");var HallMenus=function(e){function t(t,r,s,o,i){var a=e.call(this,RES.getRes(t))||this;return a.x=r,a.y=s,a.width=o,a.height=i,a.name=t+r+"_"+s,a}return __extends(t,e),t}(egret.Bitmap);__reflect(HallMenus.prototype,"HallMenus");var Layout=function(e){function t(t,r){var s=e.call(this,RES.getRes("gameBgImg_png"))||this;return s.width=t,s.height=r,s}return __extends(t,e),t}(egret.Bitmap);__reflect(Layout.prototype,"Layout");var PokerMod=function(e){function t(t,r,s,o,i){var a=this,h=t.getId()+"_png";return a=e.call(this,RES.getRes(h))||this,a.x=r,a.y=s,a.width=o,a.height=i,a.name=t.getId()+","+t.getOrderValue(),a}return __extends(t,e),t}(egret.Bitmap);__reflect(PokerMod.prototype,"PokerMod");var PokerPrompt=function(e){function t(t,r){var s=this,o=RES.getRes("layout_json").poker,i=o.pokerUpMove,a=t.getId()+"_png";return s=e.call(this,RES.getRes(a))||this,r?s.y=0:s.y=i,console.log("name"+s.name),s}return __extends(t,e),t}(egret.Bitmap);__reflect(PokerPrompt.prototype,"PokerPrompt");var ShowText=function(e){function t(t,r,s,o,i){var a=e.call(this)||this;return a.x=r,a.y=s,a.textColor=7833753,a.size=o,a.fontFamily="KaiTi",a.textAlign=egret.HorizontalAlign.CENTER,a.alpha=i,a.text=t,a}return __extends(t,e),t}(egret.TextField);__reflect(ShowText.prototype,"ShowText");var TextTip=function(e){function t(t,r,s,o){var i=e.call(this)||this;return i.x=r,i.y=s,i.textColor=7833753,i.size=o,i.fontFamily="KaiTi",i.textAlign=egret.HorizontalAlign.CENTER,i.text=t,i}return __extends(t,e),t}(egret.TextField);__reflect(TextTip.prototype,"TextTip");var GameHall=function(e){function t(t){var r=e.call(this)||this;r.menuContainer=new HallMenuContainer(r.user,r),r.user=t,r.width=1920,r.height=1080;var s=new HallLayout(r.width,r.height);r.addChild(s);var o=new egret.Shape;return o.graphics.beginFill(10272187,.6),o.graphics.drawRect(0,0,r.width,r.height),o.graphics.endFill(),r.addChild(o),r.show(),r}return __extends(t,e),t.prototype.show=function(){this.menuContainer.name="menuContainer",this.addChild(this.menuContainer)},t.prototype.menuOfflineModeClick=function(){var e=new StandaloneModel(this.user);this.parent.addChild(e),this.parent.removeChild(this),console.log("单机游戏子对象数量："+e.numChildren)},t.prototype.menuClassicModeClick=function(){console.log("menuClassicModeClick"),egret.ImageLoader.crossOrigin="anonymous",this._scene=new GameSceneView,this._scene.graphics.beginFill(0,.3),this._scene.graphics.drawRect(this.x,this.y,this.width,this.height),this._scene.graphics.endFill(),this.parent.addChild(this._scene),this.parent.removeChild(this)},t}(egret.DisplayObjectContainer);__reflect(GameHall.prototype,"GameHall");var MultiplayerOnline=function(e){function t(){var t=e.call(this)||this;return t.user=PokerUtils.getRandomUser(),t.userLeft=PokerUtils.getRandomUser(),t.userTop=PokerUtils.getRandomUser(),t.userRight=PokerUtils.getRandomUser(),t.playerIndex=Math.floor(10*Math.random())+1,t.rightIndex=Math.floor(10*Math.random())+1,t.topIndex=Math.floor(10*Math.random())+1,t.leftIndex=Math.floor(10*Math.random())+1,t.mySeat=1,t.rightSeat=2,t.topSeat=3,t.leftSeat=4,t.playerCamp=!1,t.rightCamp=!1,t.topCamp=!1,t.leftCamp=!1,t.playerCampNumber=-1,t.rightCampNumber=-1,t.topCampNumber=-1,t.leftCampNumber=-1,t.isFirst=!0,t.pokers=PokerUtils.getRandomPokers(),t.pokersPlayer=new Array,t.firstThrowPokerSeat=-1,t.firstOutPokerSeat=-1,t.pokerDrawArray=new Array,t.drawPokerRandom=Math.floor(4*Math.random()+1),t.drawPokerIndex=-1,t.drawPokerId=-1,t.drawPokerValue=-1,t.darkPokerIndex=-1,t.darkPokerId=-1,t.darkPokerValue=-1,t.checkThrowPoker=new Array,t.PlayerThrowPoker=new Array,t.RightThrowPoker=new Array,t.TopThrowPoker=new Array,t.LeftThrowPoker=new Array,t.PlayerReady=!1,t.RightReady=!1,t.TopReady=!1,t.LeftReady=!1,t.isInThere=-1,t.playedPoker=[],t.playedSeatId=-1,t.pokerSelectArray=new Array,t.TopOutPokers=new Array,t.RightOutPokers=new Array,t.LeftOutPokers=new Array,t.moveTimeer=new egret.Timer(100,0),t.userids=[],t.time=20,t.northSeat=-1,t.southSeat=-1,t.westSeat=-1,t.eastSeat=-1,t.northLength=27,t.southLength=27,t.westLength=27,t.eastLength=27,t.northReady=!1,t.southReady=!1,t.westReady=!1,t.eastReady=!1,t.playPokerCount=1,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){GameData.width=this.stage.stageWidth,GameData.height=this.stage.stageHeight,this.startLoad()},t.prototype.startLoad=function(){if(GameData.starPositionX=0,GameData.syncFrame===!0&&GameData.isRoomOwner===!0){var e=mvs.MsEngine.getInstance.setFrameSync(GameData.frameRate);0!==e&&console.log("设置帧同步率失败,错误码:"+e)}GameData.isGameOver=!1,this._gameTime=GameData.playerTime,this._score=0,this._receiveCountValue=0;var t=new Layout(GameData.width,GameData.height);this.addChild(t);var r=new eui.Label;r.textColor=16777215,r.fontFamily="Tahoma",r.text="房间号："+GameData.roomID,r.size=40,r.x=20,r.y=60,this.addChild(r);var s=new eui.Label;s.textColor=16777215,s.fontFamily="Tahoma",s.size=40,s.x=20,s.y=100,this._scoreLabel=s,this.addChild(this._scoreLabel);var o=new eui.Label;o.textColor=16777215,o.fontFamily="Tahoma",o.size=60,o.x=GameData.width/2,o.y=20,o.text="倒计时：20",this._countDownLabel=o,this.addChild(this._countDownLabel),this.initUserScore(),this.addMsResponseListen(),this.runGame()},t.prototype.initUserScore=function(){var e=0;for(e=0;e<GameData.playerUserIds.length;e++)GameData.playerUserIds[e].pValue=0;this.setScoreLabel()},t.prototype.setScoreLabel=function(){for(var e="[我]",t=0;t<GameData.playerUserIds.length;t++)GameData.playerUserIds[t].id!==GameData.gameUser.id&&(e=""),GameData["number"+(t+1)]=GameData.playerUserIds[t].name+": "+GameData.playerUserIds[t].id+">>"+GameData.playerUserIds[t].pValue+e,this._scoreLabel.text=this._scoreLabel.text+GameData["number"+(t+1)]+"\n"},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadGameResource()];case 1:return t.sent(),this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_LOADFINISH,uid:GameData.gameUser.id})),e=new eui.Button,e.name="buttonAction",e.label="点击开始",e.width=400,e.height=100,e.x=960,e.y=540,this._buttonAction=e,this.addChild(this._buttonAction),GameData.gameUser.isOwner||(e.enabled=!1,e.label="等待房主开始游戏"),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonAction,this),[2]}})})},t.prototype.onButtonAction=function(e){this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_GAMESTART}))},t.prototype.sendOnlineEvents=function(e){mvs.MsEngine.getInstance.sendEventEx(0,e,0,this.userids)},t.prototype.sendGameServerEvents=function(e){mvs.MsEngine.getInstance.sendEventEx(1,e,0,[])},t.prototype.loadGameResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return r.sent(),e=new LoadingProgress,this.addChild(e),[4,RES.loadGroup("portraits",4,e)];case 2:return r.sent(),[4,RES.loadGroup("drawpoker",3,e)];case 3:return r.sent(),[4,RES.loadGroup("pokers",2,e)];case 4:return r.sent(),[4,RES.loadGroup("buttons",1,e)];case 5:return r.sent(),this.removeChild(e),[3,7];case 6:return t=r.sent(),console.error(t),[3,7];case 7:return[2]}})})},t.prototype.selectOrder=function(){GameData.gameUser.isOwner&&(this.southSeat=GameData.playerUserIds[0].id,this.eastSeat=GameData.playerUserIds[1].id,this.northSeat=GameData.playerUserIds[2].id,this.westSeat=GameData.playerUserIds[3].id,this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_SELECT_ORDER,east:this.eastSeat,south:this.southSeat,west:this.westSeat,north:this.northSeat})))},t.prototype.createTimer=function(e,t,r,s){void 0===r&&(r=function(e){}),void 0===s&&(s=function(){});var o=new egret.Timer(e,t);o.addEventListener(egret.TimerEvent.TIMER,r,this),o.addEventListener(egret.TimerEvent.TIMER_COMPLETE,s,this),o.start()},t.prototype.frameUpdate=function(e){e.data},t.prototype.networkStateNotify=function(e){e.data},t.prototype.setFrameSyncResponse=function(e){var t=e.data;200==t.mStatus?console.log("设置帧同步率成功"):console.log("设置帧同步率失败")},t.prototype.leaveRoomNotify=function(e){console.log("leaveRoomNotify")},t.prototype.test=function(){var e=this,t=setInterval(function(){e._countDownLabel.text=(e._gameTime--).toString(),0==e._gameTime&&clearInterval(t)},1e3)},t.prototype.sendEventNotify=function(e){var t=e.data,r=JSON.parse(t.cpProto);console.log("json.action:"+r.action),t&&t.cpProto&&t.cpProto.indexOf(OnlineEvent.OE_GAMESTART)>=0&&console.log("LoadingButAction")},t.prototype.gameServerNotify=function(e){var t=e.data;console.log("gameServerNotify");var r=JSON.parse(t.cpProto);if(console.log("json.action:"+r.action+",jsonData:"+JSON.stringify(r)),t&&t.cpProto)if(t.cpProto.indexOf(OnlineEvent.OE_LOADFINISH)>=0){var s=!0;GameData.playerUserIds.forEach(function(e){e.id==r.uid&&(e.loadFinish=!0),e.loadFinish||(s=!1)}),GameData.gameUser.isOwner&&(s?(this._buttonAction.enabled=!0,this._buttonAction.label="点击开始游戏"):(this._buttonAction.enabled=!1,this._buttonAction.label="等待其他成员资源加载完成")),console.log("jsonData.uid"+r.uid)}else if(t.cpProto.indexOf(OnlineEvent.OE_GAMESTART)>=0)console.log("OE_GAMESTART"),null!=this.getChildByName("buttonAction")&&this.removeChild(this.getChildByName("buttonAction")),this.selectOrder();else if(t.cpProto.indexOf(OnlineEvent.OE_SELECT_ORDER)>=0)console.log("OE_SELECT_ORDER"),GameData.gameUser.isOwner||(this.southSeat=r.south,this.eastSeat=r.east,this.northSeat=r.north,this.westSeat=r.west),this._scoreLabel.text+="东："+this.eastSeat+"，西："+this.westSeat+"，南："+this.southSeat+"，北："+this.northSeat,this.user.setName(GameData.gameUser.name),this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_SHOW_DATA,direction:GameData.gameUser.id,data:{name:this.user.getName(),sex:this.user.getSex(),index:this.playerIndex}}));else if(t.cpProto.indexOf(OnlineEvent.OE_SHOW_DATA)>=0)console.log("OE_SHOW_DATA"),this.playerDataUpdate(r);else if(t.cpProto.indexOf(OnlineEvent.OE_SEND_POKERS)>=0)console.log("OE_SEND_POKERS"),this.pokers=PokerUtils.getGameServerPokers(r),this.drawPokerRandom=r.randomDrawer,console.log("jsonData.randomDrawer:"+r.randomDrawer);else if(t.cpProto.indexOf(OnlineEvent.OE_SEND_AGAIN_POKERS)>=0)console.log("OE_SEND_AGAIN_POKERS"),this.pokers=PokerUtils.getGameServerPokers(r);else if(t.cpProto.indexOf(OnlineEvent.OE_SHOW_DRAWER_POKER)>=0){console.log("OE_SHOW_DRAWER_POKER");var o=JSON.parse(JSON.stringify(r.data));this.dealwithDrawerPoker(o)}else t.cpProto.indexOf(OnlineEvent.OE_SHOW_SWITCH_POKER)>=0?(console.log("OE_SHOW_SWITCH_POKER"),this.dealwithSwitchPoker(r)):t.cpProto.indexOf(OnlineEvent.OE_SHOW_THROW_POKER)>=0?(console.log("OE_SHOW_THROW_POKER"),this.dealwithThrowPoker(r)):t.cpProto.indexOf(OnlineEvent.OE_SEARCH_CAMP)>=0?(console.log("OE_SEARCH_CAMP"),this.dealwithSearchCamp(r)):t.cpProto.indexOf(OnlineEvent.OE_SHOW_CAMP)>=0?(console.log("OE_SHOW_CAMP"),this.dealwithShowCamp(r)):t.cpProto.indexOf(OnlineEvent.OE_EXCHANGE_POKER)>=0?(console.log("OE_EXCHANGE_POKER"),this.exchangePoker()):t.cpProto.indexOf(OnlineEvent.OE_FIRST_OUT_POKER)>=0?(console.log("OE_FIRST_OUT_POKER"),this.playedPoker=[],this.playedSeatId=r.direction,GameData.gameUser.id==r.direction&&this.showButtons(RoomManager.ButtonsDiscard)):t.cpProto.indexOf(OnlineEvent.OE_OUT_POKERS)>=0?(console.log("OE_OUT_POKERS"),this.OutPokersCompare(r)):t.cpProto.indexOf(OnlineEvent.OE_IS_GAMEOVER)>=0?(console.log("OE_IS_GAMEOVER"),this.isGameOver(r)):t.cpProto.indexOf(OnlineEvent.OE_GAMEOVER)>=0?(console.log("OE_GAMEOVER"),this.isAgainGame(r)):t.cpProto.indexOf(OnlineEvent.OE_GIVE_OUTPOKERS)>=0?(console.log("OE_GIVE_OUTPOKERS"),this.CampOutPoker(r)):t.cpProto.indexOf(OnlineEvent.OE_READY)>=0&&(console.log("OE_READY"),this.Ready(r))},t.prototype.Ready=function(e){e.direction==this.southSeat?this.southReady=!0:e.direction==this.northSeat?this.northReady=!0:e.direction==this.eastSeat?this.eastReady=!0:e.direction==this.westSeat&&(this.westReady=!0),this.southReady&&this.northReady&&this.eastReady&&this.westReady&&this.returnInit()},t.prototype.returnReady=function(){this.southReady=!1,this.northReady=!1,this.eastReady=!1,this.westReady=!1},t.prototype.buttonChuPai=function(e){if(console.log("开始出牌"),0==this.pokerSelectArray.length)return void console.log("出牌不能为空");if(this.playedSeatId==GameData.gameUser.id||PokerCompareUtils.comparePokers(this.pokerSelectArray,this.playedPoker)){if(null==PokerTypeUtils.getType(this.pokerSelectArray)&&null==PokerTypeUtils.getSpecialType(this.pokerSelectArray))return void console.log("你这选的是啥呀");this.pokersPlayer=PokerUtils.removePokers(this.pokersPlayer,this.pokerSelectArray),console.log("已出牌，剩余牌数",this.pokersPlayer.length),this.playedPoker=PokerUtils.sortDescPokers(this.pokerSelectArray),this.clearButtons();var t=new Array;this.playedPoker.forEach(function(e){t.push(e.getId())}),this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_OUT_POKERS,direction:GameData.gameUser.id,isOut:1,data:{PokersID:t},PokersLength:this.pokersPlayer.length}))}},t.prototype.buttonBuYao=function(e){this.playedSeatId!=GameData.gameUser.id&&(this.clearButtons(),this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_OUT_POKERS,direction:GameData.gameUser.id,isOut:0,data:{PokersID:[]},PokersLength:this.pokersPlayer.length})))},t.prototype.buttonTiShi=function(e){if(this.pokerSelectArray=PokerSeekUtils.autoPromptOnline(this.pokersPlayer,this.playedPoker),console.log("this.pokerSelectArray自动提示的长度："+this.pokerSelectArray.length),0!=this.pokerSelectArray.length)for(var t=0;t<this.pokerSelectArray.length;t++){console.log("自定义起牌数为"+(t+1)+"的id和值:"+this.pokerSelectArray[t].getId()+","+this.pokerSelectArray[t].getOrderValue());var r=StandaloneModel.mypoker.getChildByName(this.pokerSelectArray[t].getId()+","+this.pokerSelectArray[t].getOrderValue());console.log("测试是否获得对象,y值为:"+r.y),r.y=0,console.log("再次测试是否获得对象,y值为:"+r.y)}},t.prototype.isAgainGame=function(e){e.winA==GameData.gameUser.id||e.winB==GameData.gameUser.id?this.showResult(!0):this.showResult(!1)},t.prototype.showResult=function(e){this.clearGameResultShow();var t=new GameResultContainer(e);t.name="result",this.addChild(t),this.showButtons(RoomManager.ButtonsGameOver)},t.prototype.clearGameResultShow=function(){null!=this.getChildByName("result")&&this.removeChild(this.getChildByName("result"))
},t.prototype.isGameOver=function(e){e.direction==this.southSeat?this.southLength=e.length:e.direction==this.eastSeat?this.eastLength=e.length:e.direction==this.northSeat?this.northLength=e.length:e.direction==this.westSeat&&(this.westLength=e.length),0==this.southLength&&0!=this.eastLength&&0!=this.northLength&&0!=this.westLength&&(this.firstOutPokerSeat=1),0==this.eastLength&&0!=this.southLength&&0!=this.northLength&&0!=this.westLength&&(this.firstOutPokerSeat=2),0==this.northLength&&0!=this.eastLength&&0!=this.southLength&&0!=this.westLength&&(this.firstOutPokerSeat=3),0==this.westLength&&0!=this.eastLength&&0!=this.northLength&&0!=this.southLength&&(this.firstOutPokerSeat=4),console.log("优先出牌人座位号是否改变?firstOutPokerSeat:"+this.firstOutPokerSeat),console.log("this.southLength:"+this.southLength+",this.eastLength:"+this.eastLength+",this.northLength:"+this.northLength+",this.westLength:"+this.westLength),console.log("【this.playerCamp:"+this.playerCamp+",this.rightCamp:"+this.rightCamp+",this.topCamp:"+this.topCamp+",this.leftCamp:"+this.leftCamp+"】"),console.log("GameData.gameUser.id:"+GameData.gameUser.id+",this.southSeat:"+this.southSeat+",this.eastSeat:"+this.eastSeat+",this.northSeat:"+this.northSeat+",this.westSeat:"+this.westSeat),this.playerCamp&&this.rightCamp?GameData.gameUser.id==this.southSeat?(0!=this.southLength||0!=this.eastLength||0==this.northLength&&0==this.westLength||this.gameOver(!0,this.southSeat,this.eastSeat),0!=this.northLength||0!=this.westLength||0==this.southLength&&0==this.eastLength||this.gameOver(!0,this.northSeat,this.westSeat)):GameData.gameUser.id==this.eastSeat?(0!=this.eastLength||0!=this.northLength||0==this.southLength&&0==this.westLength||this.gameOver(!0,this.eastSeat,this.northSeat),0!=this.southLength||0!=this.westLength||0==this.northLength&&0==this.eastLength||this.gameOver(!0,this.southSeat,this.westSeat)):GameData.gameUser.id==this.northSeat?(0!=this.westLength||0!=this.northLength||0==this.southLength&&0==this.eastLength||this.gameOver(!0,this.westSeat,this.northSeat),0!=this.southLength||0!=this.eastLength||0==this.northLength&&0==this.westLength||this.gameOver(!0,this.southSeat,this.eastSeat)):GameData.gameUser.id==this.westSeat&&(0!=this.westLength||0!=this.southLength||0==this.northLength&&0==this.eastLength||this.gameOver(!0,this.westSeat,this.southSeat),0!=this.northLength||0!=this.eastLength||0==this.southLength&&0==this.westLength||this.gameOver(!0,this.northSeat,this.eastSeat)):this.playerCamp&&this.topCamp?GameData.gameUser.id==this.southSeat?(0!=this.southLength||0!=this.northLength||0==this.eastLength&&0==this.westLength||this.gameOver(!0,this.southSeat,this.northSeat),0!=this.eastLength||0!=this.westLength||0==this.southLength&&0==this.northLength||this.gameOver(!0,this.eastSeat,this.westSeat)):GameData.gameUser.id==this.eastSeat?(0!=this.eastLength||0!=this.westLength||0==this.southLength&&0==this.northLength||this.gameOver(!0,this.eastSeat,this.westSeat),0!=this.southLength||0!=this.northLength||0==this.westLength&&0==this.eastLength||this.gameOver(!0,this.southSeat,this.northSeat)):GameData.gameUser.id==this.northSeat?(0!=this.southLength||0!=this.northLength||0==this.eastLength&&0==this.westLength||this.gameOver(!0,this.southSeat,this.northSeat),0!=this.eastLength||0!=this.westLength||0==this.southLength&&0==this.northLength||this.gameOver(!0,this.eastSeat,this.westSeat)):GameData.gameUser.id==this.westSeat&&(0!=this.eastLength||0!=this.westLength||0==this.southLength&&0==this.northLength||this.gameOver(!0,this.eastSeat,this.westSeat),0!=this.southLength||0!=this.northLength||0==this.westLength&&0==this.eastLength||this.gameOver(!0,this.southSeat,this.northSeat)):this.playerCamp&&this.leftCamp&&(GameData.gameUser.id==this.southSeat?(0!=this.southLength||0!=this.westLength||0==this.eastLength&&0==this.northLength||this.gameOver(!0,this.southSeat,this.westSeat),0!=this.eastLength||0!=this.northLength||0==this.southLength&&0==this.westLength||this.gameOver(!0,this.eastSeat,this.northSeat)):GameData.gameUser.id==this.eastSeat?(0!=this.eastLength||0!=this.southLength||0==this.westLength&&0==this.northLength||this.gameOver(!0,this.eastSeat,this.southSeat),0!=this.westLength||0!=this.northLength||0==this.southLength&&0==this.eastLength||this.gameOver(!0,this.westSeat,this.northSeat)):GameData.gameUser.id==this.northSeat?(0!=this.eastLength||0!=this.northLength||0==this.southLength&&0==this.westLength||this.gameOver(!0,this.eastSeat,this.northSeat),0!=this.southLength||0!=this.westLength||0==this.eastLength&&0==this.northLength||this.gameOver(!0,this.southSeat,this.westSeat)):GameData.gameUser.id==this.westSeat&&(0!=this.northLength||0!=this.westLength||0==this.southLength&&0==this.eastLength||this.gameOver(!0,this.northSeat,this.westSeat),0!=this.southLength||0!=this.eastLength||0==this.westLength&&0==this.westLength||this.gameOver(!0,this.southSeat,this.eastSeat)))},t.prototype.gameOver=function(e,t,r){e&&this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_GAMEOVER,winA:t,winB:r}))},t.prototype.judgeGameOver=function(){this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_IS_GAMEOVER,direction:GameData.gameUser.id,length:this.pokersPlayer.length}))},t.prototype.OutPokersCompare=function(e){e.direction==this.southSeat?GameData.gameUser.id==this.southSeat?1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.showPokerVertival(this.mySeat),this.showCount(1,this.pokersPlayer.length),this.showPokerPlayer(),this.pokerSelectArray=new Array,this.judgeGameOver()):0==e.isOut&&(console.log("自己出的牌不可能为空"),this.showTextTip(this.mySeat)):GameData.gameUser.id==this.eastSeat?(1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.LeftOutPokers=this.playedPoker,this.showOtherOutPoker(this.leftSeat),this.showCount(this.leftSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.leftSeat),this.clearPokerShow(this.mySeat),0==this.eastLength?this.judgeOutPoker():this.showButtons(RoomManager.ButtonsDiscard)):GameData.gameUser.id==this.northSeat?1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.TopOutPokers=this.playedPoker,this.showOtherOutPoker(this.topSeat),this.showCount(this.topSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.topSeat):GameData.gameUser.id==this.westSeat&&(1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.RightOutPokers=this.playedPoker,this.showOtherOutPoker(this.rightSeat),this.showCount(this.rightSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.rightSeat)):e.direction==this.eastSeat?GameData.gameUser.id==this.eastSeat?1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.showPokerVertival(this.mySeat),this.showCount(this.mySeat,this.pokersPlayer.length),this.showPokerPlayer(),this.pokerSelectArray=new Array,this.judgeGameOver()):0==e.isOut&&(console.log("自己出的牌不可能为空"),this.showTextTip(this.mySeat)):GameData.gameUser.id==this.southSeat?1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.RightOutPokers=this.playedPoker,this.showOtherOutPoker(this.rightSeat),this.showCount(this.rightSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.rightSeat):GameData.gameUser.id==this.northSeat?(1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.LeftOutPokers=this.playedPoker,this.showOtherOutPoker(this.leftSeat),this.showCount(this.leftSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.leftSeat),this.clearPokerShow(this.mySeat),0==this.northLength?this.judgeOutPoker():this.showButtons(RoomManager.ButtonsDiscard)):GameData.gameUser.id==this.westSeat&&(1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.TopOutPokers=this.playedPoker,this.showOtherOutPoker(this.topSeat),this.showCount(this.topSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.topSeat)):e.direction==this.northSeat?GameData.gameUser.id==this.northSeat?1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.showPokerVertival(this.mySeat),this.showCount(this.mySeat,this.pokersPlayer.length),this.showPokerPlayer(),this.pokerSelectArray=new Array,this.judgeGameOver()):0==e.isOut&&(console.log("自己出的牌不可能为空"),this.showTextTip(this.mySeat)):GameData.gameUser.id==this.southSeat?1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.TopOutPokers=this.playedPoker,this.showOtherOutPoker(this.topSeat),this.showCount(this.topSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.topSeat):GameData.gameUser.id==this.eastSeat?1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.RightOutPokers=this.playedPoker,this.showOtherOutPoker(this.rightSeat),this.showCount(this.rightSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.rightSeat):GameData.gameUser.id==this.westSeat&&(1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.LeftOutPokers=this.playedPoker,this.showOtherOutPoker(this.leftSeat),this.showCount(this.leftSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.leftSeat),this.clearPokerShow(this.mySeat),0==this.westLength?this.judgeOutPoker():this.showButtons(RoomManager.ButtonsDiscard)):e.direction==this.westSeat&&(GameData.gameUser.id==this.westSeat?1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.showPokerVertival(this.mySeat),this.showCount(this.mySeat,this.pokersPlayer.length),this.showPokerPlayer(),this.pokerSelectArray=new Array,this.judgeGameOver()):0==e.isOut&&(console.log("自己出的牌不可能为空"),this.showTextTip(this.mySeat)):GameData.gameUser.id==this.southSeat?(1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.LeftOutPokers=this.playedPoker,this.showOtherOutPoker(this.leftSeat),this.showCount(this.leftSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.leftSeat),this.clearPokerShow(this.mySeat),0==this.southLength?this.judgeOutPoker():this.showButtons(RoomManager.ButtonsDiscard)):GameData.gameUser.id==this.eastSeat?1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.TopOutPokers=this.playedPoker,this.showOtherOutPoker(this.topSeat),this.showCount(this.topSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.topSeat):GameData.gameUser.id==this.northSeat&&(1==e.isOut?(this.playedPoker=PokerUtils.getGameServerOutPokers(e),this.playedSeatId=e.direction,this.RightOutPokers=this.playedPoker,this.showOtherOutPoker(this.rightSeat),this.showCount(this.rightSeat,e.PokersLength)):0==e.isOut&&this.showTextTip(this.rightSeat)))},t.prototype.judgeOutPoker=function(){var e=-1,t=-1;this.playedSeatId==GameData.gameUser.id?(e=this.searchCampId(),t=1):(e=this.searchOrderId(),t=0),this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_GIVE_OUTPOKERS,direction:e,isCamp:t}))},t.prototype.CampOutPoker=function(e){e.direction==GameData.gameUser.id&&(1==e.isCamp?this.playedSeatId=GameData.gameUser.id:0==e.isCamp&&console.log("不变，顺序出牌"),this.showButtons(RoomManager.ButtonsDiscard)),0==this.southLength?GameData.gameUser.id==this.eastSeat?this.clearPokerShow(this.leftSeat):GameData.gameUser.id==this.northSeat?this.clearPokerShow(this.topSeat):GameData.gameUser.id==this.westSeat&&this.clearPokerShow(this.rightSeat):0==this.eastLength?GameData.gameUser.id==this.southSeat?this.clearPokerShow(this.rightSeat):GameData.gameUser.id==this.northSeat?this.clearPokerShow(this.leftSeat):GameData.gameUser.id==this.westSeat&&this.clearPokerShow(this.topSeat):0==this.northLength?GameData.gameUser.id==this.southSeat?this.clearPokerShow(this.topSeat):GameData.gameUser.id==this.eastSeat?this.clearPokerShow(this.rightSeat):GameData.gameUser.id==this.westSeat&&this.clearPokerShow(this.leftSeat):0==this.westLength&&(GameData.gameUser.id==this.southSeat?this.clearPokerShow(this.leftSeat):GameData.gameUser.id==this.eastSeat?this.clearPokerShow(this.topSeat):GameData.gameUser.id==this.northSeat&&this.clearPokerShow(this.rightSeat))},t.prototype.searchOrderId=function(){return GameData.gameUser.id==this.southSeat?this.eastSeat:GameData.gameUser.id==this.eastSeat?this.northSeat:GameData.gameUser.id==this.northSeat?this.westSeat:GameData.gameUser.id==this.westSeat?this.southSeat:void 0},t.prototype.searchCampId=function(){if(GameData.gameUser.id==this.southSeat){if(2==this.playerCampNumber)return this.eastSeat;if(3==this.playerCampNumber)return this.northSeat;if(4==this.playerCampNumber)return this.westSeat}else if(GameData.gameUser.id==this.eastSeat){if(2==this.playerCampNumber)return this.northSeat;if(3==this.playerCampNumber)return this.westSeat;if(4==this.playerCampNumber)return this.southSeat}else if(GameData.gameUser.id==this.northSeat){if(2==this.playerCampNumber)return this.westSeat;if(3==this.playerCampNumber)return this.southSeat;if(4==this.playerCampNumber)return this.eastSeat}else if(GameData.gameUser.id==this.westSeat){if(2==this.playerCampNumber)return this.southSeat;if(3==this.playerCampNumber)return this.eastSeat;if(4==this.playerCampNumber)return this.northSeat}},t.prototype.showTextTip=function(e){this.clearPokerShow(e),1==e?(this.textPlayer=new TextOtherContainer(PokerUtils.getRandomTextTip(),1),this.textPlayer.name="textPlayer",this.addChild(this.textPlayer)):2==e?(this.textRight=new TextOtherContainer(PokerUtils.getRandomTextTip(),2),this.textRight.name="textRight",this.addChild(this.textRight)):3==e?(this.textTop=new TextOtherContainer(PokerUtils.getRandomTextTip(),3),this.textTop.name="textTop",this.addChild(this.textTop)):4==e&&(this.textLeft=new TextOtherContainer(PokerUtils.getRandomTextTip(),4),this.textLeft.name="textLeft",this.addChild(this.textLeft))},t.prototype.showPokerPlayer=function(){this.clearPokerShow(this.mySeat),this.playerOutPokers=new PokerPlayerContainer(PokerUtils.sortDescPokers(this.pokerSelectArray)),this.playerOutPokers.name="pokerPlayer",this.addChild(this.playerOutPokers)},t.prototype.showOtherOutPoker=function(e){this.clearPokerShow(e),2==e?(this.rightOutPokers=new PokerOthersContainer(this.RightOutPokers,2),this.rightOutPokers.name="rightOutPokers",this.addChild(this.rightOutPokers)):3==e?(this.topOutPokers=new PokerOthersContainer(this.TopOutPokers,3),this.topOutPokers.name="topOutPokers",this.addChild(this.topOutPokers)):4==e&&(this.leftOutPokers=new PokerOthersContainer(this.LeftOutPokers,4),this.leftOutPokers.name="leftOutPokers",this.addChild(this.leftOutPokers))},t.prototype.clearPokerShow=function(e){1==e&&(null!=this.getChildByName("pokerPlayer")&&this.removeChild(this.getChildByName("pokerPlayer")),null!=this.getChildByName("textPlayer")&&this.removeChild(this.getChildByName("textPlayer"))),2==e&&(null!=this.getChildByName("rightOutPokers")&&this.removeChild(this.getChildByName("rightOutPokers")),null!=this.getChildByName("textRight")&&this.removeChild(this.getChildByName("textRight"))),3==e&&(null!=this.getChildByName("topOutPokers")&&this.removeChild(this.getChildByName("topOutPokers")),null!=this.getChildByName("textTop")&&this.removeChild(this.getChildByName("textTop"))),4==e&&(null!=this.getChildByName("leftOutPokers")&&this.removeChild(this.getChildByName("leftOutPokers")),null!=this.getChildByName("textLeft")&&this.removeChild(this.getChildByName("textLeft")))},t.prototype.dealwithShowCamp=function(e){var t=this;this.playerCamp=!0,1==this.firstThrowPokerSeat?e.direction==this.eastSeat?GameData.gameUser.id==this.southSeat?this.rightCamp=!0:GameData.gameUser.id==this.eastSeat?this.leftCamp=!0:GameData.gameUser.id==this.northSeat?this.rightCamp=!0:GameData.gameUser.id==this.westSeat&&(this.leftCamp=!0):e.direction==this.northSeat?GameData.gameUser.id==this.southSeat?this.topCamp=!0:GameData.gameUser.id==this.eastSeat?this.topCamp=!0:GameData.gameUser.id==this.northSeat?this.topCamp=!0:GameData.gameUser.id==this.westSeat&&(this.topCamp=!0):e.direction==this.westSeat&&(GameData.gameUser.id==this.southSeat?this.leftCamp=!0:GameData.gameUser.id==this.eastSeat?this.rightCamp=!0:GameData.gameUser.id==this.northSeat?this.leftCamp=!0:GameData.gameUser.id==this.westSeat&&(this.rightCamp=!0)):2==this.firstThrowPokerSeat?e.direction==this.southSeat?GameData.gameUser.id==this.southSeat?this.rightCamp=!0:GameData.gameUser.id==this.eastSeat?this.leftCamp=!0:GameData.gameUser.id==this.northSeat?this.rightCamp=!0:GameData.gameUser.id==this.westSeat&&(this.leftCamp=!0):e.direction==this.northSeat?GameData.gameUser.id==this.southSeat?this.leftCamp=!0:GameData.gameUser.id==this.eastSeat?this.rightCamp=!0:GameData.gameUser.id==this.northSeat?this.leftCamp=!0:GameData.gameUser.id==this.westSeat&&(this.rightCamp=!0):e.direction==this.westSeat&&(GameData.gameUser.id==this.southSeat?this.topCamp=!0:GameData.gameUser.id==this.eastSeat?this.topCamp=!0:GameData.gameUser.id==this.northSeat?this.topCamp=!0:GameData.gameUser.id==this.westSeat&&(this.topCamp=!0)):3==this.firstThrowPokerSeat?e.direction==this.southSeat?GameData.gameUser.id==this.southSeat?this.topCamp=!0:GameData.gameUser.id==this.eastSeat?this.topCamp=!0:GameData.gameUser.id==this.northSeat?this.topCamp=!0:GameData.gameUser.id==this.westSeat&&(this.topCamp=!0):e.direction==this.eastSeat?GameData.gameUser.id==this.southSeat?this.leftCamp=!0:GameData.gameUser.id==this.eastSeat?this.rightCamp=!0:GameData.gameUser.id==this.northSeat?this.leftCamp=!0:GameData.gameUser.id==this.westSeat&&(this.rightCamp=!0):e.direction==this.westSeat&&(GameData.gameUser.id==this.southSeat?this.rightCamp=!0:GameData.gameUser.id==this.eastSeat?this.leftCamp=!0:GameData.gameUser.id==this.northSeat?this.rightCamp=!0:GameData.gameUser.id==this.westSeat&&(this.leftCamp=!0)):4==this.firstThrowPokerSeat&&(e.direction==this.southSeat?GameData.gameUser.id==this.southSeat?this.leftCamp=!0:GameData.gameUser.id==this.eastSeat?this.rightCamp=!0:GameData.gameUser.id==this.northSeat?this.leftCamp=!0:GameData.gameUser.id==this.westSeat&&(this.rightCamp=!0):e.direction==this.eastSeat?GameData.gameUser.id==this.southSeat?this.topCamp=!0:GameData.gameUser.id==this.eastSeat?this.topCamp=!0:GameData.gameUser.id==this.northSeat?this.topCamp=!0:GameData.gameUser.id==this.westSeat&&(this.topCamp=!0):e.direction==this.northSeat&&(GameData.gameUser.id==this.southSeat?this.rightCamp=!0:GameData.gameUser.id==this.eastSeat?this.leftCamp=!0:GameData.gameUser.id==this.northSeat?this.rightCamp=!0:GameData.gameUser.id==this.westSeat&&(this.leftCamp=!0))),console.log("【this.playerCamp:"+this.playerCamp+",this.rightCamp:"+this.rightCamp+",this.topCamp:"+this.topCamp+",this.leftCamp:"+this.leftCamp+"】");var r,s=3,o=1,i=setInterval(function(){null!=t.getChildByName("startExchangeText")&&t.removeChild(t.getChildByName("startExchangeText")),r=new ShowText("交换牌中...",660,500,100,o),r.name="startExchangeText",t.addChild(r),o-=.3,0>=s&&(clearInterval(i),null!=t.getChildByName("startExchangeText")&&t.removeChild(t.getChildByName("startExchangeText")),t.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_EXCHANGE_POKER}))),s--},1e3)},t.prototype.exchangePoker=function(){console.log("后来：this.playerCamp:"+this.playerCamp+",this.rightCamp"+this.rightCamp+",this.topCamp"+this.topCamp+",this.leftCamp"+this.leftCamp),this.isFirst=!1,1==this.playerCamp&&1==this.rightCamp&&(GameData.gameUser.id==this.southSeat?1==this.firstThrowPokerSeat||2==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.RightThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker):GameData.gameUser.id==this.eastSeat?2==this.firstThrowPokerSeat||3==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.RightThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker):GameData.gameUser.id==this.northSeat?3==this.firstThrowPokerSeat||4==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.RightThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker):GameData.gameUser.id==this.westSeat&&(4==this.firstThrowPokerSeat||1==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.RightThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker)),this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=2,this.rightCampNumber=1,this.topCampNumber=4,this.leftCampNumber=3),1==this.playerCamp&&1==this.topCamp&&(GameData.gameUser.id==this.southSeat?1==this.firstThrowPokerSeat||3==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.TopThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker):GameData.gameUser.id==this.eastSeat?2==this.firstThrowPokerSeat||4==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.TopThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker):GameData.gameUser.id==this.northSeat?3==this.firstThrowPokerSeat||1==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.TopThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker):GameData.gameUser.id==this.westSeat&&(4==this.firstThrowPokerSeat||2==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.TopThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker)),this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=3,this.rightCampNumber=4,this.topCampNumber=1,this.leftCampNumber=2),1==this.playerCamp&&1==this.leftCamp&&(GameData.gameUser.id==this.southSeat?1==this.firstThrowPokerSeat||4==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.LeftThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker):GameData.gameUser.id==this.eastSeat?2==this.firstThrowPokerSeat||1==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.LeftThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker):GameData.gameUser.id==this.northSeat?3==this.firstThrowPokerSeat||2==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.LeftThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker):GameData.gameUser.id==this.westSeat&&(4==this.firstThrowPokerSeat||3==this.firstThrowPokerSeat?this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.LeftThrowPoker):this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker)),this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=4,this.rightCampNumber=3,this.topCampNumber=2,this.leftCampNumber=1),this.clearAllThrowPoker(),this.refreshAllPoker()},t.prototype.firstOutData=function(){this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_FIRST_OUT_POKER,direction:GameData.gameUser.id}))},t.prototype.refreshAllPoker=function(){this.showPokerVertival(this.mySeat),1==this.firstOutPokerSeat?GameData.gameUser.id==this.southSeat&&this.firstOutData():2==this.firstOutPokerSeat?GameData.gameUser.id==this.eastSeat&&this.firstOutData():3==this.firstOutPokerSeat?GameData.gameUser.id==this.northSeat&&this.firstOutData():4==this.firstOutPokerSeat&&GameData.gameUser.id==this.westSeat&&this.firstOutData()},t.prototype.filterCamp=function(e,t){var r=!0,s=new Array;if(4==Math.abs(e-this.PlayerThrowPoker[0].getId())&&t==this.PlayerThrowPoker[0].getOrderValue()&&(r=!1,s.push(this.PlayerThrowPoker[0].getId()),s.push(this.PlayerThrowPoker[0].getOrderValue())),r)for(var o=0;o<this.pokersPlayer.length;o++)if(4==Math.abs(e-this.pokersPlayer[o].getId())&&t==this.pokersPlayer[o].getOrderValue()){s.push(this.pokersPlayer[o].getId()),s.push(this.pokersPlayer[o].getOrderValue());break}return s},t.prototype.dealwithSearchCamp=function(e){var t=JSON.parse(JSON.stringify(e.data)),r=t.id,s=t.value;console.log("【丢牌人丢的牌的id和value:"+r+","+s+"】");var o=-1,i=-1;if(e.direction==this.southSeat){if(GameData.gameUser.id!=this.southSeat){var a=this.filterCamp(r,s);2==a.length&&(o=a[0],i=a[1])}}else if(e.direction==this.eastSeat){if(GameData.gameUser.id!=this.eastSeat){var a=this.filterCamp(r,s);2==a.length&&(o=a[0],i=a[1])}}else if(e.direction==this.northSeat){if(GameData.gameUser.id!=this.northSeat){var a=this.filterCamp(r,s);2==a.length&&(o=a[0],i=a[1])}}else if(e.direction==this.westSeat&&GameData.gameUser.id!=this.westSeat){var a=this.filterCamp(r,s);2==a.length&&(o=a[0],i=a[1])}console.log("【sendId:"+o+"sendValue:"+i+"】"),-1!=o&&-1!=i&&this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_SHOW_CAMP,direction:GameData.gameUser.id,data:{id:o,value:i}}))},t.prototype.dealwithThrowPoker=function(e){var t=JSON.parse(JSON.stringify(e.data)),r=new Poker(t.id,t.value),s=new Array;s.push(r),1==e.direction?GameData.gameUser.id==this.southSeat?this.PlayerReady=!0:GameData.gameUser.id==this.eastSeat?(this.LeftThrowPoker=s,this.showThrowPoker(this.leftSeat,!1),clearInterval(this.throwPokerLeft),this.clearThrowTimerControl(this.leftSeat),this.LeftReady=!0):GameData.gameUser.id==this.northSeat?(this.TopThrowPoker=s,this.showThrowPoker(this.topSeat,!1),clearInterval(this.throwPokerTop),this.clearThrowTimerControl(this.topSeat),this.TopReady=!0):GameData.gameUser.id==this.westSeat&&(this.RightThrowPoker=s,this.showThrowPoker(this.rightSeat,!1),clearInterval(this.throwPokerRight),this.clearThrowTimerControl(this.rightSeat),this.RightReady=!0):2==e.direction?GameData.gameUser.id==this.southSeat?(this.RightThrowPoker=s,this.showThrowPoker(this.rightSeat,!1),clearInterval(this.throwPokerRight),this.clearThrowTimerControl(this.rightSeat),this.RightReady=!0):GameData.gameUser.id==this.eastSeat?this.PlayerReady=!0:GameData.gameUser.id==this.northSeat?(this.LeftThrowPoker=s,this.showThrowPoker(this.leftSeat,!1),clearInterval(this.throwPokerLeft),this.clearThrowTimerControl(this.leftSeat),this.LeftReady=!0):GameData.gameUser.id==this.westSeat&&(this.TopThrowPoker=s,this.showThrowPoker(this.topSeat,!1),clearInterval(this.throwPokerTop),this.clearThrowTimerControl(this.topSeat),this.TopReady=!0):3==e.direction?GameData.gameUser.id==this.southSeat?(this.TopThrowPoker=s,this.showThrowPoker(this.topSeat,!1),clearInterval(this.throwPokerTop),this.clearThrowTimerControl(this.topSeat),this.TopReady=!0):GameData.gameUser.id==this.eastSeat?(this.RightThrowPoker=s,this.showThrowPoker(this.rightSeat,!1),clearInterval(this.throwPokerRight),this.clearThrowTimerControl(this.rightSeat),this.RightReady=!0):GameData.gameUser.id==this.northSeat?this.PlayerReady=!0:GameData.gameUser.id==this.westSeat&&(this.LeftThrowPoker=s,this.showThrowPoker(this.leftSeat,!1),clearInterval(this.throwPokerLeft),this.clearThrowTimerControl(this.leftSeat),this.LeftReady=!0):4==e.direction&&(GameData.gameUser.id==this.southSeat?(this.LeftThrowPoker=s,this.showThrowPoker(this.leftSeat,!1),clearInterval(this.throwPokerLeft),this.clearThrowTimerControl(this.leftSeat),this.LeftReady=!0):GameData.gameUser.id==this.eastSeat?(this.TopThrowPoker=s,this.showThrowPoker(this.topSeat,!1),clearInterval(this.throwPokerTop),this.clearThrowTimerControl(this.topSeat),this.TopReady=!0):GameData.gameUser.id==this.northSeat?(this.RightThrowPoker=s,this.showThrowPoker(this.rightSeat,!1),clearInterval(this.throwPokerRight),this.clearThrowTimerControl(this.rightSeat),this.RightReady=!0):GameData.gameUser.id==this.westSeat&&(this.PlayerReady=!0)),this.PlayerReady&&this.RightReady&&this.TopReady&&this.LeftReady&&(this.showEvreyoneThrowPoker(),this.PlayerReady=!1,this.RightReady=!1,this.TopReady=!1,this.LeftReady=!1)},t.prototype.showEvreyoneThrowPoker=function(){var e=this;this.clearAllThrowPoker(),this.showThrowPoker(this.mySeat,!0),this.showThrowPoker(this.rightSeat,!0),this.showThrowPoker(this.topSeat,!0),this.showThrowPoker(this.leftSeat,!0);var t=3,r=setInterval(function(){0>=t&&(clearInterval(r),e.searchMyCamp()),t--},1e3)},t.prototype.searchMyCamp=function(){1==this.firstThrowPokerSeat?GameData.gameUser.id==this.southSeat&&this.sendThrowEvent():2==this.firstThrowPokerSeat?GameData.gameUser.id==this.eastSeat&&this.sendThrowEvent():3==this.firstThrowPokerSeat?GameData.gameUser.id==this.northSeat&&this.sendThrowEvent():4==this.firstThrowPokerSeat&&GameData.gameUser.id==this.westSeat&&this.sendThrowEvent()},t.prototype.sendThrowEvent=function(){this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_SEARCH_CAMP,direction:GameData.gameUser.id,data:{id:this.PlayerThrowPoker[0].getId(),value:this.PlayerThrowPoker[0].getOrderValue()}}))},t.prototype.dealwithSwitchPoker=function(e){var t=e.switchIndex;this.clearDrawPokers(),this.drawpoker=new PokerDrawContainer(this,this.pokers,!1,t),this.drawpoker.name="drawpoker",this.addChild(this.drawpoker),this.pokers=this.pokers.slice(t,this.pokers.length).concat(this.pokers.slice(0,t)),this.showDealPokers()},t.prototype.dealwithDrawerPoker=function(e){this.drawPokerIndex=e.index,this.drawPokerId=e.id,this.drawPokerValue=e.value,this.clearDrawPokers(),this.drawpoker=new PokerDrawContainer(this,this.pokers,!1,this.drawPokerIndex),this.drawpoker.name="drawpoker",this.addChild(this.drawpoker),this.pokerDrawArray=new Array,14==this.drawPokerValue||15==this.drawPokerValue?(console.log("judgeDrawer"),this.judgeDrawer()):this.showDealPokers()},t.prototype.showDealPokers=function(){var e=this,t=3,r=setInterval(function(){e.playPokerCount>1?console.log("等待"+t+"秒自动【不显示】切牌完毕"):1==e.playPokerCount&&console.log("等待"+t+"秒自动【显示】抽牌完毕"),t--,0==t&&(clearInterval(r),e.playPokerCount>1?(console.log("等待切牌【显示】结束"),e.dealPokersRestart()):1==e.playPokerCount&&(console.log("等待【显示】结束"),e.dealPokers()))},1e3)},t.prototype.dealPokersRestart=function(){if(1==this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==0&&this.pokersPlayer.push(this.pokers[e]);else if(2==this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==1&&this.pokersPlayer.push(this.pokers[e]);else if(3==this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==2&&this.pokersPlayer.push(this.pokers[e]);else if(4==this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==3&&this.pokersPlayer.push(this.pokers[e]);
this.pokersPlayer=PokerUtils.sortDescPokers(this.pokersPlayer),this.clearDrawPokers(),this.show()},t.prototype.dealPokers=function(){for(var e=0;e<this.pokers.length;e++)4==Math.abs(this.pokers[e].getId()-this.drawPokerId)&&this.pokers[e].getOrderValue()-this.drawPokerValue==0&&(console.log("找到暗牌了"),this.darkPokerIndex=e,this.darkPokerId=this.pokers[e].getId(),this.darkPokerValue=this.drawPokerValue);if(console.log("暗牌---this.darkPokerIndex:"+this.darkPokerIndex+",this.darkPokerId:"+this.darkPokerId+",this.darkPokerValue:"+this.darkPokerValue),1==this.drawPokerRandom){if(this.drawPokerValue%4==1){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=4),this.darkPokerIndex%4==3?this.firstOutPokerSeat=1:this.darkPokerIndex%4==2?this.firstOutPokerSeat=2:this.darkPokerIndex%4==1?this.firstOutPokerSeat=3:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=4);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==0&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==2){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=1),this.darkPokerIndex%4==3?this.firstOutPokerSeat=2:this.darkPokerIndex%4==2?this.firstOutPokerSeat=3:this.darkPokerIndex%4==1?this.firstOutPokerSeat=4:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=1);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==1&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==3){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=2),this.darkPokerIndex%4==3?this.firstOutPokerSeat=3:this.darkPokerIndex%4==2?this.firstOutPokerSeat=4:this.darkPokerIndex%4==1?this.firstOutPokerSeat=1:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=2);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==2&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==0){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=3),this.darkPokerIndex%4==3?this.firstOutPokerSeat=4:this.darkPokerIndex%4==2?this.firstOutPokerSeat=1:this.darkPokerIndex%4==1?this.firstOutPokerSeat=2:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=3);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==3&&this.pokersPlayer.push(this.pokers[e])}}else if(2==this.drawPokerRandom){if(this.drawPokerValue%4==1){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=1),this.darkPokerIndex%4==3?this.firstOutPokerSeat=2:this.darkPokerIndex%4==2?this.firstOutPokerSeat=3:this.darkPokerIndex%4==1?this.firstOutPokerSeat=4:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=1);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==1&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==2){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=2),this.darkPokerIndex%4==3?this.firstOutPokerSeat=3:this.darkPokerIndex%4==2?this.firstOutPokerSeat=4:this.darkPokerIndex%4==1?this.firstOutPokerSeat=1:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=2);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==2&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==3){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=3),this.darkPokerIndex%4==3?this.firstOutPokerSeat=4:this.darkPokerIndex%4==2?this.firstOutPokerSeat=1:this.darkPokerIndex%4==1?this.firstOutPokerSeat=2:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=3);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==3&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==0){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=4),this.darkPokerIndex%4==3?this.firstOutPokerSeat=1:this.darkPokerIndex%4==2?this.firstOutPokerSeat=2:this.darkPokerIndex%4==1?this.firstOutPokerSeat=3:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=4);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==0&&this.pokersPlayer.push(this.pokers[e])}}else if(3==this.drawPokerRandom){if(this.drawPokerValue%4==1){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=2),this.darkPokerIndex%4==3?this.firstOutPokerSeat=3:this.darkPokerIndex%4==2?this.firstOutPokerSeat=4:this.darkPokerIndex%4==1?this.firstOutPokerSeat=1:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=2);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==2&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==2){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=3),this.darkPokerIndex%4==3?this.firstOutPokerSeat=4:this.darkPokerIndex%4==2?this.firstOutPokerSeat=1:this.darkPokerIndex%4==1?this.firstOutPokerSeat=2:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=3);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==3&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==3){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=4),this.darkPokerIndex%4==3?this.firstOutPokerSeat=1:this.darkPokerIndex%4==2?this.firstOutPokerSeat=2:this.darkPokerIndex%4==1?this.firstOutPokerSeat=3:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=4);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==0&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==0){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=1),this.darkPokerIndex%4==3?this.firstOutPokerSeat=2:this.darkPokerIndex%4==2?this.firstOutPokerSeat=3:this.darkPokerIndex%4==1?this.firstOutPokerSeat=4:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=1);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==1&&this.pokersPlayer.push(this.pokers[e])}}else if(4==this.drawPokerRandom)if(this.drawPokerValue%4==1){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=3),this.darkPokerIndex%4==3?this.firstOutPokerSeat=4:this.darkPokerIndex%4==2?this.firstOutPokerSeat=1:this.darkPokerIndex%4==1?this.firstOutPokerSeat=2:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=3);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==3&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==2){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=4),this.darkPokerIndex%4==3?this.firstOutPokerSeat=1:this.darkPokerIndex%4==2?this.firstOutPokerSeat=2:this.darkPokerIndex%4==1?this.firstOutPokerSeat=3:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=4);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==0&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==3){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=1),this.darkPokerIndex%4==3?this.firstOutPokerSeat=2:this.darkPokerIndex%4==2?this.firstOutPokerSeat=3:this.darkPokerIndex%4==1?this.firstOutPokerSeat=4:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=1);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==2&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==1&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==0){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=2),this.darkPokerIndex%4==3?this.firstOutPokerSeat=3:this.darkPokerIndex%4==2?this.firstOutPokerSeat=4:this.darkPokerIndex%4==1?this.firstOutPokerSeat=1:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=2);for(var e=this.pokers.length-1;e>=0;e--)GameData.gameUser.id==this.southSeat?e%4==1&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.eastSeat?e%4==0&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.northSeat?e%4==3&&this.pokersPlayer.push(this.pokers[e]):GameData.gameUser.id==this.westSeat&&e%4==2&&this.pokersPlayer.push(this.pokers[e])}console.log(">>>>>优先丢牌座位号："+this.firstThrowPokerSeat+",>>>>>>>>优先出牌座位号："+this.firstOutPokerSeat),this.pokersPlayer=PokerUtils.sortDescPokers(this.pokersPlayer),this.clearDrawPokers(),this.show()},t.prototype.show=function(){this.showThrowOrOutPokerTitle(),this.initPokers(),this.showCount(this.mySeat,this.pokersPlayer.length),this.showCount(this.rightSeat,this.pokersPlayer.length),this.showCount(this.topSeat,this.pokersPlayer.length),this.showCount(this.leftSeat,this.pokersPlayer.length)},t.prototype.initPokers=function(){var e,t=this,r=new Array,s=0,o=1,i=setInterval(function(){console.log("发牌：",s),r.push(t.pokersPlayer[s]),t.clearPokers(),StandaloneModel.mypoker=new PokerContainer(t,r,StandaloneModel.isLeftHand),StandaloneModel.mypoker.name="mypoker",t.addChild(StandaloneModel.mypoker),t.showCount(t.mySeat,s+1),t.showCount(t.rightSeat,s+1),t.showCount(t.topSeat,s+1),t.showCount(t.leftSeat,s+1),s++,s>=17&&27>s?(null!=t.getChildByName("startThrowText")&&t.removeChild(t.getChildByName("startThrowText")),e=new ShowText("等待丢牌...",580,500,130,o),e.name="startThrowText",t.addChild(e),o-=.1):s>=27&&(clearInterval(i),null!=t.getChildByName("startThrowText")&&t.removeChild(t.getChildByName("startThrowText")),console.log("发牌结束"),t.showAutoThrowPoker())},300)},t.prototype.showAutoThrowPoker=function(){this.clearAllThrowPoker(),this.throwPokerControlForMe(this.mySeat),this.throwPokerControlForRight(this.rightSeat),this.throwPokerControlForTop(this.topSeat),this.throwPokerControlForLeft(this.leftSeat),this.showButtons(RoomManager.ButtonsToThrowAPoker)},t.prototype.buttonDiuPai=function(e){return-1==PokerTypeUtils.isSingle(this.pokerSelectArray)?void console.log("你这选的是啥呀"):this.pokerSelectArray[0].getOrderValue()>13?void console.log("糟糕，选了大小王"):void(1==this.firstThrowPokerSeat&&GameData.gameUser.id==this.southSeat&&this.isThrower()||2==this.firstThrowPokerSeat&&GameData.gameUser.id==this.eastSeat&&this.isThrower()||3==this.firstThrowPokerSeat&&GameData.gameUser.id==this.northSeat&&this.isThrower()||4==this.firstThrowPokerSeat&&GameData.gameUser.id==this.westSeat&&this.isThrower()||(this.clearButtons(),this.PlayerThrowPoker=this.pokerSelectArray,this.showThrowPoker(this.mySeat,!1),this.pokerSelectArray=new Array,this.clearButtons(),console.log("自动丢牌1"),this.pokersPlayer=PokerUtils.removePokers(this.pokersPlayer,this.PlayerThrowPoker),this.showPokerVertival(this.mySeat),clearInterval(this.throwPokerMe),this.clearThrowTimerControl(this.mySeat),this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_SHOW_THROW_POKER,direction:this.judgeMyDirection(),data:{id:this.PlayerThrowPoker[0].getId(),value:this.PlayerThrowPoker[0].getOrderValue()}}))))},t.prototype.isThrower=function(){for(var e=!1,t=0;t<this.pokersPlayer.length;t++)if(4==Math.abs(this.pokerSelectArray[0].getId()-this.pokersPlayer[t].getId())&&this.pokerSelectArray[0].getOrderValue()==this.pokersPlayer[t].getOrderValue()){e=!0;break}return e},t.prototype.showThrowPoker=function(e,t){1==e?(this.playerThrowPoker=new PokerThrowContainer(e,this.PlayerThrowPoker,t),this.playerThrowPoker.name="playerThrowPoker",this.addChild(this.playerThrowPoker)):2==e?(this.rightThrowPoker=new PokerThrowContainer(e,this.RightThrowPoker,t),this.rightThrowPoker.name="rightThrowPoker",this.addChild(this.rightThrowPoker)):3==e?(this.topThrowPoker=new PokerThrowContainer(e,this.TopThrowPoker,t),this.topThrowPoker.name="topThrowPoker",this.addChild(this.topThrowPoker)):4==e&&(this.leftThrowPoker=new PokerThrowContainer(e,this.LeftThrowPoker,t),this.leftThrowPoker.name="leftThrowPoker",this.addChild(this.leftThrowPoker))},t.prototype.showPokerVertival=function(e){this.clearPokerVertical(e),1==e&&(StandaloneModel.mypoker=new PokerContainer(this,this.pokersPlayer,StandaloneModel.isLeftHand),StandaloneModel.mypoker.name="mypoker",this.addChild(StandaloneModel.mypoker))},t.prototype.clearPokerVertical=function(e){1==e&&null!=this.getChildByName("mypoker")&&this.removeChild(this.getChildByName("mypoker")),2==e&&null!=this.getChildByName("showRight")&&this.removeChild(this.getChildByName("showRight")),3==e&&null!=this.getChildByName("showTop")&&this.removeChild(this.getChildByName("showTop")),4==e&&null!=this.getChildByName("showLeft")&&this.removeChild(this.getChildByName("showLeft"))},t.prototype.throwPokerControlForMe=function(e){var t=this,r=10;this.throwPokerMe=setInterval(function(){t.showThrowTimer(r,e),r--,0>r&&clearInterval(t.throwPokerMe)},1e3)},t.prototype.throwPokerControlForRight=function(e){var t=this,r=10;this.throwPokerRight=setInterval(function(){t.showThrowTimer(r,e),r--,0>r&&clearInterval(t.throwPokerRight)},1e3)},t.prototype.throwPokerControlForTop=function(e){var t=this,r=10;this.throwPokerTop=setInterval(function(){t.showThrowTimer(r,e),r--,0>r&&clearInterval(t.throwPokerTop)},1e3)},t.prototype.throwPokerControlForLeft=function(e){var t=this,r=10;this.throwPokerLeft=setInterval(function(){t.showThrowTimer(r,e),r--,0>r&&clearInterval(t.throwPokerLeft)},1e3)},t.prototype.showThrowTimer=function(e,t){if(this.clearThrowTimerControl(t),1==t){var r=new OtherThrowTimer(e+"",t);r.name="playerThrowTimer",this.addChild(r)}else if(2==t){var s=new OtherThrowTimer(e+"",t);s.name="rightThrowTimer",this.addChild(s)}else if(3==t){var o=new OtherThrowTimer(e+"",t);o.name="topThrowTimer",this.addChild(o)}else if(4==t){var i=new OtherThrowTimer(e+"",t);i.name="leftThrowTimer",this.addChild(i)}},t.prototype.clearThrowTimerControl=function(e){1==e?null!=this.getChildByName("playerThrowTimer")&&this.removeChild(this.getChildByName("playerThrowTimer")):2==e?null!=this.getChildByName("rightThrowTimer")&&this.removeChild(this.getChildByName("rightThrowTimer")):3==e?null!=this.getChildByName("topThrowTimer")&&this.removeChild(this.getChildByName("topThrowTimer")):4==e&&null!=this.getChildByName("leftThrowTimer")&&this.removeChild(this.getChildByName("leftThrowTimer"))},t.prototype.clearAllThrowPoker=function(){null!=this.getChildByName("playerThrowPoker")&&this.removeChild(this.getChildByName("playerThrowPoker")),null!=this.getChildByName("rightThrowPoker")&&this.removeChild(this.getChildByName("rightThrowPoker")),null!=this.getChildByName("topThrowPoker")&&this.removeChild(this.getChildByName("topThrowPoker")),null!=this.getChildByName("leftThrowPoker")&&this.removeChild(this.getChildByName("leftThrowPoker"))},t.prototype.showCount=function(e,t){this.clearCount(e),1==e?(this.playerCount=new OtherPokerCountContains(t,1),this.playerCount.name="playerCount",this.addChild(this.playerCount)):2==e?(this.rightCount=new OtherPokerCountContains(t,2),this.rightCount.name="rightCount",this.addChild(this.rightCount)):3==e?(this.topCount=new OtherPokerCountContains(t,3),this.topCount.name="topCount",this.addChild(this.topCount)):4==e&&(this.leftCount=new OtherPokerCountContains(t,4),this.leftCount.name="leftCount",this.addChild(this.leftCount))},t.prototype.clearCount=function(e){1==e?null!=this.getChildByName("playerCount")&&this.removeChild(this.getChildByName("playerCount")):2==e?null!=this.getChildByName("rightCount")&&this.removeChild(this.getChildByName("rightCount")):3==e?null!=this.getChildByName("topCount")&&this.removeChild(this.getChildByName("topCount")):4==e&&null!=this.getChildByName("leftCount")&&this.removeChild(this.getChildByName("leftCount"))},t.prototype.clearPokers=function(){null!=this.getChildByName("mypoker")&&this.removeChild(this.getChildByName("mypoker"))},t.prototype.showThrowOrOutPokerTitle=function(){this.cleatFirstTitle();var e=this.filterThrowAndOueTitle(this.firstThrowPokerSeat);console.log("显示丢牌出牌头衔"),this.fistThrowTitle=new FirstThrowTitleContainer(e),this.fistThrowTitle.name="fistThrowTitle",this.addChild(this.fistThrowTitle);var t=this.filterThrowAndOueTitle(this.firstOutPokerSeat);this.fistOutTitle=new FirstOutTitleContainer(t),this.fistOutTitle.name="fistOutTitle",this.addChild(this.fistOutTitle)},t.prototype.filterThrowAndOueTitle=function(e){var t=-1;return 1==e?GameData.gameUser.id==this.southSeat?t=1:GameData.gameUser.id==this.eastSeat?t=4:GameData.gameUser.id==this.northSeat?t=3:GameData.gameUser.id==this.westSeat&&(t=2):2==e?GameData.gameUser.id==this.southSeat?t=2:GameData.gameUser.id==this.eastSeat?t=1:GameData.gameUser.id==this.northSeat?t=4:GameData.gameUser.id==this.westSeat&&(t=3):3==e?GameData.gameUser.id==this.southSeat?t=3:GameData.gameUser.id==this.eastSeat?t=2:GameData.gameUser.id==this.northSeat?t=1:GameData.gameUser.id==this.westSeat&&(t=4):4==e&&(GameData.gameUser.id==this.southSeat?t=4:GameData.gameUser.id==this.eastSeat?t=3:GameData.gameUser.id==this.northSeat?t=2:GameData.gameUser.id==this.westSeat&&(t=1)),t},t.prototype.cleatFirstTitle=function(){null!=this.getChildByName("fistThrowTitle")&&this.removeChild(this.getChildByName("fistThrowTitle")),null!=this.getChildByName("fistOutTitle")&&this.removeChild(this.getChildByName("fistOutTitle"))},t.prototype.playerDataUpdate=function(e){var t=JSON.parse(JSON.stringify(e.data));GameData.gameUser.id==this.southSeat?e.direction==this.southSeat?(this.user.setName(t.name),this.user.setSex(t.sex),this.playerIndex=t.index):e.direction==this.eastSeat?(this.userRight.setName(t.name),this.userRight.setSex(t.sex),this.rightIndex=t.index):e.direction==this.northSeat?(this.userTop.setName(t.name),this.userTop.setSex(t.sex),this.topIndex=t.index):e.direction==this.westSeat&&(this.userLeft.setName(t.name),this.userLeft.setSex(t.sex),this.leftIndex=t.index):GameData.gameUser.id==this.eastSeat?e.direction==this.southSeat?(this.userLeft.setName(t.name),this.userLeft.setSex(t.sex),this.leftIndex=t.index):e.direction==this.eastSeat?(this.user.setName(t.name),this.user.setSex(t.sex),this.playerIndex=t.index):e.direction==this.northSeat?(this.userRight.setName(t.name),this.userRight.setSex(t.sex),this.rightIndex=t.index):e.direction==this.westSeat&&(this.userTop.setName(t.name),this.userTop.setSex(t.sex),this.topIndex=t.index):GameData.gameUser.id==this.northSeat?e.direction==this.southSeat?(this.userTop.setName(t.name),this.userTop.setSex(t.sex),this.topIndex=t.index):e.direction==this.eastSeat?(this.userLeft.setName(t.name),this.userLeft.setSex(t.sex),this.leftIndex=t.index):e.direction==this.northSeat?(this.user.setName(t.name),this.user.setSex(t.sex),this.playerIndex=t.index):e.direction==this.westSeat&&(this.userRight.setName(t.name),this.userRight.setSex(t.sex),this.rightIndex=t.index):GameData.gameUser.id==this.westSeat&&(e.direction==this.southSeat?(this.userRight.setName(t.name),this.userRight.setSex(t.sex),this.rightIndex=t.index):e.direction==this.eastSeat?(this.userTop.setName(t.name),this.userTop.setSex(t.sex),this.topIndex=t.index):e.direction==this.northSeat?(this.userLeft.setName(t.name),this.userLeft.setSex(t.sex),this.leftIndex=t.index):e.direction==this.westSeat&&(this.user.setName(t.name),this.user.setSex(t.sex),this.playerIndex=t.index)),this.showPortraits(),this.LoadingButAction()},t.prototype.LoadingButAction=function(){var e=new Button("gamesetting",1830,40,50,50);this.addChild(e),e.touchEnabled=!0,e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSetButtonClick,this),console.log("游戏开始"),this.init()},t.prototype.init=function(){var e=this;console.log("显示优先丢牌和出牌人："+this.firstThrowPokerSeat+","+this.firstOutPokerSeat);var t,r=1,s=3,o=setInterval(function(){s--,null!=e.getChildByName("startGameText")&&e.removeChild(e.getChildByName("startGameText")),t=new ShowText("第"+e.playPokerCount+"回合，开始！",600,420,130,r),t.name="startGameText",e.addChild(t),r-=.3,0==s&&(clearInterval(o),null!=e.getChildByName("startGameText")&&e.removeChild(e.getChildByName("startGameText")),e.drawPoker())},1e3)},t.prototype.drawPoker=function(){var e=this;this.showPortraits();var t=new Array,r=0,s=setInterval(function(){t.push(e.pokers[r]),e.clearDrawPokers(),e.drawpoker=new PokerDrawContainer(e,t,!1,-1),e.drawpoker.name="drawpoker",e.addChild(e.drawpoker),r++,r>=108&&(clearInterval(s),1==e.playPokerCount?e.judgeDrawer():e.playPokerCount>1&&(console.log("结束显示要切的牌和显示确认切牌"),e.judgeSwitch()))},80)},t.prototype.judgeSwitch=function(){1==this.firstOutPokerSeat?GameData.gameUser.id==this.southSeat&&this.showButtons(RoomManager.ButtonsToSwitchAPoker):2==this.firstOutPokerSeat?GameData.gameUser.id==this.eastSeat&&this.showButtons(RoomManager.ButtonsToSwitchAPoker):3==this.firstOutPokerSeat?GameData.gameUser.id==this.northSeat&&this.showButtons(RoomManager.ButtonsToSwitchAPoker):4==this.firstOutPokerSeat&&GameData.gameUser.id==this.westSeat&&this.showButtons(RoomManager.ButtonsToSwitchAPoker)},t.prototype.judgeDrawer=function(){console.log("结束显示要抽的牌和显示确认抽牌"),1==this.drawPokerRandom?GameData.gameUser.id==this.southSeat&&this.showButtons(RoomManager.ButtonsToDrawAPoker):2==this.drawPokerRandom?GameData.gameUser.id==this.eastSeat&&this.showButtons(RoomManager.ButtonsToDrawAPoker):3==this.drawPokerRandom?GameData.gameUser.id==this.northSeat&&this.showButtons(RoomManager.ButtonsToDrawAPoker):4==this.drawPokerRandom&&GameData.gameUser.id==this.westSeat&&this.showButtons(RoomManager.ButtonsToDrawAPoker)},t.prototype.judgeMyDirection=function(){return GameData.gameUser.id==this.southSeat?1:GameData.gameUser.id==this.eastSeat?2:GameData.gameUser.id==this.northSeat?3:GameData.gameUser.id==this.westSeat?4:void 0},t.prototype.buttonChouPai=function(e){this.clearButtons(),console.log("测试自己抽牌的BUG--this.pokerDrawArray.length:"+this.pokerDrawArray.length+",id:"+this.pokerDrawArray[0].getId());for(var t=0;t<this.pokers.length;t++)if(this.pokers[t].getId()==this.pokerDrawArray[0].getId()){this.drawPokerIndex=t,this.drawPokerId=this.pokerDrawArray[0].getId(),this.drawPokerValue=this.pokerDrawArray[0].getOrderValue(),console.log("index:"+this.drawPokerIndex+",id:"+this.drawPokerId+",value:"+this.drawPokerValue);break}this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_SHOW_DRAWER_POKER,data:{index:this.drawPokerIndex,id:this.drawPokerId,value:this.drawPokerValue}}))},t.prototype.buttonQiePai=function(e){this.clearButtons();for(var t=-1,r=0;r<this.pokers.length;r++)if(this.pokers[r].getId()==this.pokerDrawArray[0].getId()){t=r;break}this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_SHOW_SWITCH_POKER,switchIndex:t}))},t.prototype.showPortraits=function(){this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(this.rightSeat,this.isFirst,this.rightCamp),this.showOtherPortrait(this.topSeat,this.isFirst,this.topCamp),this.showOtherPortrait(this.leftSeat,this.isFirst,this.leftCamp)},t.prototype.showPortrait=function(e,t){this.clearPortrait(),this.portraitPlayer=new PortraitContainer(this.user,this.playerIndex,e,t),this.portraitPlayer.name="portraitPlayer",this.addChild(this.portraitPlayer)},t.prototype.clearDrawPokers=function(){null!=this.getChildByName("drawpoker")&&this.removeChild(this.getChildByName("drawpoker"))},t.prototype.clearPortrait=function(){null!=this.getChildByName("portraitPlayer")&&this.removeChild(this.getChildByName("portraitPlayer"))},t.prototype.showOtherPortrait=function(e,t,r){this.clearOtherPortrait(e),3==e?(this.portraitTop=new PortraitOtherContainer(this.userTop,this.topIndex,t,r,3),this.portraitTop.name="portraitTop",this.addChild(this.portraitTop)):2==e?(this.portraitRight=new PortraitOtherContainer(this.userRight,this.rightIndex,t,r,2),this.portraitRight.name="portraitRight",this.addChild(this.portraitRight)):4==e&&(this.portraitLeft=new PortraitOtherContainer(this.userLeft,this.leftIndex,t,r,4),this.portraitLeft.name="portraitLeft",this.addChild(this.portraitLeft))},t.prototype.clearOtherPortrait=function(e){3==e?null!=this.getChildByName("portraitTop")&&this.removeChild(this.getChildByName("portraitTop")):2==e?null!=this.getChildByName("portraitRight")&&this.removeChild(this.getChildByName("portraitRight")):4==e&&null!=this.getChildByName("portraitLeft")&&this.removeChild(this.getChildByName("portraitLeft"))},t.prototype.drawPokerClickUp=function(e){var t=RES.getRes("layout_json").poker,r=t.pokerDrawUpMove;null!=this.draggedUp&&0==this.draggedUp.y&&(this.draggedUp.y=r,this.pokerDrawArray=new Array),null!=this.draggedDown&&this.draggedDown.y==t.pokerDrawAddy&&(this.draggedDown.y=r+t.pokerDrawAddy,this.pokerDrawArray=new Array);var s=e.currentTarget;this.draggedUp=e.currentTarget;var o=parseInt(s.name.split(",")[0]),i=parseInt(s.name.split(",")[1]);if(s.y==r)s.y=0,this.pokerDrawArray.push(new Poker(o,i)),console.log("上:选中的牌为："+o+","+i+","+this.pokerDrawArray.length);else{s.y=r;var a=new Poker(o,i);console.log("上poker:"+a.toString()+"|array:"+this.pokerDrawArray),this.pokerDrawArray=PokerUtils.removePokers(this.pokerDrawArray,[a]),console.log("上removedArray:"+this.pokerDrawArray)}},t.prototype.drawPokerClickDown=function(e){var t=RES.getRes("layout_json").poker,r=t.pokerDrawUpMove;null!=this.draggedDown&&this.draggedDown.y==t.pokerDrawAddy&&(this.draggedDown.y=r+t.pokerDrawAddy,this.pokerDrawArray=new Array),null!=this.draggedUp&&0==this.draggedUp.y&&(this.draggedUp.y=r,this.pokerDrawArray=new Array);var s=e.currentTarget;this.draggedDown=e.currentTarget;var o=parseInt(s.name.split(",")[0]),i=parseInt(s.name.split(",")[1]);if(s.y==r+t.pokerDrawAddy)s.y=t.pokerDrawAddy,this.pokerDrawArray.push(new Poker(o,i)),console.log("下:选中的牌为："+o+","+i+","+this.pokerDrawArray.length);else{s.y=r+t.pokerDrawAddy;var a=new Poker(o,i);console.log("下poker:"+a.toString()+"|array:"+this.pokerDrawArray),this.pokerDrawArray=PokerUtils.removePokers(this.pokerDrawArray,[a]),console.log("下removedArray:"+this.pokerDrawArray)}},t.prototype.pokerClick=function(e){var t=RES.getRes("layout_json").poker,r=t.pokerUpMove,s=e.currentTarget;console.log("不是自定义draggedObject:"+s.name);var o=parseInt(s.name.split(",")[0]),i=parseInt(s.name.split(",")[1]);if(s.y==r)s.y=0,this.pokerSelectArray.push(new Poker(o,i)),console.log("this.pokerSelectArray接替出牌添加测试长度："+this.pokerSelectArray.length);else{s.y=r;var a=new Poker(o,i);console.log("poker",a.toString(),"array",this.pokerSelectArray),this.pokerSelectArray=PokerUtils.removePokers(this.pokerSelectArray,[a]),console.log("removedArray",this.pokerSelectArray)}},t.prototype.buttonRestart=function(){this.clearGameResultShow(),this.clearButtons(),this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_READY,direction:GameData.gameUser.id}))
},t.prototype.returnInit=function(){this.returnReady(),this.pokersPlayer=new Array,this.clearPokerVertical(this.mySeat),this.clearPokerShow(1),this.clearPokerShow(2),this.clearPokerShow(3),this.clearPokerShow(4),this.pokerSelectArray=new Array,this.TopOutPokers=new Array,this.RightOutPokers=new Array,this.LeftOutPokers=new Array,this.PlayerThrowPoker=new Array,this.RightThrowPoker=new Array,this.TopThrowPoker=new Array,this.LeftThrowPoker=new Array,this.clearCount(1),this.clearCount(2),this.clearCount(3),this.clearCount(4),this.clearCamp(),this.cleatFirstTitle(),this.playPokerCount++,this.pokerDrawArray=new Array,1==this.firstThrowPokerSeat?this.firstThrowPokerSeat=2:2==this.firstThrowPokerSeat?this.firstThrowPokerSeat=3:3==this.firstThrowPokerSeat?this.firstThrowPokerSeat=4:4==this.firstThrowPokerSeat&&(this.firstThrowPokerSeat=1),this.sendGameServerEvents(JSON.stringify({action:OnlineEvent.OE_AGAINGAME})),console.log("再次开始游戏"),this.init()},t.prototype.buttonGameOver=function(){this.clearGameResultShow(),console.log("返回大厅");var e=new GameHall(this.user);e.name="gameHall",this.parent.addChild(e),this.parent.removeChild(this)},t.prototype.clearCamp=function(){this.isFirst=!0,this.playerCamp=!1,this.rightCamp=!1,this.topCamp=!1,this.leftCamp=!1},t.prototype.showButtons=function(e){this.clearButtons(),this.buttons=new PlayerButtonContainer(this,e),this.buttons.name="buttons",this.addChild(this.buttons)},t.prototype.clearButtons=function(){null!=this.getChildByName("buttons")&&this.removeChild(this.getChildByName("buttons"))},t.prototype.addMsResponseListen=function(){mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_SENDEVENT_NTFY,this.sendEventNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_LEAVEROOM_NTFY,this.leaveRoomNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_NETWORKSTATE_NTFY,this.networkStateNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_SETFRAMESYNC_RSP,this.setFrameSyncResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_FRAMEUPDATE,this.frameUpdate,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_GAMESERVER_NTFY,this.gameServerNotify,this)},t.prototype.release=function(){mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_SENDEVENT_NTFY,this.sendEventNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_LEAVEROOM_NTFY,this.leaveRoomNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_NETWORKSTATE_NTFY,this.networkStateNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_SETFRAMESYNC_RSP,this.setFrameSyncResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_FRAMEUPDATE,this.frameUpdate,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_GAMESERVER_NTFY,this.frameUpdate,this)},t.prototype.onSetButtonClick=function(e){console.log("tt"),null!=this.getChildByName("gameSettingPannel")&&this.removeChild(this.getChildByName("gameSettingPannel"));var t=new GameSettingPannel;t.setMyPokers(this.pokersPlayer),t.x=735,t.y=425,this.addChild(t)},t}(egret.DisplayObjectContainer);__reflect(MultiplayerOnline.prototype,"MultiplayerOnline");var StandaloneModel=function(e){function t(t){var r=e.call(this)||this;r.isDevelop=!1,r.developButtonCount=1,r.isTakeOverRightPoker=!1,r.isTakeOverTopPoker=!1,r.isTakeOverLeftPoker=!1,r.pokerDrawArray=new Array,r.drawPokerIndex=-1,r.drawPokerId=-1,r.drawPokerValue=-1,r.darkPokerIndex=-1,r.darkPokerId=-1,r.darkPokerValue=-1,r.drawPokerRandom=Math.floor(4*Math.random()+1),r.playerIndex=Math.floor(10*Math.random())+1,r.rightIndex=Math.floor(10*Math.random())+1,r.topIndex=Math.floor(10*Math.random())+1,r.leftIndex=Math.floor(10*Math.random())+1,r.isFirst=!0,r.currentPokerNull=-1,r.userLeft=PokerUtils.getRandomUser(),r.userTop=PokerUtils.getRandomUser(),r.userRight=PokerUtils.getRandomUser(),r.pokers=PokerUtils.getRandomPokers(),r.pokersPlayer=new Array,r.pokersRight=new Array,r.pokersTop=new Array,r.pokersLeft=new Array,r.checkThrowPoker=new Array,r.PlayerThrowPoker=new Array,r.RightThrowPoker=new Array,r.TopThrowPoker=new Array,r.LeftThrowPoker=new Array,r.playerCamp=!1,r.rightCamp=!1,r.topCamp=!1,r.leftCamp=!1,r.playerCampNumber=-1,r.rightCampNumber=-1,r.topCampNumber=-1,r.leftCampNumber=-1,r.imBuYao=!1,r.pokerSelectArray=new Array,r.TopOutPokers=new Array,r.RightOutPokers=new Array,r.LeftOutPokers=new Array,r.waitTimeindex=5,r.waitTimefrequency=1e3,r.mySeat=1,r.rightSeat=2,r.topSeat=3,r.leftSeat=4,r.firstThrowPokerSeat=-1,r.firstOutPokerSeat=-1,r.outPokersSeat=-1,r.timer=new egret.Timer(500,0),r.playedPoker=[],r.playedSeat=-1,r.playPokerCount=1,r.user=t,r.layout=RES.getRes("layout_json").layout;var s=new Layout(r.layout.stageWidth,r.layout.stageHeight);r.addChild(s);var o=new TextTip("返回",10,10,66);return o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,r.buttonGameOver,r),r.addChild(o),r.runGame(),r}return __extends(t,e),t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadGameResource()];case 1:return t.sent(),e=new eui.Button,e.name="buttonAction",e.label="点击开始",e.x=960,e.y=540,this.addChild(e),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonAction,this),[2]}})})},t.prototype.loadGameResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return r.sent(),e=new LoadingProgress,this.addChild(e),[4,RES.loadGroup("portraits",4,e)];case 2:return r.sent(),[4,RES.loadGroup("drawpoker",3,e)];case 3:return r.sent(),[4,RES.loadGroup("pokers",2,e)];case 4:return r.sent(),[4,RES.loadGroup("buttons",1,e)];case 5:return r.sent(),this.removeChild(e),[3,7];case 6:return t=r.sent(),console.error(t),[3,7];case 7:return[2]}})})},t.prototype.onButtonAction=function(e){null!=this.getChildByName("buttonAction")&&this.removeChild(this.getChildByName("buttonAction")),this.LoadingButAction()},t.prototype.LoadingButAction=function(){var e=new eui.Button;e.label="开发者模式",e.x=1680,e.y=40,this.addChild(e),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buttonGameTest,this);var t=new Button("gamesetting",1830,40,50,50);this.addChild(t),t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSetButtonClick,this),this.init()},t.prototype.init=function(){var e=this;console.log("显示优先丢牌和出牌人："+this.firstThrowPokerSeat+","+this.firstOutPokerSeat);var t,r=1;this.createTimer(100,20,function(){null!=e.getChildByName("startGameText")&&e.removeChild(e.getChildByName("startGameText")),t=new ShowText("第"+e.playPokerCount+"回合，开始！",600,420,130,r),t.name="startGameText",e.addChild(t),r-=.05},function(){null!=e.getChildByName("startGameText")&&e.removeChild(e.getChildByName("startGameText")),console.log("测试进程"),e.drawPoker()})},t.prototype.drawPoker=function(){var e=this;this.showPortraits();var t=108,r=new Array,s=0;this.createTimer(80,t,function(){1==e.playPokerCount?console.log("显示要抽的牌：",s):e.playPokerCount>1&&console.log("显示要切的牌：",s),r.push(e.pokers[s]),e.clearDrawPokers(),e.drawpoker=new PokerDrawContainer(e,r,!1,-1),e.drawpoker.name="drawpoker",e.addChild(e.drawpoker),s++},function(){1==e.playPokerCount?(console.log("结束显示要抽的牌和显示确认抽牌"),1==e.drawPokerRandom?e.showButtons(RoomManager.ButtonsToDrawAPoker):e.autoDrawPoker()):e.playPokerCount>1&&(console.log("结束显示要切的牌和显示确认切牌"),1==e.firstThrowPokerSeat?e.showButtons(RoomManager.ButtonsToSwitchAPoker):e.autoSwitchPoker())})},t.prototype.showPortraits=function(){this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(this.rightSeat,this.isFirst,this.rightCamp),this.showOtherPortrait(this.topSeat,this.isFirst,this.topCamp),this.showOtherPortrait(this.leftSeat,this.isFirst,this.leftCamp)},t.prototype.buttonChouPai=function(e){this.clearButtons(),console.log("测试自己抽牌的BUG--this.pokerDrawArray.length:"+this.pokerDrawArray.length+",id:"+this.pokerDrawArray[0].getId());for(var t=0;t<this.pokers.length;t++)if(this.pokers[t].getId()==this.pokerDrawArray[0].getId()){this.clearDrawPokers(),this.drawpoker=new PokerDrawContainer(this,this.pokers,!1,t),this.drawpoker.name="drawpoker",this.addChild(this.drawpoker),this.drawPokerIndex=t,this.drawPokerId=this.pokerDrawArray[0].getId(),this.drawPokerValue=this.pokerDrawArray[0].getOrderValue(),console.log("index:"+this.drawPokerIndex+",id:"+this.drawPokerId+",value:"+this.drawPokerValue),this.pokerDrawArray=new Array;break}14==this.drawPokerValue||15==this.drawPokerValue?this.showButtons(RoomManager.ButtonsToDrawAPoker):this.showDealPokers()},t.prototype.autoDrawPoker=function(){var e,t=this,r=60,s=1;this.createTimer(30,r,function(){null!=t.getChildByName("startDrawText")&&t.removeChild(t.getChildByName("startDrawText")),e=new ShowText(t.drawPokerRandom+"号AI玩家开始自动抽牌中",400,800,100,s),e.name="startDrawText",t.addChild(e),s-=.05},function(){null!=t.getChildByName("startDrawText")&&t.removeChild(t.getChildByName("startDrawText")),console.log("等待"+t.drawPokerRandom+"号AI玩家自动抽牌结束"),t.doAutoDrawPoker()})},t.prototype.doAutoDrawPoker=function(){var e=-1;2==this.drawPokerRandom?e=Math.floor(108*Math.random()):3==this.drawPokerRandom?e=Math.floor(108*Math.random()):4==this.drawPokerRandom&&(e=Math.floor(108*Math.random())),console.log("result:"+e),this.clearDrawPokers(),this.drawpoker=new PokerDrawContainer(this,this.pokers,!1,e),this.drawpoker.name="drawpoker",this.addChild(this.drawpoker),this.drawPokerIndex=e,this.drawPokerId=this.pokers[e].getId(),this.drawPokerValue=this.pokers[e].getOrderValue(),console.log("this.drawPokerIndex:"+this.drawPokerIndex+",this.drawPokerId:"+this.drawPokerId+",this.drawPokerValue:"+this.drawPokerValue),14==this.drawPokerValue||15==this.drawPokerValue?this.autoDrawPoker():this.showDealPokers()},t.prototype.buttonQiePai=function(e){this.clearButtons();for(var t=-1,r=0;r<this.pokers.length;r++)if(this.pokers[r].getId()==this.pokerDrawArray[0].getId()){t=r;break}console.log("要切牌的id:"+this.pokerDrawArray[0].getId()+",要切牌的索引："+t),this.clearDrawPokers(),this.drawpoker=new PokerDrawContainer(this,this.pokers,!1,t),this.drawpoker.name="drawpoker",this.addChild(this.drawpoker),this.pokers=this.pokers.slice(t,this.pokers.length).concat(this.pokers.slice(0,t)),1==this.firstThrowPokerSeat?this.firstThrowPokerSeat=2:2==this.firstThrowPokerSeat?this.firstThrowPokerSeat=3:3==this.firstThrowPokerSeat?this.firstThrowPokerSeat=4:4==this.firstThrowPokerSeat&&(this.firstThrowPokerSeat=1),this.showDealPokers()},t.prototype.autoSwitchPoker=function(){var e,t=this,r=60,s=1;this.createTimer(50,r,function(){null!=t.getChildByName("startSwitchText")&&t.removeChild(t.getChildByName("startSwitchText")),e=new ShowText(t.firstThrowPokerSeat+"号AI玩家开始自动切牌中",400,800,100,s),e.name="startSwitchText",t.addChild(e),s-=.05},function(){null!=t.getChildByName("startSwitchText")&&t.removeChild(t.getChildByName("startSwitchText")),console.log("等待"+t.firstThrowPokerSeat+"号AI玩家自动切牌结束"),t.doAutoSwitchPoker()})},t.prototype.doAutoSwitchPoker=function(){var e=-1;2==this.drawPokerRandom?e=Math.floor(108*Math.random()):3==this.drawPokerRandom?e=Math.floor(108*Math.random()):4==this.drawPokerRandom&&(e=Math.floor(108*Math.random())),console.log("result:"+e),this.clearDrawPokers(),this.drawpoker=new PokerDrawContainer(this,this.pokers,!1,e),this.drawpoker.name="drawpoker",this.addChild(this.drawpoker),this.pokers=this.pokers.slice(e,this.pokers.length).concat(this.pokers.slice(0,e)),1==this.firstThrowPokerSeat?this.firstThrowPokerSeat=2:2==this.firstThrowPokerSeat?this.firstThrowPokerSeat=3:3==this.firstThrowPokerSeat?this.firstThrowPokerSeat=4:4==this.firstThrowPokerSeat&&(this.firstThrowPokerSeat=1),this.showDealPokers()},t.prototype.showDealPokers=function(){var e=this,t=3,r=3;this.createTimer(1e3,t,function(){e.playPokerCount>1?console.log("等待"+r+"秒自动【不显示】切牌完毕"):1==e.playPokerCount&&console.log("等待"+r+"秒自动【显示】抽牌完毕"),r--},function(){e.playPokerCount>1?(console.log("等待切牌【显示】结束"),e.dealPokersRestart()):1==e.playPokerCount&&(console.log("等待【显示】结束"),e.dealPokers())})},t.prototype.dealPokers=function(){for(var e=0;e<this.pokers.length;e++)4==Math.abs(this.pokers[e].getId()-this.drawPokerId)&&this.pokers[e].getOrderValue()-this.drawPokerValue==0&&(console.log("找到暗牌了"),this.darkPokerIndex=e,this.darkPokerId=this.pokers[e].getId(),this.darkPokerValue=this.drawPokerValue);if(console.log("暗牌---this.darkPokerIndex:"+this.darkPokerIndex+",this.darkPokerId:"+this.darkPokerId+",this.darkPokerValue:"+this.darkPokerValue),1==this.drawPokerRandom){if(this.drawPokerValue%4==1){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=4),this.darkPokerIndex%4==3?this.firstOutPokerSeat=1:this.darkPokerIndex%4==2?this.firstOutPokerSeat=2:this.darkPokerIndex%4==1?this.firstOutPokerSeat=3:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=4);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersPlayer.push(this.pokers[e]):e%4==2?this.pokersRight.push(this.pokers[e]):e%4==1?this.pokersTop.push(this.pokers[e]):e%4==0&&this.pokersLeft.push(this.pokers[e])}else if(this.drawPokerValue%4==2){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=1),this.darkPokerIndex%4==3?this.firstOutPokerSeat=2:this.darkPokerIndex%4==2?this.firstOutPokerSeat=3:this.darkPokerIndex%4==1?this.firstOutPokerSeat=4:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=1);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersRight.push(this.pokers[e]):e%4==2?this.pokersTop.push(this.pokers[e]):e%4==1?this.pokersLeft.push(this.pokers[e]):e%4==0&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==3){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=2),this.darkPokerIndex%4==3?this.firstOutPokerSeat=3:this.darkPokerIndex%4==2?this.firstOutPokerSeat=4:this.darkPokerIndex%4==1?this.firstOutPokerSeat=1:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=2);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersTop.push(this.pokers[e]):e%4==2?this.pokersLeft.push(this.pokers[e]):e%4==1?this.pokersPlayer.push(this.pokers[e]):e%4==0&&this.pokersRight.push(this.pokers[e])}else if(this.drawPokerValue%4==0){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=3),this.darkPokerIndex%4==3?this.firstOutPokerSeat=4:this.darkPokerIndex%4==2?this.firstOutPokerSeat=1:this.darkPokerIndex%4==1?this.firstOutPokerSeat=2:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=3);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersLeft.push(this.pokers[e]):e%4==2?this.pokersPlayer.push(this.pokers[e]):e%4==1?this.pokersRight.push(this.pokers[e]):e%4==0&&this.pokersTop.push(this.pokers[e])}}else if(2==this.drawPokerRandom){if(this.drawPokerValue%4==1){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=1),this.darkPokerIndex%4==3?this.firstOutPokerSeat=2:this.darkPokerIndex%4==2?this.firstOutPokerSeat=3:this.darkPokerIndex%4==1?this.firstOutPokerSeat=4:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=1);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersRight.push(this.pokers[e]):e%4==2?this.pokersTop.push(this.pokers[e]):e%4==1?this.pokersLeft.push(this.pokers[e]):e%4==0&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==2){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=2),this.darkPokerIndex%4==3?this.firstOutPokerSeat=3:this.darkPokerIndex%4==2?this.firstOutPokerSeat=4:this.darkPokerIndex%4==1?this.firstOutPokerSeat=1:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=2);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersTop.push(this.pokers[e]):e%4==2?this.pokersLeft.push(this.pokers[e]):e%4==1?this.pokersPlayer.push(this.pokers[e]):e%4==0&&this.pokersRight.push(this.pokers[e])}else if(this.drawPokerValue%4==3){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=3),this.darkPokerIndex%4==3?this.firstOutPokerSeat=4:this.darkPokerIndex%4==2?this.firstOutPokerSeat=1:this.darkPokerIndex%4==1?this.firstOutPokerSeat=2:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=3);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersLeft.push(this.pokers[e]):e%4==2?this.pokersPlayer.push(this.pokers[e]):e%4==1?this.pokersRight.push(this.pokers[e]):e%4==0&&this.pokersTop.push(this.pokers[e])}else if(this.drawPokerValue%4==0){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=4),this.darkPokerIndex%4==3?this.firstOutPokerSeat=1:this.darkPokerIndex%4==2?this.firstOutPokerSeat=2:this.darkPokerIndex%4==1?this.firstOutPokerSeat=3:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=4);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersPlayer.push(this.pokers[e]):e%4==2?this.pokersRight.push(this.pokers[e]):e%4==1?this.pokersTop.push(this.pokers[e]):e%4==0&&this.pokersLeft.push(this.pokers[e])}}else if(3==this.drawPokerRandom){if(this.drawPokerValue%4==1){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=2),this.darkPokerIndex%4==3?this.firstOutPokerSeat=3:this.darkPokerIndex%4==2?this.firstOutPokerSeat=4:this.darkPokerIndex%4==1?this.firstOutPokerSeat=1:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=2);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersTop.push(this.pokers[e]):e%4==2?this.pokersLeft.push(this.pokers[e]):e%4==1?this.pokersPlayer.push(this.pokers[e]):e%4==0&&this.pokersRight.push(this.pokers[e])}else if(this.drawPokerValue%4==2){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=3),this.darkPokerIndex%4==3?this.firstOutPokerSeat=4:this.darkPokerIndex%4==2?this.firstOutPokerSeat=1:this.darkPokerIndex%4==1?this.firstOutPokerSeat=2:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=3);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersLeft.push(this.pokers[e]):e%4==2?this.pokersPlayer.push(this.pokers[e]):e%4==1?this.pokersRight.push(this.pokers[e]):e%4==0&&this.pokersTop.push(this.pokers[e])}else if(this.drawPokerValue%4==3){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=4),this.darkPokerIndex%4==3?this.firstOutPokerSeat=1:this.darkPokerIndex%4==2?this.firstOutPokerSeat=2:this.darkPokerIndex%4==1?this.firstOutPokerSeat=3:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=4);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersPlayer.push(this.pokers[e]):e%4==2?this.pokersRight.push(this.pokers[e]):e%4==1?this.pokersTop.push(this.pokers[e]):e%4==0&&this.pokersLeft.push(this.pokers[e])}else if(this.drawPokerValue%4==0){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=1),this.darkPokerIndex%4==3?this.firstOutPokerSeat=2:this.darkPokerIndex%4==2?this.firstOutPokerSeat=3:this.darkPokerIndex%4==1?this.firstOutPokerSeat=4:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=1);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersRight.push(this.pokers[e]):e%4==2?this.pokersTop.push(this.pokers[e]):e%4==1?this.pokersLeft.push(this.pokers[e]):e%4==0&&this.pokersPlayer.push(this.pokers[e])}}else if(4==this.drawPokerRandom)if(this.drawPokerValue%4==1){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=3),this.darkPokerIndex%4==3?this.firstOutPokerSeat=4:this.darkPokerIndex%4==2?this.firstOutPokerSeat=1:this.darkPokerIndex%4==1?this.firstOutPokerSeat=2:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=3);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersLeft.push(this.pokers[e]):e%4==2?this.pokersPlayer.push(this.pokers[e]):e%4==1?this.pokersRight.push(this.pokers[e]):e%4==0&&this.pokersTop.push(this.pokers[e])}else if(this.drawPokerValue%4==2){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=4),this.darkPokerIndex%4==3?this.firstOutPokerSeat=1:this.darkPokerIndex%4==2?this.firstOutPokerSeat=2:this.darkPokerIndex%4==1?this.firstOutPokerSeat=3:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=4);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersPlayer.push(this.pokers[e]):e%4==2?this.pokersRight.push(this.pokers[e]):e%4==1?this.pokersTop.push(this.pokers[e]):e%4==0&&this.pokersLeft.push(this.pokers[e])}else if(this.drawPokerValue%4==3){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=2:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=1),this.darkPokerIndex%4==3?this.firstOutPokerSeat=2:this.darkPokerIndex%4==2?this.firstOutPokerSeat=3:this.darkPokerIndex%4==1?this.firstOutPokerSeat=4:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=1);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersRight.push(this.pokers[e]):e%4==2?this.pokersTop.push(this.pokers[e]):e%4==1?this.pokersLeft.push(this.pokers[e]):e%4==0&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4==0){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=3:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=4:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=1:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=2),this.darkPokerIndex%4==3?this.firstOutPokerSeat=3:this.darkPokerIndex%4==2?this.firstOutPokerSeat=4:this.darkPokerIndex%4==1?this.firstOutPokerSeat=1:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=2);for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersTop.push(this.pokers[e]):e%4==2?this.pokersLeft.push(this.pokers[e]):e%4==1?this.pokersPlayer.push(this.pokers[e]):e%4==0&&this.pokersRight.push(this.pokers[e])}console.log(">>>>>优先丢牌座位号："+this.firstThrowPokerSeat+",>>>>>>>>优先出牌座位号："+this.firstOutPokerSeat),this.pokersPlayer=PokerUtils.sortDescPokers(this.pokersPlayer),this.pokersRight=PokerUtils.sortDescPokers(this.pokersRight),this.pokersTop=PokerUtils.sortDescPokers(this.pokersTop),this.pokersLeft=PokerUtils.sortDescPokers(this.pokersLeft),this.clearDrawPokers(),this.show()},t.prototype.dealPokersRestart=function(){if(1==this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersPlayer.push(this.pokers[e]):e%4==2?this.pokersRight.push(this.pokers[e]):e%4==1?this.pokersTop.push(this.pokers[e]):e%4==0&&this.pokersLeft.push(this.pokers[e]);else if(2==this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersRight.push(this.pokers[e]):e%4==2?this.pokersTop.push(this.pokers[e]):e%4==1?this.pokersLeft.push(this.pokers[e]):e%4==0&&this.pokersPlayer.push(this.pokers[e]);else if(3==this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersTop.push(this.pokers[e]):e%4==2?this.pokersLeft.push(this.pokers[e]):e%4==1?this.pokersPlayer.push(this.pokers[e]):e%4==0&&this.pokersRight.push(this.pokers[e]);else if(4==this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)e%4==3?this.pokersLeft.push(this.pokers[e]):e%4==2?this.pokersPlayer.push(this.pokers[e]):e%4==1?this.pokersRight.push(this.pokers[e]):e%4==0&&this.pokersTop.push(this.pokers[e]);this.pokersPlayer=PokerUtils.sortDescPokers(this.pokersPlayer),this.pokersRight=PokerUtils.sortDescPokers(this.pokersRight),this.pokersTop=PokerUtils.sortDescPokers(this.pokersTop),this.pokersLeft=PokerUtils.sortDescPokers(this.pokersLeft),this.clearDrawPokers(),this.show()},t.prototype.show=function(){this.showThrowOrOutPokerTitle(),this.initPokers(),this.showCount(this.mySeat,this.pokersPlayer.length),this.showCount(this.rightSeat,this.pokersRight.length),this.showCount(this.topSeat,this.pokersTop.length),this.showCount(this.leftSeat,this.pokersLeft.length),this.isDevelop&&(this.showRight=new PokerVerticalContainer(this.pokersRight,this.rightSeat),this.showRight.name="showRight",this.addChild(this.showRight),this.showLeft=new PokerVerticalContainer(this.pokersLeft,this.leftSeat),this.showLeft.name="showLeft",this.addChild(this.showLeft),this.showTop=new PokerVerticalContainer(this.pokersTop,this.topSeat),this.showTop.name="showTop",this.addChild(this.showTop))},t.prototype.showThrowOrOutPokerTitle=function(){this.cleatFirstTitle(),console.log("显示丢牌出牌头衔"),this.fistThrowTitle=new FirstThrowTitleContainer(this.firstThrowPokerSeat),this.fistThrowTitle.name="fistThrowTitle",this.addChild(this.fistThrowTitle),this.fistOutTitle=new FirstOutTitleContainer(this.firstOutPokerSeat),this.fistOutTitle.name="fistOutTitle",this.addChild(this.fistOutTitle)},t.prototype.initPokers=function(){var e,r=this,s=27,o=new Array,i=0,a=1;this.createTimer(300,s,function(){console.log("发牌：",i),o.push(r.pokersPlayer[i]),r.clearPokers(),t.mypoker=new PokerContainer(r,o,t.isLeftHand),t.mypoker.name="mypoker",r.addChild(t.mypoker),r.showCount(r.mySeat,i+1),r.showCount(r.rightSeat,i+1),r.showCount(r.topSeat,i+1),r.showCount(r.leftSeat,i+1),i++,i>=17&&(null!=r.getChildByName("startThrowText")&&r.removeChild(r.getChildByName("startThrowText")),e=new ShowText("等待丢牌...",580,500,130,a),e.name="startThrowText",r.addChild(e),a-=.1)},function(){null!=r.getChildByName("startThrowText")&&r.removeChild(r.getChildByName("startThrowText")),console.log("发牌结束"),r.showAutoThrowPoker()})},t.prototype.showAutoThrowPoker=function(){this.clearAllThrowPoker(),this.throwPokerControl(this.mySeat),this.throwPokerControl(this.rightSeat),this.throwPokerControl(this.topSeat),this.throwPokerControl(this.leftSeat),this.CycleTiming()},t.prototype.CycleTiming=function(){this.timer.reset(),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this),this.timer.start()},t.prototype.timerFunc=function(){console.log("计时中.."),0!=this.TopThrowPoker.length&&0!=this.LeftThrowPoker.length&&0!=this.PlayerThrowPoker.length&&0!=this.RightThrowPoker.length&&(this.timer.reset(),this.showEvreyoneThrowPoker(),console.log("计时中满足条件.."))},t.prototype.timerComFunc=function(){console.log("结束")},t.prototype.throwPokerControl=function(e){var t=this;if(1!=e){var r=Math.floor(5*Math.random())+3,s=10;this.createTimer(1e3,r,function(){t.showThrowTimer(s--,e)},function(){t.clearThrowTimerControl(e),2==e?(t.RightThrowPoker=PokerSeekUtils.autoThrowPlay(t.pokersRight),t.showThrowPoker(2,!1),t.pokersRight=PokerUtils.removePokers(t.pokersRight,t.RightThrowPoker),t.isDevelop&&t.showPokerVertival(2),console.log("自动丢牌2")):3==e?(t.TopThrowPoker=PokerSeekUtils.autoThrowPlay(t.pokersTop),t.showThrowPoker(3,!1),t.pokersTop=PokerUtils.removePokers(t.pokersTop,t.TopThrowPoker),t.isDevelop&&t.showPokerVertival(3),console.log("自动丢牌3")):4==e&&(t.LeftThrowPoker=PokerSeekUtils.autoThrowPlay(t.pokersLeft),t.showThrowPoker(4,!1),t.pokersLeft=PokerUtils.removePokers(t.pokersLeft,t.LeftThrowPoker),t.isDevelop&&t.showPokerVertival(4),console.log("自动丢牌4"))})}else this.showButtons(RoomManager.ButtonsToThrowAPoker)},t.prototype.buttonDiuPai=function(e){return-1==PokerTypeUtils.isSingle(this.pokerSelectArray)?void console.log("你这选的是啥呀"):this.pokerSelectArray[0].getOrderValue()>13?void console.log("糟糕，选了大小王"):(this.clearButtons(),this.PlayerThrowPoker=this.pokerSelectArray,this.showThrowPoker(this.mySeat,!1),this.pokerSelectArray=new Array,this.clearButtons(),this.clearThrowTimerControl(1),console.log("自动丢牌1"),this.pokersPlayer=PokerUtils.removePokers(this.pokersPlayer,this.PlayerThrowPoker),void this.showPokerVertival(this.mySeat))},t.prototype.showEvreyoneThrowPoker=function(){var e=this;this.clearAllThrowPoker(),this.showThrowPoker(this.mySeat,!0),this.showThrowPoker(this.rightSeat,!0),this.showThrowPoker(this.topSeat,!0),this.showThrowPoker(this.leftSeat,!0);var t=3;this.createTimer(1e3,t,function(){console.log("显示丢的牌3秒倒计时")},function(){e.autoThrowPlay()})},t.prototype.isSearchCamp=function(e){return 4==Math.abs(e[0].getId()-this.checkThrowPoker[0].getId())&&e[0].getOrderValue()-this.checkThrowPoker[0].getOrderValue()==0?!0:!1},t.prototype.autoThrowPlay=function(){var e=this;console.log("开始自动丢牌"),console.log("开始自动丢牌"+this.PlayerThrowPoker+","+this.RightThrowPoker+","+this.TopThrowPoker+","+this.LeftThrowPoker),console.log("丢牌玩家的座位号——————————————"+this.firstThrowPokerSeat);var t=!1;if(1==this.firstThrowPokerSeat?(this.checkThrowPoker=this.PlayerThrowPoker,this.playerCamp=!0,this.isSearchCamp(this.TopThrowPoker)&&(t=!0,this.topCamp=!0),this.isSearchCamp(this.RightThrowPoker)&&(t=!0,this.rightCamp=!0),this.isSearchCamp(this.LeftThrowPoker)&&(t=!0,this.leftCamp=!0)):2==this.firstThrowPokerSeat?(this.checkThrowPoker=this.RightThrowPoker,this.rightCamp=!0,this.isSearchCamp(this.TopThrowPoker)&&(t=!0,this.topCamp=!0),this.isSearchCamp(this.PlayerThrowPoker)&&(t=!0,this.playerCamp=!0),this.isSearchCamp(this.LeftThrowPoker)&&(t=!0,this.leftCamp=!0)):3==this.firstThrowPokerSeat?(this.checkThrowPoker=this.TopThrowPoker,this.topCamp=!0,this.isSearchCamp(this.PlayerThrowPoker)&&(t=!0,this.playerCamp=!0),this.isSearchCamp(this.RightThrowPoker)&&(t=!0,this.rightCamp=!0),this.isSearchCamp(this.LeftThrowPoker)&&(t=!0,this.leftCamp=!0)):4==this.firstThrowPokerSeat&&(this.checkThrowPoker=this.LeftThrowPoker,this.leftCamp=!0,this.isSearchCamp(this.TopThrowPoker)&&(t=!0,this.topCamp=!0),this.isSearchCamp(this.RightThrowPoker)&&(t=!0,this.rightCamp=!0),this.isSearchCamp(this.PlayerThrowPoker)&&(t=!0,this.playerCamp=!0)),console.log("要丢的牌"+this.checkThrowPoker[0].getId()+","+this.checkThrowPoker[0].getOrderValue()+",长度:"+this.checkThrowPoker.length),!t){for(var r=0;r<this.pokersPlayer.length;r++)if(4==Math.abs(this.pokersPlayer[r].getId()-this.checkThrowPoker[0].getId())&&this.pokersPlayer[r].getOrderValue()==this.checkThrowPoker[0].getOrderValue()){if(1==this.firstThrowPokerSeat)return void console.log("在自己家，无效丢牌1");this.playerCamp=!0}for(var r=0;r<this.pokersRight.length;r++)if(4==Math.abs(this.pokersRight[r].getId()-this.checkThrowPoker[0].getId())&&this.pokersRight[r].getOrderValue()==this.checkThrowPoker[0].getOrderValue()){if(console.log("在Right家"),2==this.firstThrowPokerSeat)return void console.log("在自己家，无效丢牌2");this.rightCamp=!0}for(var r=0;r<this.pokersTop.length;r++)if(4==Math.abs(this.pokersTop[r].getId()-this.checkThrowPoker[0].getId())&&this.pokersTop[r].getOrderValue()==this.checkThrowPoker[0].getOrderValue()){if(console.log("在Top家"),3==this.firstThrowPokerSeat)return void console.log("在自己家，无效丢牌3");
this.topCamp=!0}for(var r=0;r<this.pokersLeft.length;r++)if(4==Math.abs(this.pokersLeft[r].getId()-this.checkThrowPoker[0].getId())&&this.pokersLeft[r].getOrderValue()==this.checkThrowPoker[0].getOrderValue()){if(console.log("在Left家"),4==this.firstThrowPokerSeat)return void console.log("在自己家，无效丢牌4");this.leftCamp=!0}}console.log("后来：this.playerCamp:"+this.playerCamp+",this.rightCamp"+this.rightCamp+",this.topCamp"+this.topCamp+",this.leftCamp"+this.leftCamp);var s,o=60,i=1,a=1;this.createTimer(50,o,function(){null!=e.getChildByName("startExchangeText")&&e.removeChild(e.getChildByName("startExchangeText")),s=new ShowText("交换牌中...",660,500,100,a),s.name="startExchangeText",e.addChild(s),a-=.05,i++},function(){console.log("等待交换牌时间结束"),e.exchangePoker()})},t.prototype.exchangePoker=function(){this.isFirst=!1,1==this.playerCamp&&1==this.rightCamp&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.RightThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.PlayerThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.TopThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.LeftThrowPoker),this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=2,this.rightCampNumber=1,this.topCampNumber=4,this.leftCampNumber=3),1==this.playerCamp&&1==this.topCamp&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.TopThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.PlayerThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.RightThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.LeftThrowPoker),this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=3,this.rightCampNumber=4,this.topCampNumber=1,this.leftCampNumber=2),1==this.playerCamp&&1==this.leftCamp&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.LeftThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.PlayerThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.RightThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.TopThrowPoker),this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=4,this.rightCampNumber=3,this.topCampNumber=2,this.leftCampNumber=1),0==this.playerCamp&&0==this.rightCamp&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.RightThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.LeftThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.TopThrowPoker),this.playerCamp=!0,this.rightCamp=!0,this.topCamp=!1,this.leftCamp=!1,this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=2,this.rightCampNumber=1,this.topCampNumber=4,this.leftCampNumber=3),0==this.playerCamp&&0==this.topCamp&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.TopThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.LeftThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.RightThrowPoker),this.playerCamp=!0,this.rightCamp=!1,this.topCamp=!0,this.leftCamp=!1,this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=3,this.rightCampNumber=4,this.topCampNumber=1,this.leftCampNumber=2),0==this.playerCamp&&0==this.leftCamp&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.LeftThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.TopThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.RightThrowPoker),this.playerCamp=!0,this.rightCamp=!1,this.topCamp=!1,this.leftCamp=!0,this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=4,this.rightCampNumber=3,this.topCampNumber=2,this.leftCampNumber=1),this.clearAllThrowPoker(),this.refreshAllPoker()},t.prototype.refreshAllPoker=function(){this.showPokerVertival(this.mySeat),this.isDevelop&&(this.showPokerVertival(this.rightSeat),this.showPokerVertival(this.topSeat),this.showPokerVertival(this.leftSeat)),1==this.firstOutPokerSeat?(this.playedSeat=1,this.outPokersSeat=1,this.showButtons(RoomManager.ButtonsDiscard)):2==this.firstOutPokerSeat?(this.playedSeat=2,this.outPokersSeat=2,this.autoOutPokers()):3==this.firstOutPokerSeat?(this.playedSeat=3,this.outPokersSeat=3,this.autoOutPokers()):4==this.firstOutPokerSeat&&(this.playedSeat=4,this.outPokersSeat=4,this.autoOutPokers())},t.prototype.buttonChuPai=function(e){if(console.log("开始出牌"),1==this.playedSeat||PokerCompareUtils.comparePokers(this.pokerSelectArray,this.playedPoker)){if(null==PokerTypeUtils.getType(this.pokerSelectArray)&&null==PokerTypeUtils.getSpecialType(this.pokerSelectArray))return void console.log("你这选的是啥呀");this.pokersPlayer=PokerUtils.removePokers(this.pokersPlayer,this.pokerSelectArray),console.log("已出牌，剩余牌数",this.pokersPlayer.length),this.imBuYao=!1,console.log("imBuYao:"+this.imBuYao),this.showPokerVertival(this.mySeat),this.showCount(1,this.pokersPlayer.length),this.showPokerPlayer(),this.playedPoker=PokerUtils.sortDescPokers(this.pokerSelectArray),this.playedSeat=1,this.pokerSelectArray=new Array,this.clearButtons(),this.gameOver()||(this.checkIsNullPoker(this.mySeat)?(this.currentPokerNull=this.mySeat,this.myTool()):(this.outPokersSeat=2,this.checkPokerNull()),console.log("this.currentPokerNull为："+this.currentPokerNull))}},t.prototype.buttonBuYao=function(e){this.imBuYao=!0,this.clearButtons(),this.showTextTip(this.outPokersSeat),this.outPokersSeat=2,this.checkPokerNull()},t.prototype.buttonTiShi=function(e){if(this.pokerSelectArray=PokerSeekUtils.autoPrompt(this.pokersPlayer,this.mySeat,this.playerCampNumber,this.playedPoker,this.playedSeat),console.log("this.pokerSelectArray自动提示的长度："+this.pokerSelectArray.length),0!=this.pokerSelectArray.length)for(var r=0;r<this.pokerSelectArray.length;r++){console.log("自定义起牌数为"+(r+1)+"的id和值:"+this.pokerSelectArray[r].getId()+","+this.pokerSelectArray[r].getOrderValue());var s=t.mypoker.getChildByName(this.pokerSelectArray[r].getId()+","+this.pokerSelectArray[r].getOrderValue());console.log("测试是否获得对象,y值为:"+s.y),s.y=0,console.log("再次测试是否获得对象,y值为:"+s.y)}},t.prototype.buttonTiPai=function(e){if(console.log("开始接替出牌"),this.playedSeat==this.playerCampNumber||PokerCompareUtils.comparePokers(this.pokerSelectArray,this.playedPoker)){if(null==PokerTypeUtils.getType(this.pokerSelectArray)&&null==PokerTypeUtils.getSpecialType(this.pokerSelectArray))return void console.log("你这选的是啥呀");for(var t=0;t<this.pokerSelectArray.length;t++)console.log("this.pokerSelectArray:"+this.pokerSelectArray[t].getId());if(console.log("this.pokerSelectArray.length:"+this.pokerSelectArray.length),1==this.isTakeOverRightPoker){if(console.log("右为true"),this.RightOutPokers=this.pokerSelectArray,console.log("this.LeftOutPokers"+this.RightOutPokers.length),this.showOtherOutPoker(this.rightSeat),this.pokersRight=PokerUtils.sortDescPokers(PokerUtils.removePokers(this.pokersRight,this.RightOutPokers)),this.takeoverFriendPokers(this.playerCampNumber),this.isDevelop&&this.showPokerVertival(this.rightSeat),this.playedPoker=this.RightOutPokers,this.playedSeat=this.rightSeat,this.showCount(this.rightSeat,this.pokersRight.length),this.gameOver())return;this.outPokersSeat=3,this.checkPokerNull()}if(1==this.isTakeOverTopPoker){if(console.log("上为true"),this.TopOutPokers=this.pokerSelectArray,console.log("this.LeftOutPokers"+this.TopOutPokers.length),this.showOtherOutPoker(this.topSeat),this.pokersTop=PokerUtils.sortDescPokers(PokerUtils.removePokers(this.pokersTop,this.TopOutPokers)),this.takeoverFriendPokers(this.playerCampNumber),this.isDevelop&&this.showPokerVertival(this.topSeat),this.playedPoker=this.TopOutPokers,this.playedSeat=this.topSeat,this.showCount(this.topSeat,this.pokersTop.length),this.gameOver())return;this.outPokersSeat=4,this.checkPokerNull()}if(1==this.isTakeOverLeftPoker){if(console.log("左为true"),this.LeftOutPokers=this.pokerSelectArray,console.log("this.LeftOutPokers"+this.LeftOutPokers.length),this.showOtherOutPoker(this.leftSeat),this.pokersLeft=PokerUtils.sortDescPokers(PokerUtils.removePokers(this.pokersLeft,this.LeftOutPokers)),this.takeoverFriendPokers(this.playerCampNumber),this.isDevelop&&this.showPokerVertival(this.leftSeat),this.playedPoker=this.LeftOutPokers,this.playedSeat=this.leftSeat,this.showCount(this.leftSeat,this.pokersLeft.length),this.gameOver())return;this.outPokersSeat=1,this.checkPokerNull()}this.pokerSelectArray=new Array,this.clearButtons()}},t.prototype.buttonTiTiShi=function(e){var r=Array();if(1==this.isTakeOverRightPoker&&(r=this.pokersRight),1==this.isTakeOverTopPoker&&(r=this.pokersTop),1==this.isTakeOverLeftPoker&&(r=this.pokersLeft),this.pokerSelectArray=PokerSeekUtils.autoPrompt(r,this.playerCampNumber,-1,this.playedPoker,this.playedSeat),console.log("this.pokerSelectArray自动提示的长度："+this.pokerSelectArray.length),0!=this.pokerSelectArray.length)for(var s=0;s<this.pokerSelectArray.length;s++){console.log("自定义起牌数为"+(s+1)+"的id和值:"+this.pokerSelectArray[s].getId()+","+this.pokerSelectArray[s].getOrderValue());var o=t.mypoker.getChildByName(this.pokerSelectArray[s].getId()+","+this.pokerSelectArray[s].getOrderValue());console.log("测试是否获得对象,y值为:"+o.y),o.y=0,console.log("再次测试是否获得对象,y值为:"+o.y)}},t.prototype.buttonTiBuYao=function(e){console.log("接替不要牌"),this.showTextTip(this.outPokersSeat),1==this.isTakeOverRightPoker&&(this.RightOutPokers=new Array,this.outPokersSeat=3),1==this.isTakeOverTopPoker&&(this.TopOutPokers=new Array,this.outPokersSeat=4),1==this.isTakeOverLeftPoker&&(this.LeftOutPokers=new Array,this.outPokersSeat=1),this.checkPokerNull(),this.clearButtons()},t.prototype.autoOutPokers=function(){var e=this;if(!this.gameOver()){console.log("测试进程"),this.clearPokerShow(this.outPokersSeat);var t=Math.floor(5*Math.random())+1,r=-1;r=5!=this.waitTimeindex?this.waitTimeindex:t;var s=15;this.createTimer(this.waitTimefrequency,r,function(){e.showOPTimer(s--)},function(){e.clearOPTimer(),e.doAutoOutPokers()})}},t.prototype.doAutoOutPokers=function(){if(2==this.outPokersSeat){if(this.RightOutPokers=PokerSeekUtils.autoPlay(this.pokersRight,this.rightSeat,this.rightCampNumber,this.playedPoker,this.playedSeat),null==this.RightOutPokers||0==this.RightOutPokers.length)this.showTextTip(this.outPokersSeat),this.RightOutPokers=new Array;else{if(this.showOtherOutPoker(this.rightSeat),this.pokersRight=PokerUtils.sortDescPokers(PokerUtils.removePokers(this.pokersRight,this.RightOutPokers)),this.isDevelop&&this.showPokerVertival(this.rightSeat),this.playedPoker=this.RightOutPokers,this.playedSeat=this.rightSeat,this.showCount(this.rightSeat,this.pokersRight.length),this.gameOver())return;this.checkIsNullPoker(this.rightSeat)&&(this.currentPokerNull=this.rightSeat),console.log("this.currentPokerNull为："+this.currentPokerNull)}this.outPokersSeat=3,this.checkPokerNull()}else if(3==this.outPokersSeat){if(this.TopOutPokers=PokerSeekUtils.autoPlay(this.pokersTop,this.topSeat,this.topCampNumber,this.playedPoker,this.playedSeat),null==this.TopOutPokers||0==this.TopOutPokers.length)this.showTextTip(this.outPokersSeat),this.TopOutPokers=new Array;else{if(this.showOtherOutPoker(this.topSeat),this.pokersTop=PokerUtils.sortDescPokers(PokerUtils.removePokers(this.pokersTop,this.TopOutPokers)),this.isDevelop&&this.showPokerVertival(this.topSeat),this.playedPoker=this.TopOutPokers,this.playedSeat=this.topSeat,this.showCount(this.topSeat,this.pokersTop.length),this.gameOver())return;this.checkIsNullPoker(this.topSeat)&&(this.currentPokerNull=this.topSeat),console.log("this.currentPokerNull为："+this.currentPokerNull)}this.outPokersSeat=4,this.checkPokerNull()}else if(4==this.outPokersSeat){if(this.LeftOutPokers=PokerSeekUtils.autoPlay(this.pokersLeft,this.leftSeat,this.leftCampNumber,this.playedPoker,this.playedSeat),null==this.LeftOutPokers||0==this.LeftOutPokers.length)this.showTextTip(this.outPokersSeat),this.LeftOutPokers=new Array;else{if(this.showOtherOutPoker(this.leftSeat),this.pokersLeft=PokerUtils.sortDescPokers(PokerUtils.removePokers(this.pokersLeft,this.LeftOutPokers)),this.isDevelop&&this.showPokerVertival(this.leftSeat),this.playedPoker=this.LeftOutPokers,this.playedSeat=this.leftSeat,this.showCount(this.leftSeat,this.pokersLeft.length),this.gameOver())return;this.checkIsNullPoker(this.leftSeat)&&(this.currentPokerNull=this.leftSeat),console.log("this.currentPokerNull为："+this.currentPokerNull)}this.outPokersSeat=1,this.checkPokerNull()}},t.prototype.checkIsNullPoker=function(e){if(1==e){if(0==this.pokersPlayer.length)return console.log("this.currentPokerNull为1"),this.imBuYao=!0,!0}else if(2==e){if(0==this.pokersRight.length)return console.log("this.currentPokerNull为2"),this.RightOutPokers=new Array,!0}else if(3==e){if(0==this.pokersTop.length)return console.log("this.currentPokerNull为3"),this.TopOutPokers=new Array,!0}else if(4==e&&0==this.pokersLeft.length)return console.log("this.currentPokerNull为4"),this.LeftOutPokers=new Array,!0;return!1},t.prototype.friendGainOutPoker=function(){console.log("this.imBuYao && this.RightOutPokers == null && this.LeftOutPokers == null && this.TopOutPokers == null:"+this.imBuYao+"||"+this.RightOutPokers.length+"||"+this.LeftOutPokers.length+"||"+this.TopOutPokers.length),this.currentPokerNull==this.mySeat?(console.log("如果1号位牌出完"),0==this.RightOutPokers.length&&0==this.LeftOutPokers.length&&0==this.TopOutPokers.length?(console.log("~~~~1"),this.playedPoker=new Array,this.outPokersSeat=this.playerCampNumber):this.outPokersSeat=this.rightSeat):this.currentPokerNull==this.rightSeat?(console.log("如果2号位牌出完"),1==this.imBuYao&&0==this.LeftOutPokers.length&&0==this.TopOutPokers.length?(console.log("~~~~2"),this.playedPoker=new Array,this.outPokersSeat=this.rightCampNumber):this.outPokersSeat=this.topSeat):this.currentPokerNull==this.topSeat?(console.log("如果3号位牌出完"),1==this.imBuYao&&0==this.LeftOutPokers.length&&0==this.RightOutPokers.length?(console.log("~~~~3"),this.playedPoker=new Array,this.outPokersSeat=this.topCampNumber):this.outPokersSeat=this.leftSeat):this.currentPokerNull==this.leftSeat&&(console.log("如果4号位牌出完"),1==this.imBuYao&&0==this.LeftOutPokers.length&&0==this.TopOutPokers.length?(console.log("~~~~4"),this.playedPoker=new Array,this.outPokersSeat=this.leftCampNumber):this.outPokersSeat=this.mySeat),this.checkOutPoker()},t.prototype.checkPokerNull=function(){console.log("checkPokerNull()"),1==this.outPokersSeat?0==this.pokersPlayer.length?(this.clearPokerShow(this.mySeat),1==this.currentPokerNull?this.friendGainOutPoker():(console.log("一看this.currentPokerNull不为1"),this.outPokersSeat=2,this.checkPokerNull())):this.checkOutPoker():2==this.outPokersSeat?0==this.pokersRight.length?(this.clearPokerShow(this.rightSeat),2==this.currentPokerNull?this.friendGainOutPoker():(console.log("一看this.currentPokerNull不为2"),this.outPokersSeat=3,this.checkPokerNull())):this.checkOutPoker():3==this.outPokersSeat?0==this.pokersTop.length?(this.clearPokerShow(this.topSeat),3==this.currentPokerNull?this.friendGainOutPoker():(console.log("一看this.currentPokerNull不为3"),this.outPokersSeat=4,this.checkPokerNull())):this.checkOutPoker():4==this.outPokersSeat&&(0==this.pokersLeft.length?(this.clearPokerShow(this.leftSeat),4==this.currentPokerNull?this.friendGainOutPoker():(console.log("一看this.currentPokerNull不为4"),this.outPokersSeat=1,this.checkPokerNull())):this.checkOutPoker())},t.prototype.checkOutPoker=function(){1==this.outPokersSeat?(console.log("执行玩家函数"),this.clearPokerShow(this.mySeat),this.showButtons(RoomManager.ButtonsDiscard)):(console.log("执行出牌函数:"+this.outPokersSeat),0==this.isTakeOverRightPoker&&0==this.isTakeOverTopPoker&&0==this.isTakeOverLeftPoker?this.autoOutPokers():(2==this.outPokersSeat&&(1==this.isTakeOverRightPoker?(console.log("222222222"),this.clearPokerShow(this.rightSeat),this.showButtons(RoomManager.ButtonsTakeOverOutPokers)):this.autoOutPokers()),3==this.outPokersSeat&&(1==this.isTakeOverTopPoker?(console.log("3333333333"),this.clearPokerShow(this.topSeat),this.showButtons(RoomManager.ButtonsTakeOverOutPokers)):this.autoOutPokers()),4==this.outPokersSeat&&(1==this.isTakeOverLeftPoker?(console.log("44444444"),this.clearPokerShow(this.leftSeat),this.showButtons(RoomManager.ButtonsTakeOverOutPokers)):this.autoOutPokers())))},t.prototype.gameOver=function(){if(0==this.pokersPlayer.length&&0!=this.pokersRight.length&&0!=this.pokersTop.length&&0!=this.pokersLeft.length&&(this.firstOutPokerSeat=this.mySeat),0==this.pokersRight.length&&0!=this.pokersPlayer.length&&0!=this.pokersTop.length&&0!=this.pokersLeft.length&&(this.firstOutPokerSeat=this.rightSeat),0==this.pokersTop.length&&0!=this.pokersPlayer.length&&0!=this.pokersRight.length&&0!=this.pokersLeft.length&&(this.firstOutPokerSeat=this.topSeat),0==this.pokersLeft.length&&0!=this.pokersPlayer.length&&0!=this.pokersTop.length&&0!=this.pokersRight.length&&(this.firstOutPokerSeat=this.leftSeat),console.log("gameover:"+this.pokersPlayer.length+"&& "+this.pokersRight.length+"&&"+this.pokersTop.length+"&&"+this.pokersLeft.length),1==this.playerCamp&&1==this.rightCamp){if(0==this.pokersPlayer.length&&0==this.pokersRight.length&&(0!=this.pokersTop.length||0!=this.pokersLeft.length))return this.showResult(!0),!0;if(0==this.pokersTop.length&&0==this.pokersLeft.length&&(0!=this.pokersPlayer.length||0!=this.pokersRight.length))return this.showResult(!1),!0}if(1==this.playerCamp&&1==this.topCamp){if(0==this.pokersPlayer.length&&0==this.pokersTop.length&&(0!=this.pokersRight.length||0!=this.pokersLeft.length))return this.showResult(!0),!0;if(0==this.pokersRight.length&&0==this.pokersLeft.length&&(0!=this.pokersPlayer.length||0!=this.pokersTop.length))return this.showResult(!1),!0}if(1==this.playerCamp&&1==this.leftCamp){if(0==this.pokersPlayer.length&&0==this.pokersLeft.length&&(0!=this.pokersTop.length||0!=this.pokersRight.length))return this.showResult(!0),!0;if(0==this.pokersTop.length&&0==this.pokersRight.length&&(0!=this.pokersPlayer.length||0!=this.pokersLeft.length))return this.showResult(!1),!0}},t.prototype.showResult=function(e){this.clearGameResultShow();var t=new GameResultContainer(e);t.name="result",this.addChild(t),this.showButtons(RoomManager.ButtonsGameOver)},t.prototype.clearGameResultShow=function(){null!=this.getChildByName("result")&&this.removeChild(this.getChildByName("result"))},t.prototype.showOtherOutPoker=function(e){this.clearPokerShow(e),2==e?(this.rightOutPokers=new PokerOthersContainer(this.RightOutPokers,2),this.rightOutPokers.name="rightOutPokers",this.addChild(this.rightOutPokers)):3==e?(this.topOutPokers=new PokerOthersContainer(this.TopOutPokers,3),this.topOutPokers.name="topOutPokers",this.addChild(this.topOutPokers)):4==e&&(this.leftOutPokers=new PokerOthersContainer(this.LeftOutPokers,4),this.leftOutPokers.name="leftOutPokers",this.addChild(this.leftOutPokers))},t.prototype.clearPokerShow=function(e){1==e&&(null!=this.getChildByName("pokerPlayer")&&this.removeChild(this.getChildByName("pokerPlayer")),null!=this.getChildByName("textPlayer")&&this.removeChild(this.getChildByName("textPlayer"))),2==e&&(null!=this.getChildByName("rightOutPokers")&&this.removeChild(this.getChildByName("rightOutPokers")),null!=this.getChildByName("textRight")&&this.removeChild(this.getChildByName("textRight"))),3==e&&(null!=this.getChildByName("topOutPokers")&&this.removeChild(this.getChildByName("topOutPokers")),null!=this.getChildByName("textTop")&&this.removeChild(this.getChildByName("textTop"))),4==e&&(null!=this.getChildByName("leftOutPokers")&&this.removeChild(this.getChildByName("leftOutPokers")),null!=this.getChildByName("textLeft")&&this.removeChild(this.getChildByName("textLeft")))},t.prototype.showTextTip=function(e){this.clearPokerShow(e),1==e?(this.textPlayer=new TextOtherContainer(PokerUtils.getRandomTextTip(),1),this.textPlayer.name="textPlayer",this.addChild(this.textPlayer)):2==e?(this.textRight=new TextOtherContainer(PokerUtils.getRandomTextTip(),2),this.textRight.name="textRight",this.addChild(this.textRight)):3==e?(this.textTop=new TextOtherContainer(PokerUtils.getRandomTextTip(),3),this.textTop.name="textTop",this.addChild(this.textTop)):4==e&&(this.textLeft=new TextOtherContainer(PokerUtils.getRandomTextTip(),4),this.textLeft.name="textLeft",this.addChild(this.textLeft))},t.prototype.showPokerVertival=function(e){this.clearPokerVertical(e),1==e?(t.mypoker=new PokerContainer(this,this.pokersPlayer,t.isLeftHand),t.mypoker.name="mypoker",this.addChild(t.mypoker)):2==e?(this.showRight=new PokerVerticalContainer(this.pokersRight,2),this.showRight.name="showRight",this.addChild(this.showRight)):3==e?(this.showTop=new PokerVerticalContainer(this.pokersTop,3),this.showTop.name="showTop",this.addChild(this.showTop)):4==e&&(this.showLeft=new PokerVerticalContainer(this.pokersLeft,4),this.showLeft.name="showLeft",this.addChild(this.showLeft))},t.prototype.takeoverFriendPokers=function(e){this.clearPokerVertical(this.mySeat);var r=Array();2==e?(this.isTakeOverRightPoker=!0,r=this.pokersRight):3==e?(this.isTakeOverTopPoker=!0,r=this.pokersTop):4==e&&(this.isTakeOverLeftPoker=!0,r=this.pokersLeft),t.mypoker=new PokerContainer(this,r,t.isLeftHand),t.mypoker.name="mypoker",this.addChild(t.mypoker)},t.prototype.clearPokerVertical=function(e){1==e&&null!=this.getChildByName("mypoker")&&this.removeChild(this.getChildByName("mypoker")),2==e&&null!=this.getChildByName("showRight")&&this.removeChild(this.getChildByName("showRight")),3==e&&null!=this.getChildByName("showTop")&&this.removeChild(this.getChildByName("showTop")),4==e&&null!=this.getChildByName("showLeft")&&this.removeChild(this.getChildByName("showLeft"))},t.prototype.clearPokerPlay=function(){null!=this.getChildByName("pokerPlayer")&&this.removeChild(this.getChildByName("pokerPlayer"))},t.prototype.showPokerPlayer=function(){this.clearPokerShow(this.mySeat),this.playerOutPokers=new PokerPlayerContainer(PokerUtils.sortDescPokers(this.pokerSelectArray)),this.playerOutPokers.name="pokerPlayer",this.addChild(this.playerOutPokers)},t.prototype.showThrowPoker=function(e,t){1==e?(this.playerThrowPoker=new PokerThrowContainer(e,this.PlayerThrowPoker,t),this.playerThrowPoker.name="playerThrowPoker",this.addChild(this.playerThrowPoker)):2==e?(this.rightThrowPoker=new PokerThrowContainer(e,this.RightThrowPoker,t),this.rightThrowPoker.name="rightThrowPoker",this.addChild(this.rightThrowPoker)):3==e?(this.topThrowPoker=new PokerThrowContainer(e,this.TopThrowPoker,t),this.topThrowPoker.name="topThrowPoker",this.addChild(this.topThrowPoker)):4==e&&(this.leftThrowPoker=new PokerThrowContainer(e,this.LeftThrowPoker,t),this.leftThrowPoker.name="leftThrowPoker",this.addChild(this.leftThrowPoker))},t.prototype.clearAllThrowPoker=function(){null!=this.getChildByName("playerThrowPoker")&&this.removeChild(this.getChildByName("playerThrowPoker")),null!=this.getChildByName("rightThrowPoker")&&this.removeChild(this.getChildByName("rightThrowPoker")),null!=this.getChildByName("topThrowPoker")&&this.removeChild(this.getChildByName("topThrowPoker")),null!=this.getChildByName("leftThrowPoker")&&this.removeChild(this.getChildByName("leftThrowPoker"))},t.prototype.clearSingleThrowPoker=function(e){1==e&&null!=this.getChildByName("playerThrowPoker")&&this.removeChild(this.getChildByName("playerThrowPoker")),2==e&&null!=this.getChildByName("rightThrowPoker")&&this.removeChild(this.getChildByName("rightThrowPoker")),3==e&&null!=this.getChildByName("topThrowPoker")&&this.removeChild(this.getChildByName("topThrowPoker")),4==e&&null!=this.getChildByName("leftThrowPoker")&&this.removeChild(this.getChildByName("leftThrowPoker"))},t.prototype.showPortrait=function(e,t){this.clearPortrait(),this.portraitPlayer=new PortraitContainer(this.user,this.playerIndex,e,t),this.portraitPlayer.name="portraitPlayer",this.addChild(this.portraitPlayer)},t.prototype.clearPortrait=function(){null!=this.getChildByName("portraitPlayer")&&this.removeChild(this.getChildByName("portraitPlayer"))},t.prototype.showOtherPortrait=function(e,t,r){this.clearOtherPortrait(e),3==e?(this.portraitTop=new PortraitOtherContainer(this.userTop,this.topIndex,t,r,3),this.portraitTop.name="portraitTop",this.addChild(this.portraitTop)):2==e?(this.portraitRight=new PortraitOtherContainer(this.userRight,this.rightIndex,t,r,2),this.portraitRight.name="portraitRight",this.addChild(this.portraitRight)):4==e&&(this.portraitLeft=new PortraitOtherContainer(this.userLeft,this.leftIndex,t,r,4),this.portraitLeft.name="portraitLeft",this.addChild(this.portraitLeft))},t.prototype.clearOtherPortrait=function(e){3==e?null!=this.getChildByName("portraitTop")&&this.removeChild(this.getChildByName("portraitTop")):2==e?null!=this.getChildByName("portraitRight")&&this.removeChild(this.getChildByName("portraitRight")):4==e&&null!=this.getChildByName("portraitLeft")&&this.removeChild(this.getChildByName("portraitLeft"))},t.prototype.cleatFirstTitle=function(){null!=this.getChildByName("fistThrowTitle")&&this.removeChild(this.getChildByName("fistThrowTitle")),null!=this.getChildByName("fistOutTitle")&&this.removeChild(this.getChildByName("fistOutTitle"))},t.prototype.showButtons=function(e){this.clearButtons(),this.buttons=new PlayerButtonContainer(this,e),this.buttons.name="buttons",this.addChild(this.buttons)},t.prototype.showCount=function(e,t){this.clearCount(e),1==e?(this.playerCount=new OtherPokerCountContains(t,1),this.playerCount.name="playerCount",this.addChild(this.playerCount)):2==e?(this.rightCount=new OtherPokerCountContains(t,2),this.rightCount.name="rightCount",this.addChild(this.rightCount)):3==e?(this.topCount=new OtherPokerCountContains(t,3),this.topCount.name="topCount",this.addChild(this.topCount)):4==e&&(this.leftCount=new OtherPokerCountContains(t,4),this.leftCount.name="leftCount",this.addChild(this.leftCount))},t.prototype.clearButtons=function(){null!=this.getChildByName("buttons")&&this.removeChild(this.getChildByName("buttons"))},t.prototype.clearDrawPokers=function(){null!=this.getChildByName("drawpoker")&&this.removeChild(this.getChildByName("drawpoker"))},t.prototype.clearCount=function(e){1==e?null!=this.getChildByName("playerCount")&&this.removeChild(this.getChildByName("playerCount")):2==e?null!=this.getChildByName("rightCount")&&this.removeChild(this.getChildByName("rightCount")):3==e?null!=this.getChildByName("topCount")&&this.removeChild(this.getChildByName("topCount")):4==e&&null!=this.getChildByName("leftCount")&&this.removeChild(this.getChildByName("leftCount"))},t.prototype.clearThrowTimer=function(){null!=this.getChildByName("playerThrowTimer")&&this.removeChild(this.getChildByName("playerThrowTimer")),null!=this.getChildByName("rightThrowTimer")&&this.removeChild(this.getChildByName("rightThrowTimer")),null!=this.getChildByName("topThrowTimer")&&this.removeChild(this.getChildByName("topThrowTimer")),null!=this.getChildByName("leftThrowTimer")&&this.removeChild(this.getChildByName("leftThrowTimer"))},t.prototype.clearThrowTimerControl=function(e){1==e?null!=this.getChildByName("playerThrowTimer")&&this.removeChild(this.getChildByName("playerThrowTimer")):2==e?null!=this.getChildByName("rightThrowTimer")&&this.removeChild(this.getChildByName("rightThrowTimer")):3==e?null!=this.getChildByName("topThrowTimer")&&this.removeChild(this.getChildByName("topThrowTimer")):4==e&&null!=this.getChildByName("leftThrowTimer")&&this.removeChild(this.getChildByName("leftThrowTimer"))},t.prototype.showThrowTimer=function(e,t){if(this.clearThrowTimerControl(t),1==t){var r=new OtherThrowTimer(e+"",t);r.name="playerThrowTimer",this.addChild(r)}else if(2==t){var s=new OtherThrowTimer(e+"",t);s.name="rightThrowTimer",this.addChild(s)}else if(3==t){var o=new OtherThrowTimer(e+"",t);o.name="topThrowTimer",this.addChild(o)}else if(4==t){var i=new OtherThrowTimer(e+"",t);i.name="leftThrowTimer",this.addChild(i)}},t.prototype.clearOPTimer=function(){null!=this.getChildByName("otherPlayingTimer")&&this.removeChild(this.getChildByName("otherPlayingTimer"))},t.prototype.showOPTimer=function(e){this.clearOPTimer();var t=new OtherPlayingTimer(e+"",this.outPokersSeat);t.name="otherPlayingTimer",this.addChild(t)},t.prototype.createTimer=function(e,t,r,s){void 0===r&&(r=function(e){}),void 0===s&&(s=function(){});var o=new egret.Timer(e,t);o.addEventListener(egret.TimerEvent.TIMER,r,this),o.addEventListener(egret.TimerEvent.TIMER_COMPLETE,s,this),o.start()},t.prototype.pokerClick=function(e){var t=RES.getRes("layout_json").poker,r=t.pokerUpMove,s=e.currentTarget;console.log("不是自定义draggedObject:"+s.name);var o=parseInt(s.name.split(",")[0]),i=parseInt(s.name.split(",")[1]);if(s.y==r)s.y=0,this.pokerSelectArray.push(new Poker(o,i)),console.log("this.pokerSelectArray接替出牌添加测试："+this.pokerSelectArray.length);else{s.y=r;var a=new Poker(o,i);console.log("poker",a.toString(),"array",this.pokerSelectArray),this.pokerSelectArray=PokerUtils.removePokers(this.pokerSelectArray,[a]),console.log("removedArray",this.pokerSelectArray)}},t.prototype.drawPokerClickUp=function(e){var t=RES.getRes("layout_json").poker,r=t.pokerDrawUpMove;null!=this.draggedUp&&0==this.draggedUp.y&&(this.draggedUp.y=r,this.pokerDrawArray=new Array),null!=this.draggedDown&&this.draggedDown.y==t.pokerDrawAddy&&(this.draggedDown.y=r+t.pokerDrawAddy,this.pokerDrawArray=new Array);var s=e.currentTarget;this.draggedUp=e.currentTarget;var o=parseInt(s.name.split(",")[0]),i=parseInt(s.name.split(",")[1]);if(s.y==r)s.y=0,this.pokerDrawArray.push(new Poker(o,i)),console.log("上:选中的牌为："+o+","+i+","+this.pokerDrawArray.length);else{s.y=r;var a=new Poker(o,i);console.log("上poker:"+a.toString()+"|array:"+this.pokerDrawArray),this.pokerDrawArray=PokerUtils.removePokers(this.pokerDrawArray,[a]),console.log("上removedArray:"+this.pokerDrawArray)}},t.prototype.drawPokerClickDown=function(e){var t=RES.getRes("layout_json").poker,r=t.pokerDrawUpMove;null!=this.draggedDown&&this.draggedDown.y==t.pokerDrawAddy&&(this.draggedDown.y=r+t.pokerDrawAddy,this.pokerDrawArray=new Array),null!=this.draggedUp&&0==this.draggedUp.y&&(this.draggedUp.y=r,this.pokerDrawArray=new Array);var s=e.currentTarget;this.draggedDown=e.currentTarget;var o=parseInt(s.name.split(",")[0]),i=parseInt(s.name.split(",")[1]);if(s.y==r+t.pokerDrawAddy)s.y=t.pokerDrawAddy,this.pokerDrawArray.push(new Poker(o,i)),console.log("下:选中的牌为："+o+","+i+","+this.pokerDrawArray.length);else{s.y=r+t.pokerDrawAddy;var a=new Poker(o,i);console.log("下poker:"+a.toString()+"|array:"+this.pokerDrawArray),this.pokerDrawArray=PokerUtils.removePokers(this.pokerDrawArray,[a]),console.log("下removedArray:"+this.pokerDrawArray)}},t.prototype.clearCamp=function(){this.isFirst=!0,this.playerCamp=!1,this.rightCamp=!1,this.topCamp=!1,this.leftCamp=!1},t.prototype.clearPokers=function(){null!=this.getChildByName("mypoker")&&this.removeChild(this.getChildByName("mypoker"))},t.prototype.myTool=function(){console.log("myTool"),null!=this.getChildByName("takeoverPannel")&&this.removeChild(this.getChildByName("takeoverPannel"));
var e=new TakeOverFriend(this);e.x=735,e.y=425,this.addChild(e)},t.prototype.buttonExpand=function(){console.log("buttonExpand"),this.showButtons(RoomManager.ButtonsTools)},t.prototype.buttonHide=function(){console.log("buttonHide"),this.showButtons(RoomManager.ButtonsExpand)},t.prototype.takeoverConfirm=function(e){null!=this.getChildByName("takeoverPannel")&&this.removeChild(this.getChildByName("takeoverPannel")),console.log("buttonTakeover"),this.takeoverFriendPokers(this.playerCampNumber),this.outPokersSeat=2,this.checkPokerNull()},t.prototype.takeoverReturn=function(e){null!=this.getChildByName("takeoverPannel")&&this.removeChild(this.getChildByName("takeoverPannel")),this.showButtons(RoomManager.ButtonsExpand),this.outPokersSeat=2,this.checkPokerNull()},t.prototype.buttonSlowdown=function(){console.log("buttonSlowdown"),this.waitTimeindex=this.waitTimeindex+1},t.prototype.buttonSpeedup=function(){console.log("buttonSpeedup"),this.waitTimeindex>1?this.waitTimeindex=this.waitTimeindex-1:this.waitTimeindex=1},t.prototype.buttonRestart=function(){this.clearGameResultShow(),this.clearButtons(),this.pokersPlayer=new Array,this.pokersRight=new Array,this.pokersTop=new Array,this.pokersLeft=new Array,this.clearPokerVertical(1),this.clearPokerVertical(2),this.clearPokerVertical(3),this.clearPokerVertical(4),this.clearPokerShow(1),this.clearPokerShow(2),this.clearPokerShow(3),this.clearPokerShow(4),this.pokerSelectArray=new Array,this.TopOutPokers=new Array,this.RightOutPokers=new Array,this.LeftOutPokers=new Array,this.PlayerThrowPoker=new Array,this.RightThrowPoker=new Array,this.TopThrowPoker=new Array,this.LeftThrowPoker=new Array,this.clearCount(1),this.clearCount(2),this.clearCount(3),this.clearCount(4),this.clearOPTimer(),this.clearCamp(),this.cleatFirstTitle(),this.currentPokerNull=-1,this.waitTimeindex=5,this.isTakeOverRightPoker=!1,this.isTakeOverTopPoker=!1,this.isTakeOverLeftPoker=!1,this.playPokerCount++,this.pokers=PokerUtils.getRandomPokers(),this.pokerDrawArray=new Array,console.log("此时优先丢牌人不变，优先出牌人不变才对："+this.firstThrowPokerSeat+",out:"+this.firstOutPokerSeat),this.init()},t.prototype.buttonGameOver=function(){this.clearGameResultShow(),console.log("返回大厅");var e=new GameHall(this.user);e.name="gameHall",this.parent.addChild(e),this.parent.removeChild(this)},t.prototype.buttonGameTest=function(){console.log("开发者第"+this.developButtonCount+"点击"),this.developButtonCount%2!=0?(this.isDevelop=!0,this.showPokerVertival(2),this.showPokerVertival(3),this.showPokerVertival(4)):(this.isDevelop=!1,this.clearPokerVertical(2),this.clearPokerVertical(3),this.clearPokerVertical(4)),this.developButtonCount++},t.prototype.onSetButtonClick=function(e){console.log("tt"),null!=this.getChildByName("gameSettingPannel")&&this.removeChild(this.getChildByName("gameSettingPannel"));var t=new GameSettingPannel;t.setMyPokers(this.pokersPlayer),t.x=735,t.y=425,this.addChild(t)},t.isLeftHand=!0,t}(egret.DisplayObjectContainer);__reflect(StandaloneModel.prototype,"StandaloneModel");var ErrorNote=function(e){function t(){var t=e.call(this)||this;return t.skinName="ErrorNoteSkin",t}return __extends(t,e),t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r),"btn_return"==t?(this.btn_return=r,this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonExitRoom,this)):"lab_content"==t?this.lab_content=r:"btn_reconnect"==t&&(this.btn_reconnect=r,this.btn_reconnect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonReconnRoom,this))},t.prototype.childrenCreated=function(){for(e.prototype.childrenCreated.call(this),this.lab_userID.text="用户ID："+GameData.gameUser.id;GameData.intervalList.length>0;)clearTimeout(GameData.intervalList.pop());this.lab_content.text=this.errMsg},t.prototype.SetErrorMsg=function(e){this.errMsg=e},t.prototype.mbuttonReconnRoom=function(e){GameSceneView._gameScene.reconnectView()},t.prototype.mbuttonExitRoom=function(e){GameSceneView._gameScene.login()},t}(eui.Component);__reflect(ErrorNote.prototype,"ErrorNote",["eui.UIComponent","egret.DisplayObject"]);var Lobby=function(e){function t(){var t=e.call(this)||this;return t.skinName="LobbySkin",GameData.syncFrame=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,r){this.getChilds(t,r),e.prototype.partAdded.call(this,t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.moveToChange=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(t){console.log("上来"),e.scaleX=.8,e.scaleY=.8},this),e.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,function(t){console.log("离开"),e.scaleX=1,e.scaleY=1},this)},t.prototype.getChilds=function(e,t){switch(e){case"lab_joinRandRoom":this.moveToChange(t),this.lab_joinRandRoom=t,this.lab_joinRandRoom.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickRandomMatch,this);break;case"lab_createRoom":this.moveToChange(t),this.lab_joinRandRoom=t,this.lab_joinRandRoom.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickCreateRoom,this);break;case"lab_joinWithPro":this.moveToChange(t),this.lab_joinRandRoom=t,this.lab_joinRandRoom.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickJoinWithProperty,this);break;case"lab_roomList":this.moveToChange(t),this.lab_joinRandRoom=t,this.lab_joinRandRoom.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickJoinRoomList,this);break;case"lab_frameSync":this.moveToChange(t),this.lab_joinRandRoom=t,this.lab_joinRandRoom.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickFrameSync,this);break;case"lab_joinRoom":this.moveToChange(t),this.lab_joinRandRoom=t,this.lab_joinRandRoom.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClickJoinRoomSpecial,this);break;case"btn_return":this.moveToChange(t),this.btn_return=t,this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClicklogOutGame,this);break;case"img_header":this.img_header=t,this.img_header.source=GameData.gameUser.avatar;break;case"lab_userID":this.lab_userID=t,this.lab_userID.text="用户："+GameData.gameUser.id+"\n"+GameData.gameUser.name}},t.prototype.onButtonClickRandomMatch=function(e){GameData.matchType=GameData.randomMatch,GameData.syncFrame=!1,GameSceneView._gameScene.match(MatchUI.JOINFLAG.RANDROOM)},t.prototype.onButtonClickJoinRoomList=function(e){GameData.matchType=GameData.specialMatch,GameData.syncFrame=!1,GameSceneView._gameScene.showRoomList()},t.prototype.onButtonClickJoinWithProperty=function(e){GameSceneView._gameScene.tagsMatchView()},t.prototype.onButtonClickCreateRoom=function(e){GameSceneView._gameScene.createRoom()},t.prototype.onButtonClickJoinRoomSpecial=function(e){GameSceneView._gameScene.joinRoomSpecial()},t.prototype.onButtonClickFrameSync=function(e){console.log("onButtonClickFrameSync"),GameData.matchType=GameData.randomMatch,GameData.syncFrame=!0,GameSceneView._gameScene.match(MatchUI.JOINFLAG.WITHPROPERTY)},t.prototype.onButtonClicklogOutGame=function(e){mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_LOGOUT_RSP,this.logoutResponse,this),mvs.MsEngine.getInstance.logOut()},t.prototype.logoutResponse=function(e){mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_LOGOUT_RSP,this.logoutResponse,this);var t=e.data.status;return 200!==t?void console.log("退出登录失败!"):void GameSceneView._gameScene.login()},t}(eui.Component);__reflect(Lobby.prototype,"Lobby",["eui.UIComponent","egret.DisplayObject"]);var Login=function(e){function t(){var t=e.call(this)||this;return t.skinName="LoginSkin",t.addMsResponseListen(),t}return __extends(t,e),t.prototype.getMyChilds=function(e,t){var r=this;"btn_enter"==e?(this.btn_enter=t,this.btn_enter.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){r.loginTween(),console.log(" environment="+GameData.DEFAULT_ENV+" gameid="+GameData.gameID);mvs.MsEngine.getInstance.init(GameData.CHANNEL,GameData.DEFAULT_ENV,GameData.gameID,GameData.appkey)},this)):"rect_clear"==e?(this.rect_clear=t,this.rect_clear.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clearTween,this)):"lab_clear"==e&&(this.lab_clear=t,this.lab_clear.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clearTween,this))},t.prototype.clearTween=function(e){var t=this;mvs.MsEngine.getInstance.LocalStoreClear(),egret.Tween.get(this.lab_clearNote).to({alpha:1},500).call(function(){t.lab_clearNote.visible=!0}).wait(500).to({alpha:0},500).call(function(){t.lab_clearNote.visible=!1})},t.prototype.loginTween=function(){this.topMask=new egret.Shape,this.topMask.graphics.beginFill(0,.4),this.topMask.graphics.drawRect(0,0,this.width,this.height),this.topMask.graphics.endFill(),this.addChild(this.topMask),this.textField=new egret.TextField,this.textField.text="登录中...",this.addChild(this.textField),this.textField.x=this.width/2-50,this.textField.y=this.height/2-120,this.textField.width=180,this.textField.height=100,this.textField_power=new egret.TextField,this.textField_power.text=".",this.textField_power.textColor=13421772,this.textField_power.size=100,this.textField_power.fontFamily="White",this.textField_power.textAlign="center",this.textField_power.x=this.width/2,this.textField_power.y=this.height/2+100,egret.Tween.get(this.textField_power,{loop:!0}).to({rotation:360},800,egret.Ease.cubicIn).play(),this.addChild(this.textField_power)},t.prototype.clearLoginTween=function(){console.log("clearLoginTween"),this.removeChild(this.topMask),this.removeChild(this.textField),egret.Tween.removeTweens(this.textField_power),this.removeChild(this.textField_power)},t.prototype.partAdded=function(t,r){this.getMyChilds(t,r),e.prototype.partAdded.call(this,t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.addMsResponseListen=function(){mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_INIT_RSP,this.initResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_REGISTERUSER_RSP,this.registerUserResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_LOGIN_RSP,this.loginResponse,this)},t.prototype.release=function(){mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_INIT_RSP,this.initResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_REGISTERUSER_RSP,this.registerUserResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_LOGIN_RSP,this.loginResponse,this)},t.prototype.initResponse=function(e){return console.log("Login initResponse,status:"+e.data.status),200!==e.data.status?void console.log("init failed",e.data.status):void mvs.MsEngine.getInstance.registerUser()},t.prototype.registerUserResponse=function(e){console.log("Login registerUserResponse,status:"+e.data.status);var t=e.data;GameData.gameUser.id=t.id,GameData.gameUser.name=t.name,GameData.gameUser.avatar=t.avatar,GameData.gameUser.token=t.token,0===t.status&&mvs.MsEngine.getInstance.login(t.id,t.token)},t.prototype.loginResponse=function(e){console.log("Login loginResponse,status:"+e.data.status);var t=e.data;console.log("loginResponse, status="+t.status),200!==t.status?console.log("登录失败"):(console.log("登录成功 roomID="+t.roomID+"(刚开始登录为0,不为0说明在房间中途掉线)"),0!=t.roomID?(GameData.roomID=t.roomID,GameSceneView._gameScene.reconnectView()):(this.clearLoginTween(),this.release(),GameSceneView._gameScene.lobby()))},t}(eui.Component);__reflect(Login.prototype,"Login",["eui.UIComponent","egret.DisplayObject"]);var MatchProperty=function(e){function t(){var t=e.call(this)||this;return t._tagsType={match:"tagsA"},t.skinName="MatchPropertySkin",t}return __extends(t,e),t.prototype.getChild=function(e,t){var r=this;"rad_A"==e?(this.rad_A=t,this.rad_A.addEventListener(egret.Event.CHANGE,this.radioChangeHandler,this)):"rad_B"==e?(this.rad_B=t,this.rad_B.addEventListener(egret.Event.CHANGE,this.radioChangeHandler,this)):"btn_start"==e?(this.btn_start=t,this.btn_start.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mButtonMatchTouch,this)):"lab_userID"==e?(this.lab_userID=t,this.lab_userID.text="用户："+GameData.gameUser.id+"\n"+GameData.gameUser.name):"img_header"==e?(this.img_header=t,this.img_header.source=GameData.gameUser.avatar):"btn_return"==e?(this.btn_return=t,this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonExitRoom,this)):"rect_proA"==e?(this.rect_proA=t,this.rect_proA.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){r.rad_A.selected=!0,r.changeInfo(0)},this)):"rect_proB"==e&&(this.rect_proB=t,this.rect_proB.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){r.rad_B.selected=!0,r.changeInfo(1)},this))},t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r),this.getChild(t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.mbuttonExitRoom=function(e){GameSceneView._gameScene.lobby()},t.prototype.changeInfo=function(e){0==e?(this.rect_proA.fillColor=3490372,this.rect_proA.strokeWeight=2,this.rect_proB.fillColor=5592405,this.rect_proB.strokeWeight=0,this.lab_A.textColor=49632,this.lab_B.textColor=13619151,this._tagsType={match:"tagsA"}):(this.rect_proB.fillColor=3490372,this.rect_proB.strokeWeight=2,this.rect_proA.fillColor=5592405,this.rect_proA.strokeWeight=0,this.lab_B.textColor=49632,this.lab_A.textColor=13619151,this._tagsType={match:"tagsB"}),console.log("tags ="+this._tagsType.match)},t.prototype.radioChangeHandler=function(e){this.changeInfo(e.target.value)},t.prototype.mButtonMatchTouch=function(e){GameData.matchType=GameData.tagsMatch,GameData.syncFrame=!1,GameSceneView._gameScene.match(MatchUI.JOINFLAG.WITHPROPERTY,this._tagsType)},t}(eui.Component);__reflect(MatchProperty.prototype,"MatchProperty",["eui.UIComponent","egret.DisplayObject"]);var MatchRoomID=function(e){function t(){var t=e.call(this)||this;return t.skinName="MatchRoomIDSkin",t}return __extends(t,e),t.prototype.getChild=function(e,t){var r=this;"lab_userID"==e?(this.lab_userID=t,this.lab_userID.text="用户："+GameData.gameUser.id+"\n"+GameData.gameUser.name):"img_header"==e?(this.img_header=t,this.img_header.source=GameData.gameUser.avatar):"lab_note"==e?(this.lab_note=t,this.lab_note.visible=!1):"btn_return"==e?(this.btn_return=t,this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonExitRoom,this)):"btn_start"==e?(this.btn_start=t,this.btn_start.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonEnterRoom,this)):"rect_roomID"==e?this.rect_roomID=t:"edt_roomID"==e&&(this.edt_roomID=t,this.edt_roomID.addEventListener(eui.UIEvent.CHANGE,function(e){r.roomIDIsOK()},this))},t.prototype.roomIDIsOK=function(){var e=this.edt_roomID.text;return""==e?void this.showNote("",!1):void(/^[0-9]+$/.test(e)?this.showNote("",!1):this.showNote("请求输入有效的房间号",!0))},t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r),this.getChild(t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.showNote=function(e,t){this.lab_note.visible=t,this.lab_note.text=e,t?(this.rect_roomID.strokeWeight=2,this.rect_roomID.strokeColor=16275544,this.rect_roomID.fillColor=16770533):(this.rect_roomID.strokeWeight=0,this.rect_roomID.strokeColor=16777215,this.rect_roomID.fillColor=16777215)},t.prototype.mbuttonExitRoom=function(e){GameSceneView._gameScene.lobby()},t.prototype.mbuttonEnterRoom=function(e){var t=this.edt_roomID.text;if(!/^[0-9]+$/.test(t)||""==t)return void this.showNote("无效的房间号",!0);var r={name:GameData.gameUser.name,avatar:GameData.gameUser.avatar};JSON.stringify(r);mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_GETROOMLIST_EX_RSP,this.getRoomListExResponse,this),mvs.MsEngine.getInstance.getRoomListEx(GameData.thefilter)},t.prototype.getRoomListExResponse=function(e){var t=e.data.status,r=e.data.roomAttrs;e.data.total;if(200!=t)return void this.showNote("房间查询错误"+t,!0);for(var s=this.edt_roomID.text,o=!1,i=0;i<r.length;i++)r[i].roomID==s.trim()&&(o=!0);return 0==o?void this.showNote("没有查找到此房间，请重新输入",!0):(mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_GETROOMLIST_EX_RSP,this.getRoomListExResponse,this),void GameSceneView._gameScene.match(MatchUI.JOINFLAG.WITHROOMID,s.trim()))},t}(eui.Component);__reflect(MatchRoomID.prototype,"MatchRoomID",["eui.UIComponent","egret.DisplayObject"]);var MatchUI=function(e){function t(){var t=e.call(this)||this;return t.joinFlag=1,t._isInRoom=!1,t.isOwner=!1,t.canStartGame=!1,t._playerList=[],t._roomID="",t.default_name="待加入",t.default_rect_color=5592405,t.skinName="MatchUISkin",t.initView(),t}return __extends(t,e),t.prototype.initView=function(){this.addMsResponseListen(),GameData.roomPropertyValue=GameData.roomPropertyType.mapA},t.prototype.getChilds=function(e,t){var r=this;switch(e){case"lab_roomID":this.lab_roomID=t;break;case"group_map":this.group_map=t,this.group_map.visible=!1;break;case"lab_userID":this.lab_userID=t,this.lab_userID.text="用户："+GameData.gameUser.id+"\n"+GameData.gameUser.name;break;case"lab_lobby":this.lab_lobby=t;break;case"lab_matchmode":this.lab_matchmode=t;break;case"lab_player1":this.lab_player1=t;break;case"lab_player2":this.lab_player2=t;break;case"lab_player3":this.lab_player3=t;break;case"lab_player4":this.lab_player4=t;break;case"lab_userID1":this.lab_userID1=t;break;case"lab_userID2":this.lab_userID2=t;break;case"lab_userID3":this.lab_userID3=t;break;case"lab_userID4":this.lab_userID4=t;break;case"rect_player1":this.rect_player1=t;break;case"rect_player2":this.rect_player2=t;break;case"rect_player3":this.rect_player3=t;break;case"rect_player4":this.rect_player4=t;break;case"img_owner":this.img_owner=t,this.img_owner.visible=!1;break;case"btn_start":this.btn_start=t,this.btn_start.enabled=!1,this.btn_start.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonStartGameBtn,this);break;case"btn_return":this.btn_return=t,this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonLeaveRoom,this);break;case"rad_mapA":this.rad_mapA=t,this.rad_mapA.enabled=!1,this.rad_mapA.addEventListener(egret.TouchEvent.TOUCH_TAP,this.radioChangeHandler,this);break;case"rad_mapB":this.rad_mapB=t,this.rad_mapB.enabled=!1,this.rad_mapB.addEventListener(egret.TouchEvent.TOUCH_TAP,this.radioChangeHandler,this);break;case"btn_kick2":this.btn_kick2=t,this.btn_kick2.visible=!1,this.btn_kick2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnKickPlayerClick,this);break;case"btn_kick3":this.btn_kick3=t,this.btn_kick3.visible=!1,this.btn_kick3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnKickPlayerClick,this);break;case"btn_kick4":this.btn_kick4=t,this.btn_kick4.visible=!1,this.btn_kick4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnKickPlayerClick,this);break;case"check_closeRoom":this.check_closeRoom=t,this.check_closeRoom.addEventListener(egret.Event.CHANGE,function(){r.check_closeRoom.label=r.check_closeRoom.selected?"允许加入":"禁止加入",r.check_closeRoom.selected?mvs.MsEngine.getInstance.joinOpen("x"):mvs.MsEngine.getInstance.joinOver("x")},this)}},t.prototype.partAdded=function(t,r){this.getChilds(t,r),e.prototype.partAdded.call(this,t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.joinRoom(this.joinFlag,this.joinInfo)},t.prototype.addMsResponseListen=function(){mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINROOM_RSP,this.joinRoomResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINROOM_NTFY,this.joinRoomNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINOVER_NTFY,this.joinOverNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINOVER_RSP,this.joinOverResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINOPEN_RSP,this.joinOpenResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINOPEN_NTFY,this.joinOpenNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_SENDEVENT_RSP,this.sendEventResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_SENDEVENT_NTFY,this.sendEventNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_LEAVEROOM_RSP,this.leaveRoomResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_LEAVEROOM_NTFY,this.leaveRoomNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_CREATEROOM_RSP,this.createRoomResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_KICKPLAYER_RSP,this.kickPlayerResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_KICKPLAYER_NTFY,this.kickPlayerNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_NETWORKSTATE_NTFY,this.networkStateNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_SETROOMPROPERTY_RSP,this.setRoomPropertyResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_SETROOMPROPERTY_NTFY,this.setRoomPropertynotify,this)},t.prototype.release=function(){mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINROOM_RSP,this.joinRoomResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINROOM_NTFY,this.joinRoomNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINOVER_NTFY,this.joinOverNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINOVER_RSP,this.joinOverResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_SENDEVENT_RSP,this.sendEventResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_SENDEVENT_NTFY,this.sendEventNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINOPEN_RSP,this.joinOpenResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINOPEN_NTFY,this.joinOpenNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_LEAVEROOM_RSP,this.leaveRoomResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_LEAVEROOM_NTFY,this.leaveRoomNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_CREATEROOM_RSP,this.createRoomResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_KICKPLAYER_RSP,this.kickPlayerResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_KICKPLAYER_NTFY,this.kickPlayerNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_NETWORKSTATE_NTFY,this.networkStateNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_SETROOMPROPERTY_RSP,this.setRoomPropertyResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_SETROOMPROPERTY_NTFY,this.setRoomPropertynotify,this)},t.prototype.setJoinParame=function(e,t){this.joinFlag=e,this.joinInfo=t},t.prototype.joinRoom=function(e,t){this.joinFlag=e,1==e?(this.lab_matchmode.text="[随机匹配]",this.joinRandRoom()):2==e?this.createRoom():3==e?(this.joinWithRoomID(t),this.lab_matchmode.text=""):4==e&&(GameData.syncFrame?(this.lab_matchmode.text="[帧同步匹配]",t={match:"frameSync"}):this.lab_matchmode.text="[自定义属性匹配]",this.joinRoomWithPro(t))},t.prototype.joinRandRoom=function(){var e=JSON.stringify({name:GameData.gameUser.name,avatar:GameData.gameUser.avatar});mvs.MsEngine.getInstance.joinRandomRoom(GameData.maxPlayerNum,e)},t.prototype.createRoom=function(){var e=JSON.stringify({name:GameData.gameUser.name,avatar:GameData.gameUser.avatar});mvs.MsEngine.getInstance.createRoom(GameData.createRoomInfo,e)},t.prototype.joinWithRoomID=function(e){var t=JSON.stringify({name:GameData.gameUser.name,avatar:GameData.gameUser.avatar});mvs.MsEngine.getInstance.joinRoom(e,t)},t.prototype.joinRoomWithPro=function(e){var t=JSON.stringify({name:GameData.gameUser.name,avatar:GameData.gameUser.avatar}),r=new MsMatchInfo(GameData.maxPlayerNum,0,0,e);mvs.MsEngine.getInstance.joinRoomWithProperties(r,t)},t.prototype.addPlayerList=function(e,t,r,s,o){void 0===o&&(o=!1);var i=new GameUser;return i.id=e,i.name=t,i.avatar=r,i.tableID=s,i.isOwner=o,this._playerList.push(i),this.showPlayer(i),i},t.prototype.delPlayerList=function(e){for(var t=new GameUser,r=0;r<this._playerList.length;r++)this._playerList[r].id==e&&(t.id=this._playerList[r].id,t.avatar=this._playerList[r].avatar,t.name=this._playerList[r].name,t.tableID=this._playerList[r].tableID,this._playerList.splice(r,1),this.wipePlayer(t))},t.prototype.showPlayer=function(e){var r=e.tableID;this.joinFlag==t.JOINFLAG.CREATEROOM||this.joinFlag==t.JOINFLAG.WITHROOMID?(this.group_map.visible=!0,this.rad_mapA.enabled=this.isOwner,this.rad_mapB.enabled=this.isOwner,console.log("mapValue:",this.rad_mapA.value),console.log("mapValue:",this.rad_mapB.value),this.btn_start.visible=this.isOwner,this.img_owner.visible=this.isOwner,(2==r||3==r||4==r)&&(this["btn_kick"+r].visible=this.isOwner)):(this.btn_start.visible=!1,this.group_map.visible=!1),this.check_closeRoom.visible=!this.canStartGame,this.check_closeRoom.enabled=this.isOwner,this["lab_player"+r].text=r.toString(),this["lab_player"+r].textColor=16777215,e.id==GameData.gameUser.id&&(this["lab_player"+r].text="我"),1==r?(this.rect_player1.fillColor=9164768,this.lab_userID1.text=e.name):2==r?(this.rect_player2.fillColor=9889973,this.lab_userID2.text=e.name):3==r?(this.rect_player3.fillColor=15257232,this.lab_userID3.text=e.name):4==r&&(this.rect_player4.fillColor=163552,this.lab_userID4.text=e.name)},t.prototype.wipePlayer=function(e){var t=e.tableID;1==t?(this.lab_userID1.text=this.default_name,this.rect_player1.fillColor=this.default_rect_color,this.lab_player1.text="1",this.lab_player1.textColor=7697781,this.lab_userID2.text=this.default_name,this.rect_player2.fillColor=this.default_rect_color,this.lab_player2.text="2",this.lab_player2.textColor=7697781,this.lab_userID3.text=this.default_name,this.rect_player3.fillColor=this.default_rect_color,this.lab_player3.text="3",this.lab_player3.textColor=7697781,this.lab_userID4.text=this.default_name,this.rect_player4.fillColor=this.default_rect_color,this.lab_player4.text="4",this.lab_player4.textColor=7697781,this.btn_kick2.visible=!1,this.btn_kick3.visible=!1,this.btn_kick4.visible=!1):2==t?(this.lab_userID2.text=this.default_name,this.rect_player2.fillColor=this.default_rect_color,this.lab_player2.text="2",this.lab_player2.textColor=7697781,this.lab_userID3.text=this.default_name,this.rect_player3.fillColor=this.default_rect_color,this.lab_player3.text="3",this.lab_player3.textColor=7697781,this.lab_userID4.text=this.default_name,this.rect_player4.fillColor=this.default_rect_color,this.lab_player4.text="4",this.lab_player4.textColor=7697781,this.btn_kick2.visible=!1,this.btn_kick3.visible=!1,this.btn_kick4.visible=!1):3==t?(this.lab_userID3.text=this.default_name,this.rect_player3.fillColor=this.default_rect_color,this.lab_player3.text="3",this.lab_player3.textColor=7697781,this.lab_userID4.text=this.default_name,this.rect_player4.fillColor=this.default_rect_color,this.lab_player4.text="4",this.lab_player4.textColor=7697781,this.btn_kick3.visible=!1,this.btn_kick4.visible=!1):4==t&&(this.lab_userID4.text=this.default_name,this.rect_player4.fillColor=this.default_rect_color,this.lab_player4.text="4",this.lab_player4.textColor=7697781,this.btn_kick4.visible=!1),this.img_owner.visible=!1},t.prototype.wipePlayerLocation=function(e,t){this.isOwner=t==GameData.gameUser.id,this.delPlayerList(e);for(var r=0;r<this._playerList.length;r++)this._playerList[r].isOwner=t==this._playerList[r].id,this._playerList[r].tableID=r+1,this.showPlayer(this._playerList[r])},t.prototype.radioChangeHandler=function(e){0==e.target.value?(GameData.roomPropertyValue=GameData.roomPropertyType.mapA,mvs.MsEngine.getInstance.setRoomProperty(this._roomID,GameData.roomPropertyType.mapA)):(GameData.roomPropertyValue=GameData.roomPropertyType.mapB,mvs.MsEngine.getInstance.setRoomProperty(this._roomID,GameData.roomPropertyType.mapB)),console.log("日志选择：",GameData.roomPropertyValue)},t.prototype.mbuttonStartGameBtn=function(e){this._playerList.length>=GameData.maxPlayerNum?(GameData.playerUserIds=this._playerList,mvs.MsEngine.getInstance.joinOver("joinOver")):console.log("人不够，或者还有人没有准备！")},t.prototype.mbuttonLeaveRoom=function(e){this._isInRoom?mvs.MsEngine.getInstance.leaveRoom("累了困了离开一下"):(this.release(),GameSceneView._gameScene.lobby())},t.prototype.btnKickPlayerClick=function(e){var t=0;"btn_kick2"==e.target.name?t=2:"btn_kick3"==e.target.name?t=3:"btn_kick4"==e.target.name&&(t=4);var r=this.getUserForTableID(t);return null==r?void console.info("用户不存在"):void mvs.MsEngine.getInstance.kickPlayer(r.id,"我们不能一起好好的玩游戏")},t.prototype.getUserForTableID=function(e){var t=null;return this._playerList.forEach(function(r){r.tableID==e&&(t=r)}),t},t.prototype.leaveRoomNotify=function(e){var t=e.data;console.info("玩家离开",t);var r=t.userId;t.owner==GameData.gameUser.id?this.isOwner=!0:this.isOwner=!1,this.delPlayerList(r),this.canStartGame=!1;for(var s=0;s<this._playerList.length;s++)t.owner==this._playerList[s].id?this._playerList[s].isOwner=!0:this._playerList[s].isOwner=!1,this._playerList[s].tableID=s+1,this.showPlayer(this._playerList[s])},t.prototype.leaveRoomResponse=function(e){var t=e.data;200!==t.status?console.log("退出房间失败！status="+t.status):(this.release(),GameSceneView._gameScene.lobby())},t.prototype.createRoomResponse=function(e){var t=e.data;if(200==t.status){var r=1;t.owner==GameData.gameUser.id?this.isOwner=!0:this.isOwner=!1,this.addPlayerList(GameData.gameUser.id,GameData.gameUser.name,GameData.gameUser.avatar,r,this.isOwner),this.lab_roomID.text="房间号:"+t.roomID,this._roomID=t.roomID,GameData.roomID=t.roomID,this._isInRoom=!0}else console.info("加入房间失败",t)},t.prototype.joinRoomResponse=function(e){var t=e.data;if(200==t.status){this.lab_roomID.text="房间号:"+t.roomInfo.roomID,this._roomID=t.roomInfo.roomID,GameData.roomID=t.roomInfo.roomID,this._isInRoom=!0,GameData.gameUser.isOwner=!1,t.roomInfo.ownerId==GameData.gameUser.id?this.isOwner=!0:this.isOwner=!1,t.roomInfo.roomProperty===GameData.roomPropertyType.mapB?(GameData.roomPropertyValue=GameData.roomPropertyType.mapB,this.rad_mapB.selected=!0):(GameData.roomPropertyValue=GameData.roomPropertyType.mapA,this.rad_mapA.selected=!0);var r=1;this.addPlayerList(GameData.gameUser.id,GameData.gameUser.name,GameData.gameUser.avatar,r,this.isOwner);for(var s=t.userList,o=0;o<s.length;o++)r++,this.otherJoinShowInfo(s[o].userId,r,s[o].userProfile,t.roomInfo.ownerId==s[o].userId);this.checkStart()}else console.info("加入房间失败",t)},t.prototype.checkStart=function(){console.info("房间人数："+this._playerList.length),this._playerList.length==GameData.maxPlayerNum?(console.info("可以开始游戏"),this.canStartGame=!0,this.check_closeRoom.visible=!1,this.joinFlag==t.JOINFLAG.CREATEROOM||this.joinFlag==t.JOINFLAG.WITHROOMID?(this.btn_start.visible=this.isOwner,this.btn_start.enabled=this.isOwner):(this.isOwner&&mvs.MsEngine.getInstance.joinOver("人满开始游戏"),this.btn_start.visible=!1,this.btn_start.enabled=!1)):(this.canStartGame=!1,this.btn_start.enabled=!1,this.check_closeRoom.visible=!0)},t.prototype.otherJoinShowInfo=function(e,t,r,s){if(void 0===s&&(s=!1),r&&""!==r){var o="",i="",a=JSON.parse(r);a.name&&(o=a.name),a.avatar&&(i=a.avatar),this.addPlayerList(e,o,i,t,s)}},t.prototype.joinRoomNotify=function(e){var t=e.data,r=(t.userId,this._playerList.length+1);this.otherJoinShowInfo(t.userId,r,t.userProfile,t.userId==t.owner),this.checkStart()},t.prototype.notifyGameStart=function(){GameData.isRoomOwner=!0;var e=[];this._playerList.forEach(function(t){e.push({id:t.id,name:t.name,avatar:t.avatar})});var t={action:GameData.gameStartEvent,userIds:e},r=mvs.MsEngine.getInstance.sendEvent(JSON.stringify(t));return 0!==r.result?console.log("发送游戏开始通知失败，错误码"+r.result):(GameData.events[r.sequence]=t,void console.log("发起游戏开始的通知，等待回复"))},t.prototype.sendEventResponse=function(e){var t=e.data;if(200!==t.status)return console.log("事件发送失败,status:"+status);GameData.gameUser.isOwner=this.isOwner;var r=GameData.events[t.sequence];r&&r.action===GameData.gameStartEvent&&(delete GameData.events[t.sequence],this.release(),GameSceneView._gameScene.play())},t.prototype.sendEventNotify=function(e){console.log("收到消息",e.data),GameData.gameUser.isOwner=this.isOwner;
var t=e.data;t&&t.cpProto&&t.cpProto.indexOf(GameData.gameStartEvent)>=0&&(GameData.playerUserIds=this._playerList,this.release(),GameSceneView._gameScene.play())},t.prototype.joinOverResponse=function(e){var t=e.data;if(200===t.status){if(console.log("关闭房间成功"),this.canStartGame)return this.notifyGameStart(),void(GameData.playerUserIds=this._playerList)}else console.log("关闭房间失败，回调通知错误码：",t.status);this.check_closeRoom.selected=200==t.status?!1:this.check_closeRoom.selected},t.prototype.joinOverNotify=function(e){var t=e.data;console.log("userID:"+t.userID+" 关闭房间："+t.roomID+" cpProto:"+t.cpProto),this.check_closeRoom.selected=!1,this.check_closeRoom.label="禁止加入"},t.prototype.joinOpenResponse=function(e){var t=e.data;this.check_closeRoom.selected=200==t.status?!0:this.check_closeRoom.selected},t.prototype.joinOpenNotify=function(e){e.data;this.check_closeRoom.selected=!0,this.check_closeRoom.label="允许加入"},t.prototype.cancelStart=function(e,t){this.btn_start.enabled=!1,this.btn_start.visible=this.isOwner,this.canStartGame=!1,this.check_closeRoom.visible=!0},t.prototype.kickPlayerResponse=function(e){var t=e.data;this.cancelStart(t.userID,this._roomID),this.wipePlayerLocation(t.userID,t.owner)},t.prototype.kickPlayerNotify=function(e){var t=e.data;console.info("玩家离开",t),t.userID==GameData.gameUser.id?(this.release(),GameSceneView._gameScene.lobby()):(this.cancelStart(t.userID,this._roomID),this.wipePlayerLocation(t.userID,t.owner))},t.prototype.networkStateNotify=function(e){var t=e.data,r=t.userID;this.cancelStart(r,t.roomID),(t.state=1)?(console.info("玩家断开:"+r),mvs.MsEngine.getInstance.kickPlayer(r,"玩家断线踢掉")):2==t.state?console.info("玩家正在从新连接..."+r):(console.info("玩家离开"+r),this.wipePlayerLocation(t.userID,t.owner))},t.prototype.setRoomPropertynotify=function(e){var t=e.data;console.log("roomProperty = "+t.roomProperty),t.roomProperty===GameData.roomPropertyType.mapB?(GameData.roomPropertyValue=GameData.roomPropertyType.mapB,this.rad_mapB.selected=!0):(GameData.roomPropertyValue=GameData.roomPropertyType.mapA,this.rad_mapA.selected=!0)},t.prototype.setRoomPropertyResponse=function(e){console.log("roomProperty = "+e.data.roomProperty)},t.JOINFLAG={RANDROOM:1,CREATEROOM:2,WITHROOMID:3,WITHPROPERTY:4},t}(eui.Component);__reflect(MatchUI.prototype,"MatchUI",["eui.UIComponent","egret.DisplayObject"]);var ReconnectUI=function(e){function t(){var t=e.call(this)||this;return t._reconnctTimes=1,t._totalTimes=5,t.skinName="ReconnectUISkin",t.addMsResponseListen(),t}return __extends(t,e),t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r),"btn_return"==t&&(this.btn_return=r,this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonExitRoom,this))},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.lab_note.text="重连中..."+this._reconnctTimes+"/"+this._totalTimes+"(尝试执行重连[测试])",this._timer=new egret.Timer(1e3,5),this._timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this._timer.start()},t.prototype.mbuttonExitRoom=function(e){GameSceneView._gameScene.login()},t.prototype.addMsResponseListen=function(){mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_RECONNECT_RSP,this.reconnectResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_ERROR_RSP,this.errorResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_LEAVEROOM_RSP,this.leaveRoomResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_SENDEVENT_RSP,this.sendEventResponse,this)},t.prototype.release=function(){mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_ERROR_RSP,this.errorResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_LEAVEROOM_RSP,this.leaveRoomResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_SENDEVENT_RSP,this.sendEventResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_RECONNECT_RSP,this.reconnectResponse,this)},t.prototype.timerFunc=function(e){this.lab_note.text="重连中..."+this._reconnctTimes+"/"+this._totalTimes,console.log(this.lab_note.text);var t=mvs.MsEngine.getInstance.reconnect();this._reconnctTimes++,this._reconnctTimes>this._totalTimes&&(this._timer.stop(),0===t?(mvs.MsEngine.getInstance.leaveRoom(""),GameSceneView._gameScene.lobby()):(mvs.MsEngine.getInstance.leaveRoom(""),GameSceneView._gameScene.login()),this.release())},t.prototype.reconnectResponse=function(e){console.log("重新连接回调成功");var t=e.data,r=t.roomUserInfoList,s=t.roomInfo;this._timer.stop(),t.status&&200===t.status?(console.log("重连成功status:"+t.status+" 重连次数："+this._reconnctTimes),GameData.playerUserIds=[],GameData.playerUserIds.push(GameData.gameUser),r.forEach(function(e){if(console.log("用户ID："+e.userID),GameData.gameUser.id!==e.userID){var t={name:"",avatar:""};""!==e.userProfile&&(t=JSON.parse(e.userProfile));var r=new GameUser;r.avatar=t.avatar,r.name=t.name,r.id=e.userID,r.isOwner=e.userID==s.ownerId,GameData.playerUserIds.push(r)}}),GameData.roomPropertyValue=s.roomProperty,GameData.roomID=s.roomID,GameData.isRoomOwner=!1,GameData.playerUserIds.length===GameData.maxPlayerNum&&2===s.state?this.sendReadyEvent():(console.log("还没有开始游戏或者游戏结束, 退出到大厅"),mvs.MsEngine.getInstance.leaveRoom("leaveRoom"),this.release(),GameSceneView._gameScene.lobby())):(console.log("重连失败"+this._reconnctTimes),this.lab_note.text="重连失败......"+this._reconnctTimes+"/"+this._totalTimes,this.release(),GameSceneView._gameScene.lobby())},t.prototype.sendEventResponse=function(e){var t=e.data;if(200===t.status){var r=GameData.events[t.sequence];r&&r.action===GameData.reconnectReadyEvent&&(delete GameData.events[t.sequence],this.release(),GameSceneView._gameScene.play())}else this.release(),mvs.MsEngine.getInstance.leaveRoom("leaveRoom"),GameSceneView._gameScene.lobby()},t.prototype.errorResponse=function(e){this.lab_note.text="重连失败！",this._timer.stop()},t.prototype.mbuttonCancleBtn=function(e){this._timer.stop(),this.release(),mvs.MsEngine.getInstance.leaveRoom("")},t.prototype.leaveRoomResponse=function(e){console.log("取消重新连接，离开房间:"+e.status)},t.prototype.sendReadyEvent=function(){var e={action:GameData.reconnectReadyEvent,userID:GameData.gameUser.id},t=mvs.MsEngine.getInstance.sendEvent(JSON.stringify(e));return t&&0===t.result?(GameData.events[t.sequence]=e,void console.log("重连发送信息成功")):(console.log("重连发送信息失败"),mvs.MsEngine.getInstance.leaveRoom("leaveRoom"),GameSceneView._gameScene.lobby(),void this.release())},t}(eui.Component);__reflect(ReconnectUI.prototype,"ReconnectUI",["eui.UIComponent","egret.DisplayObject"]);var RoomItem=function(e){function t(t){var r=e.call(this)||this;return r._parent=null,r.isme=!1,r._parent=t,r.skinName="RoomItemSkin",r}return __extends(t,e),t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r)},t.prototype.showInfo=function(e,t,r,s,o){this.lab_roomID.text="房间号："+e;var i=1==t?"待加入":"已关闭";this.lab_state.text="房间状态："+i;var a=o===GameData.roomPropertyType.mapA?"彩图":"灰图";this.lab_map.text="地图："+a,this.lab_roomNum.text="房间人数："+r+"/"+s,mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_GETROOMDETAIL_RSP,this.getRoomDetailResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_GETROOMDETAIL_RSP,this.getRoomDetailResponse,this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.btn_enter.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonEnterRoom,this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this._parent=this.data._parent,this.layContents(this.data._roomID,this.data._state,this.data._num,this.data._max,this.data._map),this.showInfo(this._roomID,this._state,this._num,this._max,this._map)},t.prototype.layContents=function(e,t,r,s,o){this._roomID=e,this._state=t,this._num=r,this._max=s,this._map=o},t.prototype.getRoomDetail=function(e){mvs.MsEngine.getInstance.getRoomDetail(e)},t.prototype.getRoomDetailResponse=function(e){var t=e.data;return 200!==t.status?void console.log("getRoomDetailResponse error status:"+t.status):void(1===t.state?(console.log("检查房间状态为：开放状态可以进入"),this.Release(),this.isme&&GameSceneView._gameScene.match(MatchUI.JOINFLAG.WITHROOMID,this._roomID)):console.log("检查房间状态为：关闭状态不可以进入，请刷新房间列表"))},t.prototype.mbuttonEnterRoom=function(e){console.log("点击按钮加入房间号：",this._roomID),this.isme=!0,this.getRoomDetail(this._roomID)},t.prototype.removeEventListe=function(){mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_GETROOMDETAIL_RSP,this.getRoomDetailResponse,this),this.btn_enter.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonEnterRoom,this)},t.prototype.Release=function(){this._parent.Release(),this.removeEventListe()},t}(eui.ItemRenderer);__reflect(RoomItem.prototype,"RoomItem");var RoomListUI=function(e){function t(){var t=e.call(this)||this;return t.roomItemA=new eui.ArrayCollection([]),t._roomListSprite=null,t.skinName="RoomListUISkin",t}return __extends(t,e),t.prototype.partAdded=function(t,r){e.prototype.partAdded.call(this,t,r),this.getChilds(t,r)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this._roomListSprite=new egret.Sprite,this.addChild(this._roomListSprite),this.getRoomListEx(),this._timer=new egret.Timer(2e3,0),this._timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_GETROOMLIST_EX_RSP,this.getRoomListExResponse,this),this._timer.start()},t.prototype.getChilds=function(e,t){"lab_userID"==e?(this.lab_userID=t,this.lab_userID.text="用户："+GameData.gameUser.id+"\n"+GameData.gameUser.name):"img_header"==e?(this.img_header=t,this.img_header.source=GameData.gameUser.avatar):"btn_return"==e?(this.btn_return=t,this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mbuttonExitRoom,this)):"data_roomList"==e?this.data_roomList=t:"lab_getInfo"==e&&(this.lab_getInfo=t)},t.prototype.mbuttonExitRoom=function(e){this._timer.stop(),GameSceneView._gameScene.lobby()},t.prototype.timerFunc=function(e){this.getRoomListEx()},t.prototype.getRoomListEx=function(){mvs.MsEngine.getInstance.getRoomListEx(GameData.thefilter)},t.prototype.getRoomListExResponse=function(e){var t=e.data;if(200!==t.status)return void(this.lab_getInfo.text="获取失败!");if(0===t.roomAttrs.length)return this.lab_getInfo.text="当前没有房间",void(this.data_roomList.dataProvider=new eui.ArrayCollection([]));this.lab_getInfo.text="",this.roomItemA.removeAll();for(var r=0;r<t.roomAttrs.length;r++){console.log("房间数：",t.total+":"+t.roomAttrs.length);var s={_parent:this,_roomID:t.roomAttrs[r].roomID,_num:t.roomAttrs[r].gamePlayer,_state:t.roomAttrs[r].state,_map:t.roomAttrs[r].roomProperty,_max:t.roomAttrs[r].maxPlayer};this.roomItemA.addItem(s)}this.data_roomList.dataProvider=this.roomItemA,this.data_roomList.itemRenderer=RoomItem},t.prototype.Release=function(){this._timer.stop(),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_GETROOMLIST_EX_RSP,this.getRoomListExResponse,this)},t}(eui.Component);__reflect(RoomListUI.prototype,"RoomListUI",["eui.UIComponent","egret.DisplayObject"]);var ArrayUtils=function(){function e(){}return e.removeElements=function(e,t){for(var r=0;r<t.length;r++)for(var s=0;s<e.length;s++)if(t[r]==e[s]){e=this.slice(e,0,s).concat(this.slice(e,s+1,e.length));break}return e},e.slice=function(e,t,r){return 0>t||0>r||t>e.length||r>e.length?[]:e.slice(t,r)},e}();__reflect(ArrayUtils.prototype,"ArrayUtils");var Poker=function(){function e(e,t){this.id=e,this.orderValue=t}return e.prototype.getId=function(){return this.id},e.prototype.getOrderValue=function(){return this.orderValue},e.prototype.toString=function(){return"["+this.id+","+this.orderValue+"]"},e}();__reflect(Poker.prototype,"Poker");var PokerCompareUtils=function(){function e(){}return e.comparePokers=function(e,t){var r=PokerUtils.sortDescPokers(e),s=PokerUtils.sortDescPokers(t);if(s.length<1)return!0;if(-1!=PokerTypeUtils.isKingBoom(s))return!1;if(-1!=PokerTypeUtils.isKingBoom(r))return!0;if(-1!=PokerTypeUtils.isBoom(s))return-1!=PokerTypeUtils.isBoom(r)?this.compareOneLenghtBoom(r,s):!1;if(-1!=PokerTypeUtils.isBoom(r))return!0;if(e.length!=t.length)return!1;var o=PokerTypeUtils.getType(r),i=PokerTypeUtils.getType(s),a=PokerTypeUtils.getSpecialType(r),h=PokerTypeUtils.getSpecialType(s);if(null==o||null!=a){if(null==o&&null!=a){if(a.getType()!=h.getType())return!1;if(null==h)return!1;for(var n=!1,l=0;l<a.getSort().length;l++)n=a.getSort()[l].getThreeValue()>h.getSort()[l].getThreeValue()&&a.getSort()[l].getTwoValue()>h.getSort()[l].getTwoValue()?!0:!1;return n?!0:!1}return!1}if(null==i&&null!=h){if("typeThreePair"===h.getType()&&"typeThreePairOn"===o.getType())return o.getSort()>h.getSort()[0].getThreeValue()&&o.getSort()>h.getSort()[0].getTwoValue()-1?!0:!1;if("typeThreePair"===h.getType()&&"typeThreePairUnder"===o.getType())return o.getSort()>h.getSort()[0].getThreeValue()&&o.getSort()>h.getSort()[0].getTwoValue()+1?!0:!1}return null!=i&&null==h?"typeStraightPairs"===i.getType()||"typePlane"===i.getType()||"typePlaneNPairsConnection3322"===i.getType()||"typePlaneNPairsConnection2233"===i.getType()||"typePlaneNPairsConnection2332"===i.getType()?this.compareOneLenght(r,s):o.getSort()>i.getSort():void 0},e.compareOne=function(e,t){return e.getOrderValue()>t.getOrderValue()?!0:!1},e.compareOneLenght=function(e,t){return e.length>t.length?!1:e.length<t.length?!1:e.length===t.length?e[0].getOrderValue()>t[0].getOrderValue()?!0:!1:void 0},e.compareOneLenghtBoom=function(e,t){return e.length>t.length?!0:e.length<t.length?!1:e.length===t.length?e[0].getOrderValue()>t[0].getOrderValue()?!0:!1:void 0},e}();__reflect(PokerCompareUtils.prototype,"PokerCompareUtils");var PokerSeekUtils=function(){function e(){}return e.seekRight=function(e,t){var r=PokerUtils.sortDescPokers(e),s=PokerUtils.sortDescPokers(t);console.log("seekRight",r,s);var o=PokerTypeUtils.getType(t),i=PokerTypeUtils.getSpecialType(t),a=null;if(null!=o&&null==i&&(o.getType()===PokerTypeUtils.typeKingBoom?a=null:o.getType()===PokerTypeUtils.typeBoom?a=this.seekBoom(r,o.getSort(),t.length):o.getType()===PokerTypeUtils.typeSingle?a=this.seekSingle(r,o.getSort()):o.getType()===PokerTypeUtils.typePair?a=this.seekPairs(r,o.getSort()):o.getType()===PokerTypeUtils.typeThree?a=this.seekThree(r,o.getSort()):o.getType()===PokerTypeUtils.typeThreePairOn?a=this.seekThreePairOn(r,o.getSort()):o.getType()===PokerTypeUtils.typeThreePairUnder?a=this.seekThreePairUnder(r,o.getSort()):o.getType()===PokerTypeUtils.typeStraightPairs?a=this.seekStraightPairs(r,o.getSort(),s.length/2):o.getType()===PokerTypeUtils.typePlane?a=this.seekPlane(r,o.getSort(),s.length/2):o.getType()===PokerTypeUtils.typePlaneNPairsConnection2233?a=this.seekPlaneNPairsConnection2233(r,o.getSort(),t.length/5):o.getType()===PokerTypeUtils.typePlaneNPairsConnection3322?a=this.seekPlaneNPairsConnection3322(r,o.getSort(),t.length/5):o.getType()===PokerTypeUtils.typePlaneNPairsConnection2332&&(a=this.seekPlaneNPairsConnection2332(r,o.getSort()))),null==o&&null!=i&&(console.log("找特殊类型"),i.getType()===PokerTypeUtils.typeThreePair?a=this.seekThreePair(r,i.getSort()):i.getType()===PokerTypeUtils.typePlaneNPairs?a=this.seekPlaneNPairs(r,i.getSort(),t.length/5):i.getType()===PokerTypeUtils.typePlaneNPairsConnection&&(a=this.seekPlaneNPairsConnection(r,i.getSort(),t.length/5))),null==o&&null==i&&console.log("没有找到类型"),null==a||0==a.length){var h=!0;if(null!=o&&(o.getType()==PokerTypeUtils.typeKingBoom||o.getType()==PokerTypeUtils.typeBoom)&&(h=!1,console.log("类型为炸弹，不可行")),h){var n=Math.floor(3*Math.random()+1);n%2!=0&&(a=this.seekBoom(r,0,4))}}return null!=a&&a.length>0?a:[]},e.seekBoom=function(e,t,r){console.log("找呀找炸弹");for(var s=-1,o=-1,i=new Array,a=0;a<e.length;a++)i.push(e[a].getOrderValue());for(var h=i.length-1;h>=0&&(i[h]>t&&(o=i.lastIndexOf(i[h])-i.indexOf(i[h]),o>=r-1&&(s=i.indexOf(i[h]))),-1==s);h--);var n=new Array;if(-1!=s)for(var l=0;o+1>l;l++)n.push(e[l+s]);return n},e.seekSingle=function(e,t){console.log("找呀找单张");for(var r=new Array,s=0;s<e.length;s++)r.push(e[s].getOrderValue());for(var o=r.length-1;o>=0;o--){var i=r.lastIndexOf(r[o])-r.indexOf(r[o]);if(0===i&&r[o]>t)return[e[o]]}for(var o=r.length-1;o>=0;o--){var i=r.lastIndexOf(r[o])-r.indexOf(r[o]);if(2===i&&r[o]>t)return[e[o]]}for(var o=r.length-1;o>=0;o--){var i=r.lastIndexOf(r[o])-r.indexOf(r[o]);if(1===i&&r[o]>t)return[e[o]]}return[]},e.seekPairs=function(e,t){console.log("找呀找对子");for(var r=new Array,s=0;s<e.length;s++)r.push(e[s].getOrderValue());for(var o=r.length-1;o>=0;o--){var i=r.lastIndexOf(r[o])-r.indexOf(r[o]);if(1===i&&r[o]>t)return[e[o-1],e[o]]}for(var o=r.length-1;o>=0;o--){var i=r.lastIndexOf(r[o])-r.indexOf(r[o]);if(2===i&&r[o]>t)return[e[o-1],e[o]]}return[]},e.seekThree=function(e,t){console.log("找呀找三张");for(var r=e.length-1;r>=2;r--)if(e[r].getOrderValue()===e[r-1].getOrderValue()&&e[r].getOrderValue()===e[r-2].getOrderValue()&&e[r].getOrderValue()>t)return[e[r],e[r-1],e[r-2]];return[]},e.seekThreePair=function(e,t){console.log("找呀找乱靠");for(var r=0,s=new Array,o=e.length-1;o>=2;o--)if(e[o].getOrderValue()===e[o-1].getOrderValue()&&e[o].getOrderValue()===e[o-2].getOrderValue()&&e[o].getOrderValue()>t[0].getThreeValue()){r=o,s.push(e[o],e[o-1],e[o-2]);break}if(0!=r)for(var i=0,o=e.length-1;o>=2;o--)if(e[o].getOrderValue()===e[o-1].getOrderValue()&&e[o].getOrderValue()>t[0].getTwoValue()){if(o==r||o==r-1||o==r-2)continue;i=o,s.push(e[o],e[o-1]);break}return null!=s&&5===s.length?s:[]},e.seekThreePairOn=function(e,t){console.log("找呀找上靠");for(var r=e.length-1;r>=4;r--)if(e[r].getOrderValue()===e[r-1].getOrderValue()&&e[r].getOrderValue()===e[r-2].getOrderValue()&&e[r].getOrderValue()-e[r-3].getOrderValue()===-1&&e[r-3].getOrderValue()===e[r-4].getOrderValue()&&e[r].getOrderValue()>t)return[e[r],e[r-1],e[r-2],e[r-3],e[r-4]];return[]},e.seekThreePairUnder=function(e,t){console.log("找呀找下靠");for(var r=e.length-1;r>=4;r--)if(e[r].getOrderValue()===e[r-1].getOrderValue()&&e[r].getOrderValue()-e[r-2].getOrderValue()===-1&&e[r-2].getOrderValue()===e[r-3].getOrderValue()&&e[r-2].getOrderValue()===e[r-4].getOrderValue()&&e[r-2].getOrderValue()>t)return[e[r],e[r-1],e[r-2],e[r-3],e[r-4]];return[]},e.seekStraightPairs=function(e,t,r){console.log("找呀找连对");for(var s=new Array,o=t-r+2,i=new Array,a=0;a<e.length;a++)i.push(e[a].getOrderValue());for(var h=i.length-1;h>=0;h--){var n=!0;if(i[h]>=o)for(var l=0;r>l;l++){var p=i[h]+l;if(p>12){n=!1;break}if(!(i.lastIndexOf(p)-i.indexOf(p)>0)){n=!1;break}n=!0}if(n&&i[h]>=o){for(var d=0;r>d;d++){var u=i.lastIndexOf(i[h]+d);s.push(e[u]),s.push(e[u-1])}return s}}return[]},e.seekPlane=function(e,t,r){console.log("找呀找飞机");for(var s=new Array,o=t-r+2,i=new Array,a=0;a<e.length;a++)i.push(e[a].getOrderValue());for(var h=i.length-1;h>=0;h--){var n=!0;if(i[h]>=o)for(var l=0;r>l;l++){var p=i[h]+l;if(!(i.lastIndexOf(p)-i.indexOf(p)>1)){n=!1;break}n=!0}if(n&&i[h]>=o){for(var d=0;r>d;d++){var u=i.lastIndexOf(i[h]+d);s.push(e[u]),s.push(e[u-1]),s.push(e[u-2])}return s}}return[]},e.seekPlaneNPairs=function(e,t,r){console.log("找呀找飞机带对子");for(var s=new Array,o=new Array,i=0;i<e.length;i++)o.push(e[i].getOrderValue());for(var a=o.length-1;a>=0;a--){var h=!0;if(o[a]>t[t.length-1].getThreeValue())for(var n=0;r>n;n++){var l=o[a]+n;if(!(o.lastIndexOf(l)-o.indexOf(l)>1)){h=!1;break}h=!0}if(h&&o[a]>=t[t.length-1].getThreeValue()){for(var p=0;r>p;p++){var d=o.lastIndexOf(o[a]+p);s.push(e[d]),s.push(e[d-1]),s.push(e[d-2])}break}}if(null==s)return[];for(var u=t.length-1,a=o.length-1;a>=0;a--){var g=!0;if(o[a]>t[u].getTwoValue()){var k=o[a];g=o.lastIndexOf(k)-o.indexOf(k)===1?!0:!1}if(g&&o[a]>=t[u].getTwoValue()){var m=o.lastIndexOf(o[a]);s.push(e[m]),s.push(e[m-1]),u--}if(0>u)break}return null!=s?s:[]},e.seekPlaneNPairsConnection=function(e,t,r){console.log("找呀找飞机带对子");for(var s=new Array,o=new Array,i=0;i<e.length;i++)o.push(e[i].getOrderValue());for(var a=o.length-1;a>=0;a--){var h=!0;if(o[a]>t[t.length-1].getThreeValue())for(var n=0;r>n;n++){var l=o[a]+n;if(!(o.lastIndexOf(l)-o.indexOf(l)>1)){h=!1;break}h=!0}if(h&&o[a]>=t[t.length-1].getThreeValue()){for(var p=0;r>p;p++){var d=o.lastIndexOf(o[a]+p);s.push(e[d]),s.push(e[d-1]),s.push(e[d-2])}break}}if(null==s)return[];for(var a=o.length-1;a>=0;a--){var u=!0;if(o[a]>t[t.length-1].getTwoValue())for(var n=0;r>n;n++){var g=o[a]+n;if(o.lastIndexOf(g)-o.indexOf(g)!==1){u=!1;break}u=!0}if(u&&o[a]>=t[t.length-1].getTwoValue()){for(var p=0;r>p;p++){var k=o.lastIndexOf(o[a]+p);s.push(e[k]),s.push(e[k-1])}break}}return null!=s?s:[]},e.seekPlaneNPairsConnection2233=function(e,t,r){console.log("找呀找飞机带对子(有序2233)");for(var s=new Array,o=new Array,i=0;i<e.length;i++)o.push(e[i].getOrderValue());for(var a=o.length-1;a>=0;a--){var h=!0,n=!0;if(o[a]>t){for(var l=0;r>l;l++){var p=o[a]+l;if(!(o.lastIndexOf(p)-o.indexOf(p)>0)){h=!1;break}h=!0}if(h)for(var l=0;r>l;l++){var d=o[a]-2*r;if(!(o.lastIndexOf(d)-o.indexOf(d)>1)){n=!1;break}n=!0}if(h&&n){for(var u=0;r>u;u++){var g=o.lastIndexOf(o[a]+u);s.push(e[g]),s.push(e[g-1])}for(var u=0;r>u;u++){var k=o.lastIndexOf(o[a]-2*r+u);s.push(e[k]),s.push(e[k-1]),s.push(e[k-2])}break}}}return null!=s?s:[]},e.seekPlaneNPairsConnection3322=function(e,t,r){console.log("找呀找飞机带对子(有序3322)");for(var s=new Array,o=new Array,i=0;i<e.length;i++)o.push(e[i].getOrderValue());for(var a=o.length-1;a>=0;a--){var h=!0,n=!0;if(o[a]>t){for(var l=0;r>l;l++){var p=o[a]+l,d=o.lastIndexOf(p)-o.indexOf(p);if(!(d>1&&3!=d)){n=!1;break}n=!0}if(n)for(var l=0;r>l;l++){var u=o[a]-3*r;if(o.lastIndexOf(u)-o.indexOf(u)!==1){h=!1;break}h=!0}if(h&&n){for(var g=0;r>g;g++){var k=o.lastIndexOf(o[a]+g);s.push(e[k]),s.push(e[k-1]),s.push(e[k-2])}for(var g=0;r>g;g++){var m=o.lastIndexOf(o[a]-3*r+g);s.push(e[m]),s.push(e[m-1])}break}}}return null!=s?s:[]},e.seekPlaneNPairsConnection2332=function(e,t){return console.log("找呀找飞机带对子(有序2332)"),[]},e.randomPlay=function(e){e=PokerUtils.sortDescPokers(e);for(var t=new Array,r=0;r<e.length;r++)t.push(e[r].getOrderValue());var s=new Array;if(e.length>=15){console.log("牌数>=15");for(var o=t.length-1;o>=0;o--)if(t[o]<10&&t.indexOf(t[o])-t.lastIndexOf(t[o])==0)return[e[o]];for(var o=t.length-1;o>=0;o--)if(t[o]<10&&t.lastIndexOf(t[o])-t.indexOf(t[o])==1)return[e[o],e[o-1]];var i=new Array;if(i.push(new ThreePair(0,0)),s=this.seekThreePair(e,i),null!=s||s.length>0)return s;if(s=this.seekStraightPairs(e,0,3),null!=s||s.length>0)return s}else if(e.length<15&&e.length>5){console.log("7<牌数<15");for(var o=t.length-1;o>=0;o--)if(t.indexOf(t[o])-t.lastIndexOf(t[o])==0)return[e[o]];for(var o=t.length-1;o>=0;o--)if(t.lastIndexOf(t[o])-t.indexOf(t[o])==1)return[e[o],e[o-1]];var i=new Array;if(i.push(new ThreePair(0,0)),s=this.seekThreePair(e,i),null!=s||s.length>0)return s}else{if(5==e.length){if(console.log("牌数=5"),e[0].getOrderValue()==e[1].getOrderValue()&&e[0].getOrderValue()==e[2].getOrderValue()&&e[0].getOrderValue()==e[3].getOrderValue()&&e[3].getOrderValue()!=e[4].getOrderValue())return[e[4]];if(e[0].getOrderValue()!=e[1].getOrderValue()&&e[1].getOrderValue()==e[2].getOrderValue()&&e[1].getOrderValue()==e[3].getOrderValue()&&e[1].getOrderValue()==e[4].getOrderValue())return[e[0]];if(e[0].getOrderValue()==e[1].getOrderValue()&&e[0].getOrderValue()==e[2].getOrderValue()&&e[0].getOrderValue()!=e[3].getOrderValue()&&e[3].getOrderValue()==e[4].getOrderValue())return e;if(e[0].getOrderValue()==e[1].getOrderValue()&&e[0].getOrderValue()!=e[2].getOrderValue()&&e[2].getOrderValue()==e[3].getOrderValue()&&e[3].getOrderValue()==e[4].getOrderValue())return e;for(var a=-1,o=t.length-1;o>=0;o--)if(t.indexOf(t[o])-t.lastIndexOf(t[o])==-2){a=o;break}if(-1!=a)return[e[a],e[a-1],e[a-1]];if(e[0].getOrderValue()==e[1].getOrderValue()&&e[1].getOrderValue()!=e[2].getOrderValue()&&e[2].getOrderValue()==e[3].getOrderValue()&&e[3].getOrderValue()!=e[4].getOrderValue())return[e[2],e[3]];if(e[0].getOrderValue()==e[1].getOrderValue()&&e[1].getOrderValue()!=e[2].getOrderValue()&&e[2].getOrderValue()!=e[3].getOrderValue()&&e[3].getOrderValue()==e[4].getOrderValue())return[e[3],e[4]];if(e[0].getOrderValue()!=e[1].getOrderValue()&&e[1].getOrderValue()==e[2].getOrderValue()&&e[2].getOrderValue()!=e[3].getOrderValue()&&e[3].getOrderValue()==e[4].getOrderValue())return[e[3],e[4]];for(var h=0,o=t.length-1;o>=0;o--)t.indexOf(t[o])-t.lastIndexOf(t[o])==0&&h++;if(3==h){for(var n=-1,o=t.length-1;o>=0;o--)if(t.lastIndexOf(t[o])-t.indexOf(t[o])==1){n=o;break}var l=Math.floor(2*Math.random());return 0==l?[e[n],e[n-1]]:this.autoOutSinglePlay(e)}return this.autoOutSinglePlay(e)}if(4==e.length){if(console.log("牌数=4"),e[0].getOrderValue()==e[1].getOrderValue()&&e[0].getOrderValue()==e[2].getOrderValue()&&e[0].getOrderValue()==e[3].getOrderValue())return e;for(var p=-1,o=t.length-1;o>=0;o--)if(t.indexOf(t[o])-t.lastIndexOf(t[o])==2){p=o;break}if(-1!=p)return[e[p],e[p-1],e[p-2]];if(e[0].getOrderValue()==e[1].getOrderValue()&&e[0].getOrderValue()!=e[2].getOrderValue()&&e[2].getOrderValue()==e[3].getOrderValue())return[e[2],e[3]];for(var d=-1,o=t.length-1;o>=0;o--)if(t.indexOf(t[o])-t.lastIndexOf(t[o])==-1){d=o;break}var l=Math.floor(2*Math.random());return-1!=d&&0==l?[e[d],e[d-1]]:this.autoOutSinglePlay(e)}if(3==e.length){if(console.log("牌数=3"),e[0].getOrderValue()==e[1].getOrderValue()&&e[0].getOrderValue()==e[2].getOrderValue())return e;var l=Math.floor(2*Math.random());return e[0].getOrderValue()==e[1].getOrderValue()&&e[1].getOrderValue()!=e[2].getOrderValue()?0==l?[e[0],e[1]]:this.autoOutSinglePlay(e):e[0].getOrderValue()!=e[1].getOrderValue()&&e[1].getOrderValue()==e[2].getOrderValue()&&0==l?[e[1],e[2]]:this.autoOutSinglePlay(e)}if(2==e.length)return console.log("牌数=2"),e[0].getOrderValue()==e[1].getOrderValue()?e:this.autoOutSinglePlay(e)}return this.autoOutSinglePlay(e)},e.autoOutSinglePlay=function(e){console.log("自动给单张");for(var t=new Array,r=0;r<e.length;r++)t.push(e[r].getOrderValue());for(var s=t.length-1;s>=0;s--)if(t.indexOf(t[s])-t.lastIndexOf(t[s])==0)return[e[s]];return[e[e.length-1]]},e.autoThrowPlay=function(e){console.log("自动抛出一张单张");for(var t=new Array,r=0;r<e.length;r++)t.push(e[r].getOrderValue());for(var s=t.length-1;s>=0;s--)if(t[s]<14&&t.indexOf(t[s])-t.lastIndexOf(t[s])==0)return[e[s]];return[e[e.length-1]]},e.autoPrompt=function(e,t,r,s,o){return t==o||null==s||0==s.length?this.randomPlay(e):o==r&&4==s.length?[]:this.seekRight(e,s)},e.autoPromptOnline=function(e,t){return null==t||0==t.length?this.randomPlay(e):this.seekRight(e,t)},e.autoPlay=function(e,t,r,s,o){if(console.log("轮到我出牌了，座位号：",t,"上家出牌，座位号：",o,"是否同一阵营：",r),null==e||0==e.length)return console.log("没牌了"),[];if(null==s||0==s.length)return this.randomPlay(e);if(t===o)return this.randomPlay(e);if(o===r){if(-1!=PokerTypeUtils.isSingle(s)){if(s[0].getOrderValue()<=11)return(null!=this.seekRight(e,s)||this.seekRight(e,s).length>0)&&1==this.seekRight(e,s).length&&this.seekRight(e,s)[0].getOrderValue()>12?[]:this.seekRight(e,s)}else if(-1!=PokerTypeUtils.isPair(s)){if(s[0].getOrderValue()<10)return this.seekRight(e,s)}else if(-1!=PokerTypeUtils.isThree(s)){if(s[0].getOrderValue()<12)return this.seekRight(e,s)}else if(-1!=PokerTypeUtils.isStraightPairs(s)&&s[0].getOrderValue()<6)return this.seekRight(e,s);return[]}return this.seekRight(e,s)},e}();__reflect(PokerSeekUtils.prototype,"PokerSeekUtils");var PokerType=function(){function e(e,t){this.type=e,this.sort=t}return e.prototype.getType=function(){return this.type},e.prototype.getSort=function(){return this.sort},e}();__reflect(PokerType.prototype,"PokerType");var PokerTypeThreePair=function(){function e(e,t){this.type=e,this.sort=t}return e.prototype.getType=function(){return this.type},e.prototype.getSort=function(){return this.sort},e}();__reflect(PokerTypeThreePair.prototype,"PokerTypeThreePair");var PokerTypeUtils=function(){function e(){}return e.getType=function(e){e=PokerUtils.sortDescPokers(e);var t=-1;return-1!=(t=this.isBoom(e))?new PokerType(this.typeBoom,t):-1!=(t=this.isKingBoom(e))?new PokerType(this.typeKingBoom,t):-1!=(t=this.isSingle(e))?new PokerType(this.typeSingle,t):-1!=(t=this.isPair(e))?new PokerType(this.typePair,t):-1!=(t=this.isThree(e))?new PokerType(this.typeThree,t):-1!=(t=this.isThreePairsOn(e))?new PokerType(this.typeThreePairOn,t):-1!=(t=this.isThreePairsUnder(e))?new PokerType(this.typeThreePairUnder,t):-1!=(t=this.isStraightPairs(e))?new PokerType(this.typeStraightPairs,t):-1!=(t=this.isPlane(e))?new PokerType(this.typePlane,t):-1!=(t=this.isPlaneNpairsConnection2233(e))?new PokerType(this.typePlaneNPairsConnection2233,t):-1!=(t=this.isPlaneNpairsConnection3322(e))?new PokerType(this.typePlaneNPairsConnection3322,t):-1!=(t=this.isPlaneNpairsConnection2332(e))?new PokerType(this.typePlaneNPairsConnection2332,t):null},e.getSpecialType=function(e){e=PokerUtils.sortDescPokers(e);var t=new Array;return null!=(t=this.isThreePairs(e))?new PokerTypeThreePair(this.typeThreePair,t):null!=(t=this.isPlaneNpairs(e))?new PokerTypeThreePair(this.typePlaneNPairs,t):null!=(t=this.isPlaneNpairsConnection(e))?new PokerTypeThreePair(this.typePlaneNPairsConnection,t):null},e.isBoom=function(e){if(e.length>=4&&e.length<=8){for(var t=!0,r=0;r<e.length-1;r++)if(e[r].getOrderValue()!=e[r+1].getOrderValue()){t=!1;break}return t?(console.log("是炸弹,值为:"+e[0].getOrderValue()),e[0].getOrderValue()):-1}return-1},e.isKingBoom=function(e){return 4==e.length&&e[0].getOrderValue()===PokerUtils.BigKingValue&&e[1].getOrderValue()===PokerUtils.BigKingValue&&e[2].getOrderValue()===PokerUtils.SmallKingValue&&e[3].getOrderValue()===PokerUtils.SmallKingValue?0:-1},e.isSingle=function(e){return 1==e.length?e[0].getOrderValue():-1},e.isPair=function(e){return 2==e.length&&e[0].getOrderValue()==e[1].getOrderValue()?e[0].getOrderValue():-1},e.isThree=function(e){return 3!=e.length?-1:e[1].getOrderValue()==e[0].getOrderValue()&&e[2].getOrderValue()==e[0].getOrderValue()?e[0].getOrderValue():-1},e.isThreePairs=function(e){var t=new Array;if(5!=e.length)return null;if(e[1].getOrderValue()===e[0].getOrderValue()&&e[2].getOrderValue()===e[0].getOrderValue()&&e[3].getOrderValue()!=e[0].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&1!=Math.abs(e[0].getOrderValue()-e[3].getOrderValue())){var r=new ThreePair(e[0].getOrderValue(),e[3].getOrderValue());return t.push(r),t}if(e[0].getOrderValue()===e[1].getOrderValue()&&e[2].getOrderValue()===e[3].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()!=e[2].getOrderValue()&&1!=Math.abs(e[0].getOrderValue()-e[2].getOrderValue())){var r=new ThreePair(e[2].getOrderValue(),e[0].getOrderValue());return t.push(r),t}return null},e.isThreePairsOn=function(e){return 5!=e.length?-1:e[1].getOrderValue()===e[0].getOrderValue()&&e[2].getOrderValue()===e[0].getOrderValue()&&e[3].getOrderValue()!=e[0].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()-e[3].getOrderValue()===-1?e[0].getOrderValue():e[0].getOrderValue()===e[1].getOrderValue()&&e[2].getOrderValue()===e[3].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()!=e[2].getOrderValue()&&e[2].getOrderValue()-e[0].getOrderValue()===-1?e[2].getOrderValue():-1},e.isThreePairsUnder=function(e){return 5!=e.length?-1:e[1].getOrderValue()===e[0].getOrderValue()&&e[2].getOrderValue()===e[0].getOrderValue()&&e[3].getOrderValue()!=e[0].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()-e[3].getOrderValue()===1?e[0].getOrderValue():e[0].getOrderValue()===e[1].getOrderValue()&&e[2].getOrderValue()===e[3].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()!=e[2].getOrderValue()&&e[2].getOrderValue()-e[0].getOrderValue()===1?e[2].getOrderValue():-1},e.isStraightPairs=function(e){if(e.length<6||e.length>24||e.length%2!=0)return-1;if(e[0].getOrderValue()<3)return-1;for(var t=0;t<e.length-1;t+=2)if(e[t].getOrderValue()!=e[t+1].getOrderValue())return-1;for(var t=0;t<e.length-2;t+=2)if(t!=e.length-2&&e[t].getOrderValue()!=e[t+2].getOrderValue()+1)return-1;
return e[0].getOrderValue()},e.isPlane=function(e){if(e.length<9&&e.length>27)return-1;if(e.length%3!=0)return-1;if(e[0].getOrderValue()<3)return-1;for(var t=0;t<e.length;t+=3)if(t!=e.length-3&&e[t].getOrderValue()===e[t+1].getOrderValue()&&e[t].getOrderValue()===e[t+2].getOrderValue()&&e[t].getOrderValue()===e[t+3].getOrderValue()+1)return e[0].getOrderValue();return-1},e.isPlaneNpairs=function(e){if(e.length<10||e.length>25)return null;for(var t=[],r=[],s=0;s<e.length-2;s++)e[s].getOrderValue()==e[s+1].getOrderValue()&&e[s].getOrderValue()==e[s+2].getOrderValue()&&(t.push(e[s]),console.log("i为"+s+"时，符合要求的three值为"+e[s].getOrderValue()+",id为"+e[s].getId()));for(var o=!1,s=0;s<t.length-1;s++)o=t[s].getOrderValue()-t[s+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+o),!o)return null;for(var i=[],s=0;s<t.length;s++)for(var a=0;a<e.length;a++)e[a].getOrderValue()===t[s].getOrderValue()&&(i.push(e[a]),console.log("要删除的：id"+e[a].getId()+",value:"+e[a].getOrderValue()));e=PokerUtils.removePokers(e,i);for(var h=0;h<e.length;h++)console.log("剩下--id:"+e[h].getId()+",value:"+e[h].getOrderValue());console.log("取对子");for(var s=0;s<e.length-1;s++)e[s].getOrderValue()===e[s+1].getOrderValue()&&(r.push(e[s]),console.log("i为"+s+"时，符合要求的two值为"+e[s].getOrderValue()+",id为"+e[s].getId()));if(t.length!=r.length)return null;for(var n=[],s=0;s<r.length;s++)for(var a=0;a<e.length;a++)r[s].getOrderValue()===e[a].getOrderValue()&&n.push(e[a]);e=PokerUtils.removePokers(e,n);for(var h=0;h<e.length;h++)console.log("two剩下--id:"+e[h].getId()+",value:"+e[h].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,s=0;s<r.length-1;s++)l=r[s].getOrderValue()-r[s+1].getOrderValue()===1?!0:!1;console.log("tw:"+l);var p=new Array;if(l)return console.log("不符合要求"),null;console.log("符合要求");for(var s=0;s<r.length;s++){var d=new ThreePair(t[s].getOrderValue(),r[s].getOrderValue());p.push(d)}return p},e.isPlaneNpairsConnection=function(e){if(e.length<10||e.length>25)return null;for(var t=[],r=[],s=0;s<e.length-2;s++)e[s].getOrderValue()==e[s+1].getOrderValue()&&e[s].getOrderValue()==e[s+2].getOrderValue()&&(t.push(e[s]),console.log("i为"+s+"时，符合要求的three值为"+e[s].getOrderValue()+",id为"+e[s].getId()));for(var o=!1,s=0;s<t.length-1;s++)o=t[s].getOrderValue()-t[s+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+o),!o)return null;for(var i=[],s=0;s<t.length;s++)for(var a=0;a<e.length;a++)e[a].getOrderValue()===t[s].getOrderValue()&&(i.push(e[a]),console.log("要删除的：id"+e[a].getId()+",value:"+e[a].getOrderValue()));e=PokerUtils.removePokers(e,i);for(var h=0;h<e.length;h++)console.log("剩下--id:"+e[h].getId()+",value:"+e[h].getOrderValue());console.log("取对子");for(var s=0;s<e.length-1;s++)e[s].getOrderValue()===e[s+1].getOrderValue()&&(r.push(e[s]),console.log("i为"+s+"时，符合要求的two值为"+e[s].getOrderValue()+",id为"+e[s].getId()));if(t.length!=r.length)return null;for(var n=[],s=0;s<r.length;s++)for(var a=0;a<e.length;a++)r[s].getOrderValue()===e[a].getOrderValue()&&n.push(e[a]);e=PokerUtils.removePokers(e,n);for(var h=0;h<e.length;h++)console.log("two剩下--id:"+e[h].getId()+",value:"+e[h].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,s=0;s<r.length-1;s++)l=r[s].getOrderValue()-r[s+1].getOrderValue()===1?!0:!1;console.log("tw:"+l);var p=new Array;if(l){console.log("符合要求");for(var s=0;s<r.length;s++){var d=new ThreePair(t[s].getOrderValue(),r[s].getOrderValue());p.push(d)}return p}return console.log("不符合要求"),null},e.isPlaneNpairsConnection2233=function(e){if(e.length<10||e.length>25)return-1;for(var t=[],r=[],s=0;s<e.length;s++)console.log("当前--id:"+e[s].getId()+",value:"+e[s].getOrderValue());for(var o=0;o<e.length-2;o++)e[o].getOrderValue()==e[o+1].getOrderValue()&&e[o].getOrderValue()==e[o+2].getOrderValue()&&(t.push(e[o]),console.log("i为"+o+"时，符合要求的three值为"+e[o].getOrderValue()+",id为"+e[o].getId()));for(var i=!1,o=0;o<t.length-1;o++)i=t[o].getOrderValue()-t[o+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+i),!i)return-1;for(var a=[],o=0;o<t.length;o++)for(var h=0;h<e.length;h++)e[h].getOrderValue()===t[o].getOrderValue()&&(a.push(e[h]),console.log("要删除的：id"+e[h].getId()+",value:"+e[h].getOrderValue()));e=PokerUtils.removePokers(e,a);for(var s=0;s<e.length;s++)console.log("剩下--id:"+e[s].getId()+",value:"+e[s].getOrderValue());console.log("取对子");for(var o=0;o<e.length-1;o++)e[o].getOrderValue()===e[o+1].getOrderValue()&&(r.push(e[o]),console.log("i为"+o+"时，符合要求的two值为"+e[o].getOrderValue()+",id为"+e[o].getId()));if(t.length!=r.length)return-1;for(var n=[],o=0;o<r.length;o++)for(var h=0;h<e.length;h++)r[o].getOrderValue()===e[h].getOrderValue()&&n.push(e[h]);e=PokerUtils.removePokers(e,n);for(var s=0;s<e.length;s++)console.log("two剩下--id:"+e[s].getId()+",value:"+e[s].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,o=0;o<r.length-1;o++)l=r[o].getOrderValue()-r[o+1].getOrderValue()===1?!0:!1;console.log("tw:"+l);new Array;return l?r[0].getOrderValue()-t[t.length-1].getOrderValue()===-1?r[r.length-1].getOrderValue():-1:(console.log("不符合要求"),-1)},e.isPlaneNpairsConnection3322=function(e){if(e.length<10||e.length>25)return-1;for(var t=[],r=[],s=0;s<e.length;s++)console.log("当前--id:"+e[s].getId()+",value:"+e[s].getOrderValue());for(var o=0;o<e.length-2;o++)e[o].getOrderValue()==e[o+1].getOrderValue()&&e[o].getOrderValue()==e[o+2].getOrderValue()&&(t.push(e[o]),console.log("i为"+o+"时，符合要求的three值为"+e[o].getOrderValue()+",id为"+e[o].getId()));for(var i=!1,o=0;o<t.length-1;o++)i=t[o].getOrderValue()-t[o+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+i),!i)return-1;for(var a=[],o=0;o<t.length;o++)for(var h=0;h<e.length;h++)e[h].getOrderValue()===t[o].getOrderValue()&&(a.push(e[h]),console.log("要删除的：id"+e[h].getId()+",value:"+e[h].getOrderValue()));e=PokerUtils.removePokers(e,a);for(var s=0;s<e.length;s++)console.log("剩下--id:"+e[s].getId()+",value:"+e[s].getOrderValue());console.log("取对子");for(var o=0;o<e.length-1;o++)e[o].getOrderValue()===e[o+1].getOrderValue()&&(r.push(e[o]),console.log("i为"+o+"时，符合要求的two值为"+e[o].getOrderValue()+",id为"+e[o].getId()));if(t.length!=r.length)return-1;for(var n=[],o=0;o<r.length;o++)for(var h=0;h<e.length;h++)r[o].getOrderValue()===e[h].getOrderValue()&&n.push(e[h]);e=PokerUtils.removePokers(e,n);for(var s=0;s<e.length;s++)console.log("two剩下--id:"+e[s].getId()+",value:"+e[s].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,o=0;o<r.length-1;o++)l=r[o].getOrderValue()-r[o+1].getOrderValue()===1?!0:!1;console.log("tw:"+l);new Array;return l?r[r.length-1].getOrderValue()-t[0].getOrderValue()===1?t[t.length-1].getOrderValue():-1:(console.log("不符合要求"),-1)},e.isPlaneNpairsConnection2332=function(e){if(e.length<10||e.length>25)return-1;for(var t=[],r=[],s=0;s<e.length;s++)console.log("当前--id:"+e[s].getId()+",value:"+e[s].getOrderValue());for(var o=0;o<e.length-2;o++)e[o].getOrderValue()==e[o+1].getOrderValue()&&e[o].getOrderValue()==e[o+2].getOrderValue()&&(t.push(e[o]),console.log("i为"+o+"时，符合要求的three值为"+e[o].getOrderValue()+",id为"+e[o].getId()));for(var i=!1,o=0;o<t.length-1;o++)i=t[o].getOrderValue()-t[o+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+i),!i)return-1;for(var a=[],o=0;o<t.length;o++)for(var h=0;h<e.length;h++)e[h].getOrderValue()===t[o].getOrderValue()&&(a.push(e[h]),console.log("要删除的：id"+e[h].getId()+",value:"+e[h].getOrderValue()));e=PokerUtils.removePokers(e,a);for(var s=0;s<e.length;s++)console.log("剩下--id:"+e[s].getId()+",value:"+e[s].getOrderValue());console.log("取对子");for(var o=0;o<e.length-1;o++)e[o].getOrderValue()===e[o+1].getOrderValue()&&(r.push(e[o]),console.log("i为"+o+"时，符合要求的two值为"+e[o].getOrderValue()+",id为"+e[o].getId()));if(t.length!=r.length)return-1;for(var n=[],o=0;o<r.length;o++)for(var h=0;h<e.length;h++)r[o].getOrderValue()===e[h].getOrderValue()&&n.push(e[h]);e=PokerUtils.removePokers(e,n);for(var s=0;s<e.length;s++)console.log("two剩下--id:"+e[s].getId()+",value:"+e[s].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,o=0;o<r.length-1;o++)l=r[o].getOrderValue()-r[o+1].getOrderValue()===1?!0:!1;var p=[];if(!l){for(var o=0;o<t.length;o++)p.push(t[o].getOrderValue());for(var o=0;o<r.length;o++)p.push(r[o].getOrderValue());p=p.sort()}for(var d=!1,o=0;o<p.length-1;o++)d=p[o]===p[o+1]-1?!0:!1;return d?r[0].getOrderValue():-1},e.typeBoom="typeBoom",e.typeKingBoom="typeKingBoom",e.typeSingle="typeSingle",e.typePair="typePair",e.typeStraightPairs="typeStraightPairs",e.typeThree="typeThree",e.typeThreePair="typeThreePair",e.typeThreePairOn="typeThreePairOn",e.typeThreePairUnder="typeThreePairUnder",e.typePlane="typePlane",e.typePlaneNPairs="typePlaneNPairs",e.typePlaneNPairsConnection="typePlaneNPairsConnection",e.typePlaneNPairsConnection3322="typePlaneNPairsConnection3322",e.typePlaneNPairsConnection2233="typePlaneNPairsConnection2233",e.typePlaneNPairsConnection2332="typePlaneNPairsConnection2332",e}();__reflect(PokerTypeUtils.prototype,"PokerTypeUtils");var PokerUtils=function(){function e(){}return e.getGameServerPokers=function(e){for(var t=JSON.parse(JSON.stringify(e.data)),r=new Array,s=0;s<this.pokerIds.length;s++){var o=new Poker(this.pokerIds[t.Pokers[s]-1],this.pokerSortValues[t.Pokers[s]-1]);r.push(o)}return console.log("getGameServerPokers:已随机生成一副牌",r.toString()),r},e.getGameServerOutPokers=function(e){for(var t=JSON.parse(JSON.stringify(e.data)),r=new Array,s=0;s<t.PokersID.length;s++){var o=new Poker(this.pokerIds[t.PokersID[s]-1],this.pokerSortValues[t.PokersID[s]-1]);r.push(o)}return console.log("getGameServerOutPokers:玩家所出牌",r.toString()),r},e.getRandomPokers=function(){for(var e,t,r=new Array,s=this.pokerIds.slice(),o=[],i=0;i<this.pokerIds.length;i++)e=Math.floor(Math.random()*s.length),t=s[e],o.push(t),s=ArrayUtils.slice(s,0,e).concat(ArrayUtils.slice(s,e+1,s.length));for(var a=0;a<o.length;a++){var h=new Poker(this.pokerIds[o[a]-1],this.pokerSortValues[o[a]-1]);r.push(h)}return console.log("已随机生成一副牌",r.toString()),r},e.sortDescPokers=function(e){return e.sort(this.sortDesc)},e.sortAscPokers=function(e){return e.sort(this.sortAsc)},e.removePokers=function(e,t){for(var r=new Array,s=0;s<e.length;s++){for(var o=!1,i=0;i<t.length;i++)e[s].getId()==t[i].getId()&&(o=!0);o||r.push(e[s])}return r},e.addExchangePoker=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r]);return this.sortDescPokers(e)},e.sortDesc=function(e,t){return e.getOrderValue()<t.getOrderValue()?1:e.getOrderValue()>t.getOrderValue()?-1:0},e.sortAsc=function(e,t){return e.getOrderValue()>t.getOrderValue()?1:e.getOrderValue()<t.getOrderValue()?-1:0},e.getRandomUser=function(){var e=this.randomUsers[Math.floor(Math.random()*this.randomUsers.length)];return new User(e.name,e.sex)},e.getRandomTextTip=function(){return this.textTip[Math.floor(Math.random()*this.textTip.length)]},e.pokerSortValues=[12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,14,14,15,15],e.AValue=12,e.BigKingValue=15,e.SmallKingValue=14,e.pokerIds=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108],e.randomUsers=[{uid:"1001",name:"大可",sex:"man"},{uid:"1002",name:"Tiger",sex:"lady"},{uid:"1003",name:"翔",sex:"man"},{uid:"1004",name:"傻源源",sex:"man"},{uid:"1005",name:"傻乐乐",sex:"man"},{uid:"1006",name:"小巴西",sex:"lady"},{uid:"1007",name:"油烟机",sex:"man"},{uid:"1008",name:"可乐鸡翅",sex:"lady"},{uid:"1009",name:"酸辣土豆丝",sex:"lady"},{uid:"1010",name:"糖拌西红柿",sex:"man"},{uid:"1011",name:"拍黄瓜",sex:"man"},{uid:"1012",name:"空调没有遥控器",sex:"man"},{uid:"1013",name:"这么晚了还不回家",sex:"lady"},{uid:"1014",name:"程咬金",sex:"man"},{uid:"1015",name:"猫砂不会盖",sex:"man"},{uid:"1016",name:"风扇不摇头",sex:"man"},{uid:"1017",name:"油炸花生米",sex:"man"},{uid:"1018",name:"电视不能看",sex:"man"},{uid:"1019",name:"绿萝",sex:"lady"},{uid:"1020",name:"薄荷糖不麻",sex:"lady"},{uid:"1021",name:"翔的小姐姐",sex:"lady"},{uid:"1022",name:"孤单想吃西瓜",sex:"man"},{uid:"1023",name:"一个人看烟花",sex:"lady"},{uid:"1024",name:"大海啊你全是水",sex:"man"},{uid:"1025",name:"骏马啊你四条腿",sex:"man"}],e.textTip=["不要","没你的大","要不起","你厉害","我认怂","你牛","过","GO","PASS","0.0"],e}();__reflect(PokerUtils.prototype,"PokerUtils");var Room=function(){function e(){}return e}();__reflect(Room.prototype,"Room");var RoomManager=function(){function e(){}return e.Request_onRoom=1001,e.Request_BeReady=1002,e.Request_CallTheLandlord=1003,e.Request_Discard=1004,e.Response_InitUserOK=2e3,e.Response_RoomInfo=2001,e.Response_NewPlayerJoin=20011,e.Response_Reday=2002,e.Response_DealPoker=2003,e.Response_ToThrowAPoker=20050,e.Response_ToCallTheLandlord=2005,e.Response_LandlordAndLastCard=2006,e.Response_Discard=2007,e.Response_GameOver=2008,e.Victory_Landlord="Landlord",e.Victory_Farmer="Farmer",e.ButtonsTakeOverOutPokers=8,e.ButtonsTools=7,e.ButtonsExpand=6,e.ButtonsGameTest=6,e.ButtonsToSwitchAPoker=5,e.ButtonsToDrawAPoker=4,e.ButtonsToThrowAPoker=3,e.ButtonsDiscard=2,e.ButtonsGameOver=1,e}();__reflect(RoomManager.prototype,"RoomManager");var ThreePair=function(){function e(e,t){this.threeValue=e,this.twoValue=t}return e.prototype.getThreeValue=function(){return this.threeValue},e.prototype.getTwoValue=function(){return this.twoValue},e.prototype.toString=function(){return"["+this.threeValue+","+this.twoValue+"]"},e}();__reflect(ThreePair.prototype,"ThreePair");var User=function(){function e(e,t){this.seat=-1,this.name=e,this.sex=t}return e.prototype.getId=function(){return this.id},e.prototype.getName=function(){return this.name},e.prototype.getSex=function(){return this.sex},e.prototype.getSeat=function(){return this.seat},e.prototype.setSeat=function(e){this.seat=e},e.prototype.setId=function(e){this.id=e},e.prototype.setName=function(e){this.name=e},e.prototype.setSex=function(e){this.sex=e},e}();__reflect(User.prototype,"User");