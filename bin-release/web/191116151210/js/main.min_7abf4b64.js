var __reflect=this&&this.__reflect||function(e,t,r){e.__class__=t,r?r.push(t):r=[t],e.__types__=e.__types__?r.concat(e.__types__):r},__extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);r.prototype=t.prototype,e.prototype=new r},__awaiter=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(i,s){function h(e){try{n(o.next(e))}catch(t){s(t)}}function a(e){try{n(o["throw"](e))}catch(t){s(t)}}function n(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(h,a)}n((o=o.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function r(e){return function(t){return o([e,t])}}function o(r){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(h=s[2&r[0]?"return":r[0]?"throw":"next"])&&!(h=h.call(s,r[1])).done)return h;switch(s=0,h&&(r=[0,h.value]),r[0]){case 0:case 1:h=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,s=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(6===r[0]||2===r[0])){n=0;continue}if(3===r[0]&&(!h||r[1]>h[0]&&r[1]<h[3])){n.label=r[1];break}if(6===r[0]&&n.label<h[1]){n.label=h[1],h=r;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(r);break}h[2]&&n.ops.pop(),n.trys.pop();continue}r=t.call(e,n)}catch(o){r=[6,o],s=0}finally{i=h=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,s,h,a,n={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return a={next:r(0),"throw":r(1),"return":r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},Button=function(e){function t(t,r,o,i,s){var h=this,a="button_"+t+"_png";return h=e.call(this,RES.getRes(a))||this,h.x=r,h.y=o,h.width=i,h.height=s,h.name=t+r,h}return __extends(t,e),t}(egret.Bitmap);__reflect(Button.prototype,"Button");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,r){function o(o){t.call(r,o,e)}if(RES.hasRes(e)){var i=RES.getRes(e);i?o(i):RES.getResAsync(e,o,this)}else RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.user=PokerUtils.getRandomUser(),t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(r){switch(r.label){case 0:return this.stage.orientation=egret.OrientationMode.LANDSCAPE,[4,this.loadResource()];case 1:return r.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return e=r.sent(),this.startAnimation(e),[4,platform.login()];case 3:return r.sent(),[4,platform.getUserInfo()];case 4:return t=r.sent(),console.log(t),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),e=new LoadingUI,this.stage.addChild(e),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return r.sent(),[4,this.loadTheme()];case 2:return r.sent(),[4,RES.loadGroup("preload",1,e)];case 3:return r.sent(),RES.loadGroup("menus",0),this.stage.removeChild(e),[3,5];case 4:return t=r.sent(),console.error(t),[3,5];case 5:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,r){var o=new eui.Theme("resource/default.thm.json",e.stage);o.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},t.prototype.createGameScene=function(){var e=this.createBitmapByName("bg_jpg");this.addChild(e);var t=this.stage.stageWidth,r=this.stage.stageHeight;e.width=t,e.height=r;var o=new egret.Shape;o.graphics.beginFill(0,.5),o.graphics.drawRect(0,0,t,172),o.graphics.endFill(),o.y=33,this.addChild(o);var i=this.createBitmapByName("yun_png");this.addChild(i),i.x=26,i.y=73;var s=new egret.Shape;s.graphics.lineStyle(2,16777215),s.graphics.moveTo(0,0),s.graphics.lineTo(0,117),s.graphics.endFill(),s.x=172,s.y=61,this.addChild(s);var h=new egret.TextField;h.textColor=16777215,h.width=t-172,h.textAlign="center",h.text="测试版本，不代表最终品质",h.size=24,h.x=172,h.y=80,this.addChild(h);var a=new egret.TextField;this.addChild(a),a.alpha=0,a.width=t-172,a.textAlign=egret.HorizontalAlign.CENTER,a.size=24,a.textColor=16777215,a.x=172,a.y=135,this.textfield=a;var n=new egret.Bitmap(RES.getRes("button_begin_png"));n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startGame,this),n.name="button",n.x=800,n.y=800,this.addChild(n)},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,r=RES.getRes(e);return t.texture=r,t},t.prototype.startAnimation=function(e){var t=this,r=new egret.HtmlTextParser,o=e.map(function(e){return r.parse(e)}),i=this.textfield,s=-1,h=function(){s++,s>=o.length&&(s=0);var e=o[s];i.textFlow=e;var r=egret.Tween.get(i);r.to({alpha:1},200),r.wait(2e3),r.to({alpha:0},200),r.call(h,t)};h()},t.prototype.startGame=function(e){var t=new GameHall(this.user);t.name="gameHall",this.parent.addChild(t),this.parent.removeChild(this)},t}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,r,o){function i(e){t.call(o,e)}function s(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),r.call(o))}var h=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(o,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,r){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(o,generateEUI2)},h)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var a=e.split("/");a.pop();var n=a.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(o,generateJSON.paths[e])},this):RES.getResByUrl(n,function(r){window.JSONParseClass.setData(r),egret.callLater(function(){t.call(o,generateJSON.paths[e])},h)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(o,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var OtherPokerCountContains=function(e){function t(t,r){var o=e.call(this)||this,i=RES.getRes("layout_json").otherPokerCountContainer;1===r?(o.x=i.playerX,o.y=i.playerY):2===r?(o.x=i.rightX,o.y=i.rightY):3===r?(o.x=i.topX,o.y=i.topY):4===r&&(o.x=i.leftX,o.y=i.leftY),o.width=i.width,o.height=i.height;var s=new TextTip(t+"",0,60,32);return s.width=100,o.addChild(s),o}return __extends(t,e),t}(egret.DisplayObjectContainer);__reflect(OtherPokerCountContains.prototype,"OtherPokerCountContains");var GameResultContainer=function(e){function t(t){var r=e.call(this)||this,o=RES.getRes("layout_json").layout;r.x=0,r.y=0,r.width=o.stageWidth,r.height=o.stageHeight;var i=new egret.Shape;return i.graphics.beginFill(1122867),i.graphics.drawRect(0,0,r.width,r.height),i.graphics.endFill(),i.alpha=.3,r.addChild(i),r.show(t),r}return __extends(t,e),t.prototype.show=function(e){var t;t=e?new TextTip("胜利",900,700,128):new TextTip("失败",900,700,128),this.addChild(t)},t}(egret.DisplayObjectContainer);__reflect(GameResultContainer.prototype,"GameResultContainer");var HallMenuContainer=function(e){function t(t,r){var o=e.call(this)||this;return o.show(t,r),o}return __extends(t,e),t.prototype.show=function(e,t){var r=new HallMenus("menu_offlineMode_png",450,300,300,520);r.touchEnabled=!0,r.addEventListener(egret.TouchEvent.TOUCH_TAP,t.menuOfflineModeClick,t),this.addChild(r);var o=new HallMenus("menu_classicMode_png",850,300,310,450);this.addChild(o);var i=new HallMenus("menu_friendMode_png",1260,300,300,495);this.addChild(i)},t}(egret.DisplayObjectContainer);__reflect(HallMenuContainer.prototype,"HallMenuContainer");var PlayerButtonContainer=function(e){function t(t,r){var o=e.call(this)||this,i=RES.getRes("layout_json").playerButtonContainer;return o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height,o.show(t,r),o}return __extends(t,e),t.prototype.show=function(e,t){if(t==RoomManager.ButtonsToThrowAPoker){var r=new Button("throw",500,0,300,200);r.touchEnabled=!0,r.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonDiuPai,e),this.addChild(r)}else if(t==RoomManager.ButtonsToDrawAPoker){var o=new Button("draw",400,400,300,200);o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonChouPai,e),this.addChild(o)}else if(t==RoomManager.ButtonsDiscard){var i=new Button("pass",25,0,300,200);i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonBuYao,e),this.addChild(i);var s=new Button("tip",350,0,300,200);s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonTiShi,e),this.addChild(s);var h=new Button("ok",675,0,300,200);h.touchEnabled=!0,h.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonChuPai,e),this.addChild(h)}else if(t==RoomManager.ButtonsGameOver){var a=new Button("leaveRoom",200,0,300,200);a.touchEnabled=!0,a.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonGameOver,e),this.addChild(a);var n=new Button("newGame",600,0,300,200);n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonRestart,e),this.addChild(n)}else if(t==RoomManager.ButtonsToSwitchAPoker){var o=new Button("switch",400,400,300,200);o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,e.buttonQiePai,e),this.addChild(o)}},t}(egret.DisplayObjectContainer);__reflect(PlayerButtonContainer.prototype,"PlayerButtonContainer");var PokerContainer=function(e){function t(t,r){var o=e.call(this)||this,i=RES.getRes("layout_json").pokerContainer;return o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height,o.show(t,r),o}return __extends(t,e),t.prototype.show=function(e,t){for(var r=RES.getRes("layout_json").poker,o=.5*(26-t.length)*r.pokerMiddleSpace,i=0;i<t.length;i++){var s=new PokerMod(t[i],o+i*r.pokerMiddleSpace,r.pokerUpMove,r.pokerWidth,r.pokerHeight);s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_TAP,e.pokerClick,e),this.addChild(s)}},t.prototype.removePokerByNames=function(e){for(var t=0;t<e.length;t++)null!=this.getChildByName(e[t]+"")&&this.removeChild(this.getChildByName(e[t]+""))},t}(egret.DisplayObjectContainer);__reflect(PokerContainer.prototype,"PokerContainer");var PokerDrawContainer=function(e){function t(t,r,o,i){var s=e.call(this)||this,h=RES.getRes("layout_json").pokerDrawContainer;return s.x=h.x,s.y=h.y,s.width=h.width,s.height=h.height,s.show(t,r,o,i),s}return __extends(t,e),t.prototype.show=function(e,t,r,o){for(var i=RES.getRes("layout_json").poker,s=0,h=0,a=0,n=0;n<t.length;n++){n>53?(h=i.pokerDrawAddy,a=i.pokerDrawAddx*i.pokerDrawSpace):(h=0,a=0);var l=!1;l=n!=o?r:!0;var u=new DrawPoker(t[n],s+n*i.pokerDrawSpace-a,i.pokerDrawUpMove+h,i.pokerDrawWidth,i.pokerDrawHeight,l);u.touchEnabled=!0,n>53?u.addEventListener(egret.TouchEvent.TOUCH_TAP,e.drawPokerClickDown,e):u.addEventListener(egret.TouchEvent.TOUCH_TAP,e.drawPokerClickUp,e),this.addChild(u)}},t.prototype.removePokerByNames=function(e){for(var t=0;t<e.length;t++)null!=this.getChildByName(e[t]+"")&&this.removeChild(this.getChildByName(e[t]+""))},t}(egret.DisplayObjectContainer);__reflect(PokerDrawContainer.prototype,"PokerDrawContainer");var PokerOthersContainer=function(e){function t(t,r){var o=e.call(this)||this,i=RES.getRes("layout_json").pokerOthersContainer;return 2===r?(o.x=i.rightX,o.y=i.rightY):3===r?(o.x=i.topX,o.y=i.topY):4===r&&(o.x=i.leftX,o.y=i.leftY),o.width=i.width,o.height=i.height,o.show(t,r),o}return __extends(t,e),t.prototype.show=function(e,t){var r=RES.getRes("layout_json").poker,o=0;3===t&&(o=(20-e.length)*r.pokerSmallSpace);for(var i=0;i<e.length;i++){var s=new PokerMod(e[i],o+i*r.pokerSmallSpace,0,r.pokerSmallWidth,r.pokerSmallHeight);this.addChild(s)}},t}(egret.DisplayObjectContainer);__reflect(PokerOthersContainer.prototype,"PokerOthersContainer");var PokerPlayerContainer=function(e){function t(t){var r=e.call(this)||this,o=RES.getRes("layout_json").pokerPlayerContainer;return r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height,r.show(t),r}return __extends(t,e),t.prototype.show=function(e){for(var t=RES.getRes("layout_json").poker,r=.5*(20-e.length)*t.pokerPlaySpace,o=0;o<e.length;o++){var i=new PokerMod(e[o],r+o*t.pokerPlaySpace,0,t.pokerTestWidth,t.pokerTestHeight);this.addChild(i)}},t}(egret.DisplayObjectContainer);__reflect(PokerPlayerContainer.prototype,"PokerPlayerContainer");var PokerThrowContainer=function(e){function t(t,r,o){var i=e.call(this)||this,s=RES.getRes("layout_json").pokerThrowContainer;return 1===t?(i.x=s.playerX,i.y=s.playerY):2===t?(i.x=s.rightX,i.y=s.rightY):3===t?(i.x=s.topX,i.y=s.topY):4===t&&(i.x=s.leftX,i.y=s.leftY),i.width=s.width,i.height=s.height,i.show(r,o),i}return __extends(t,e),t.prototype.show=function(e,t){for(var r=RES.getRes("layout_json").poker,o=0,i=0;i<e.length;i++){var s=new DrawPoker(e[i],o+i*r.pokerSmallSpace,0,r.pokerSmallWidth,r.pokerSmallHeight,t);this.addChild(s)}},t}(egret.DisplayObjectContainer);__reflect(PokerThrowContainer.prototype,"PokerThrowContainer");var PokerVerticalContainer=function(e){function t(t,r){var o=e.call(this)||this,i=RES.getRes("layout_json").pokerVerticalContainer;return 1===r||(2===r?(o.x=i.rightX,o.y=i.rightY,o.width=i.width,o.height=i.height):3===r?(o.x=i.topX,o.y=i.topY,o.width=i.topW,o.height=i.topH):4===r&&(o.x=i.leftX,o.y=i.leftY,o.width=i.width,o.height=i.height)),2===r||4===r?o.show(t):3===r&&o.showTop(t),o}return __extends(t,e),t.prototype.show=function(e){for(var t=RES.getRes("layout_json").poker,r=0,o=0,i=0;i<e.length;i++){i>=14&&(o=40),r>=14&&(r-=14);var s=new PokerMod(e[i],r*t.pokerSmallSpace,o,t.pokerSmallWidth,t.pokerSmallHeight);r++,this.addChild(s)}},t.prototype.showTop=function(e){for(var t=RES.getRes("layout_json").poker,r=0,o=0;o<e.length;o++){var i=new PokerMod(e[o],r+o*t.pokerSmallSpace,0,t.pokerSmallWidth,t.pokerSmallHeight);this.addChild(i)}},t.prototype.show1=function(e){for(var t=RES.getRes("layout_json").poker,r=0,o=0,i=0;i<e.length;i++){i>=10&&(r=.3*t.pokerSmallHeight),o>=10&&(o-=10);var s=new PokerMod(e[i],r,o*t.pokerSmallSpace,t.pokerSmallWidth,t.pokerSmallHeight);o++,this.addChild(s)}},t}(egret.DisplayObjectContainer);__reflect(PokerVerticalContainer.prototype,"PokerVerticalContainer");var FirstOutTitleContainer=function(e){function t(t){var r=e.call(this)||this,o=RES.getRes("layout_json").firstTitleContainer;r.width=o.width,r.height=o.height;var i=-30;1===t?(r.x=o.playerX,r.y=o.playerY):2===t?(r.x=o.rightX,r.y=o.rightY,i=20):3===t?(r.x=o.topX,r.y=o.topY):4===t&&(r.x=o.leftX,r.y=o.leftY);var s=new TextTip("▼",i,40,60);return s.width=100,r.addChild(s),r}return __extends(t,e),t}(egret.DisplayObjectContainer);__reflect(FirstOutTitleContainer.prototype,"FirstOutTitleContainer");var FirstThrowTitleContainer=function(e){function t(t){var r=e.call(this)||this,o=RES.getRes("layout_json").firstTitleContainer;r.width=o.width,r.height=o.height;var i=-30;1===t?(r.x=o.playerX,r.y=o.playerY):2===t?(r.x=o.rightX,r.y=o.rightY,i=20):3===t?(r.x=o.topX,r.y=o.topY):4===t&&(r.x=o.leftX,r.y=o.leftY);var s=new TextTip("△",i,30,60);return s.width=100,r.addChild(s),r}return __extends(t,e),t}(egret.DisplayObjectContainer);__reflect(FirstThrowTitleContainer.prototype,"FirstThrowTitleContainer");var PortraitContainer=function(e){function t(t,r,o,i){var s=e.call(this)||this,h=RES.getRes("layout_json").portraitContainer;s.x=h.x,s.y=h.y,s.width=h.width,s.height=h.height;var a=new TextTip(t.getName(),0,100,16);if(a.width=100,s.addChild(a),!o&&i){var n=new TextTip("[友]",100,10,32);n.textColor=995324,n.width=100,s.addChild(n)}return s.show(t.getSex(),r),s}return __extends(t,e),t.prototype.show=function(e,t){var r=new DefaultPortrait(e,t,0,0,100,100);this.addChild(r)},t}(egret.DisplayObjectContainer);__reflect(PortraitContainer.prototype,"PortraitContainer");var PortraitOtherContainer=function(e){function t(t,r,o,i,s){var h=e.call(this)||this,a=RES.getRes("layout_json").portraitOtherContainer;2===s?(h.x=a.rightX,h.y=a.rightY):3===s?(h.x=a.topX,h.y=a.topY):4===s&&(h.x=a.leftX,h.y=a.leftY),h.width=a.width,h.height=a.height;var n=new TextTip(t.getName(),0,100,16);if(n.width=100,h.addChild(n),!o){console.log("not	isFirst");var l=100;2==s&&(l=-100);var u=void 0;i?(u=new TextTip("[友]",l,10,32),u.textColor=995324):(u=new TextTip("[敌]",l,10,32),u.textColor=16386051),u.width=100,h.addChild(u)}return h.show(t,r),h}return __extends(t,e),t.prototype.show=function(e,t){var r=new DefaultPortrait(e.getSex(),t,0,0,100,100);this.addChild(r)},t}(egret.DisplayObjectContainer);__reflect(PortraitOtherContainer.prototype,"PortraitOtherContainer");var TextOtherContainer=function(e){function t(t,r){var o=e.call(this)||this,i=RES.getRes("layout_json").textOtherContainer;return 1===r?(o.x=i.playerX,o.y=i.playerY):2===r?(o.x=i.rightX,o.y=i.rightY):3===r?(o.x=i.topX,o.y=i.topY):4===r&&(o.x=i.leftX,o.y=i.leftY),o.width=i.width,o.height=i.height,o.show(t,r),o}return __extends(t,e),t.prototype.show=function(e,t){var r=0;2===t&&(r=16+64*(6-e.length));var o=new TextTip(e,r,0,64);this.addChild(o)},t}(egret.DisplayObjectContainer);__reflect(TextOtherContainer.prototype,"TextOtherContainer");var OtherPlayingTimer=function(e){function t(t,r){var o=e.call(this)||this,i=RES.getRes("layout_json").otherPlayingTimer;return 2===r?(o.x=i.rightX,o.y=i.rightY):3===r?(o.x=i.topX,o.y=i.topY):4===r&&(o.x=i.leftX,o.y=i.leftY),o.width=i.width,o.height=i.height,o.show(t,r),o}return __extends(t,e),t.prototype.show=function(e,t){var r=new TextTip(e,0,0,48);this.addChild(r)},t}(egret.DisplayObjectContainer);__reflect(OtherPlayingTimer.prototype,"OtherPlayingTimer");var OtherThrowTimer=function(e){function t(t,r){var o=e.call(this)||this,i=RES.getRes("layout_json").otherPlayingTimer;return 1===r?(o.x=i.playerX,o.y=i.playerY):2===r?(o.x=i.rightX,o.y=i.rightY):3===r?(o.x=i.topX,o.y=i.topY):4===r&&(o.x=i.leftX,o.y=i.leftY),o.width=i.width,o.height=i.height,o.show(t,r),o}return __extends(t,e),t.prototype.show=function(e,t){var r=new TextTip(e,0,0,48);this.addChild(r)},t}(egret.DisplayObjectContainer);__reflect(OtherThrowTimer.prototype,"OtherThrowTimer");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new egret.Shape;e.graphics.beginFill(0,.6),e.graphics.drawRect(0,0,1920,1080),e.graphics.endFill(),this.addChild(e),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=490,this.textField.x=720,this.textField.width=480,this.textField.height=100,this.textField.textAlign=egret.HorizontalAlign.CENTER},t.prototype.onProgress=function(e,t){this.textField.text="资源加载中..."+(e/t*100).toFixed(2)+"%"},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var DefaultPortrait=function(e){function t(t,r,o,i,s,h){var a=this;"man"!==t&&(t="lady");var n=t+"_"+r+"_png";return a=e.call(this,RES.getRes(n))||this,a.x=o,a.y=i,a.width=s,a.height=h,a.name=r+"",a}return __extends(t,e),t}(egret.Bitmap);__reflect(DefaultPortrait.prototype,"DefaultPortrait");var DrawPoker=function(e){function t(t,r,o,i,s,h){var a=this,n=t.getId()+"_png";return a=h?e.call(this,RES.getRes(n))||this:e.call(this,RES.getRes("drawpoker_png"))||this,a.x=r,a.y=o,a.width=i,a.height=s,a.name=t.getId()+","+t.getOrderValue(),a}return __extends(t,e),t}(egret.Bitmap);__reflect(DrawPoker.prototype,"DrawPoker");var HallLayout=function(e){function t(t,r){var o=e.call(this,RES.getRes("gameHall_jpg"))||this;return o.width=t,o.height=r,o}return __extends(t,e),t}(egret.Bitmap);__reflect(HallLayout.prototype,"HallLayout");var HallMenus=function(e){function t(t,r,o,i,s){var h=e.call(this,RES.getRes(t))||this;return h.x=r,h.y=o,h.width=i,h.height=s,h.name=t+r+"_"+o,h}return __extends(t,e),t}(egret.Bitmap);__reflect(HallMenus.prototype,"HallMenus");var Layout=function(e){function t(t,r){var o=e.call(this,RES.getRes("gameBgImg_png"))||this;return o.width=t,o.height=r,o}return __extends(t,e),t}(egret.Bitmap);__reflect(Layout.prototype,"Layout");var PokerMod=function(e){function t(t,r,o,i,s){var h=this,a=t.getId()+"_png";return h=e.call(this,RES.getRes(a))||this,h.x=r,h.y=o,h.width=i,h.height=s,h.name=t.getId()+","+t.getOrderValue(),h}return __extends(t,e),t}(egret.Bitmap);__reflect(PokerMod.prototype,"PokerMod");var ShowText=function(e){function t(t,r,o,i,s){var h=e.call(this)||this;return h.x=r,h.y=o,h.textColor=7833753,h.size=i,h.fontFamily="KaiTi",h.textAlign=egret.HorizontalAlign.CENTER,h.alpha=s,h.text=t,h}return __extends(t,e),t}(egret.TextField);__reflect(ShowText.prototype,"ShowText");var TextTip=function(e){function t(t,r,o,i){var s=e.call(this)||this;return s.x=r,s.y=o,s.textColor=7833753,s.size=i,s.fontFamily="KaiTi",s.textAlign=egret.HorizontalAlign.CENTER,s.text=t,s}return __extends(t,e),t}(egret.TextField);__reflect(TextTip.prototype,"TextTip");var GameHall=function(e){function t(t){var r=e.call(this)||this;r.menuContainer=new HallMenuContainer(r.user,r),r.user=t,r.width=1920,r.height=1080;var o=new HallLayout(r.width,r.height);r.addChild(o);var i=new egret.Shape;return i.graphics.beginFill(10272187,.6),i.graphics.drawRect(0,0,r.width,r.height),i.graphics.endFill(),r.addChild(i),r.show(),RES.loadGroup("portraits",4),RES.loadGroup("drawpoker",3),RES.loadGroup("pokers",2),RES.loadGroup("buttons",1),r}return __extends(t,e),t.prototype.show=function(){this.menuContainer.name="menuContainer",this.addChild(this.menuContainer)},t.prototype.menuOfflineModeClick=function(){var e=new StandaloneModel(this.user);this.parent.addChild(e),this.parent.removeChild(this)},t}(egret.DisplayObjectContainer);__reflect(GameHall.prototype,"GameHall");var StandaloneModel=function(e){function t(t){var r=e.call(this)||this;r.isDevelop=!1,r.developButtonCount=1,r.pokerDrawArray=new Array,r.drawPokerIndex=-1,r.drawPokerId=-1,r.drawPokerValue=-1,r.darkPokerIndex=-1,r.darkPokerId=-1,r.darkPokerValue=-1,r.drawPokerRandom=Math.floor(4*Math.random()+1),r.playerIndex=Math.floor(10*Math.random())+1,r.rightIndex=Math.floor(10*Math.random())+1,r.topIndex=Math.floor(10*Math.random())+1,r.isFirst=!0,r.currentPokerNull=-1,r.userLeft=PokerUtils.getRandomUser(),r.userTop=PokerUtils.getRandomUser(),r.userRight=PokerUtils.getRandomUser(),r.leftIndex=Math.floor(10*Math.random())+1,r.pokers=PokerUtils.getRandomPokers(),r.pokersPlayer=new Array,r.pokersRight=new Array,r.pokersTop=new Array,r.pokersLeft=new Array,r.checkThrowPoker=new Array,r.PlayerThrowPoker=new Array,r.RightThrowPoker=new Array,r.TopThrowPoker=new Array,r.LeftThrowPoker=new Array,r.playerCamp=!1,r.rightCamp=!1,r.topCamp=!1,r.leftCamp=!1,r.playerCampNumber=-1,r.rightCampNumber=-1,r.topCampNumber=-1,r.leftCampNumber=-1,r.imBuYao=!1,r.pokerSelectArray=new Array,r.TopOutPokers=new Array,r.RightOutPokers=new Array,r.LeftOutPokers=new Array,r.mySeat=1,r.rightSeat=2,r.topSeat=3,r.leftSeat=4,r.firstThrowPokerSeat=-1,r.firstOutPokerSeat=-1,r.outPokersSeat=-1,r.timer=new egret.Timer(500,0),r.playedPoker=[],r.playedSeat=-1,r.playPokerCount=1,r.user=t,r.layout=RES.getRes("layout_json").layout;var o=new Layout(r.layout.stageWidth,r.layout.stageHeight);r.addChild(o),console.log("this.layout.stageWidth:"+r.layout.stageWidth+",this.layout.stageHeight:"+r.layout.stageHeight);var i=new TextTip("返回",10,10,66);i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,r.buttonGameOver,r),r.addChild(i);var s=new eui.Button;s.label="开发者模式",s.x=1680,s.y=40,r.addChild(s),s.addEventListener(egret.TouchEvent.TOUCH_TAP,r.buttonGameTest,r);var h=new Button("gamesetting",1830,40,50,50);return r.addChild(h),h.touchEnabled=!0,h.addEventListener(egret.TouchEvent.TOUCH_TAP,r.onSetButtonClick,r),r.init(),r}return __extends(t,e),t.prototype.test=function(){},t.prototype.showPortraits=function(){this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(this.rightSeat,this.isFirst,this.rightCamp),this.showOtherPortrait(this.topSeat,this.isFirst,this.topCamp),this.showOtherPortrait(this.leftSeat,this.isFirst,this.leftCamp)},t.prototype.drawPoker=function(){var e=this;this.showPortraits();var t=108,r=new Array,o=0;this.createTimer(80,t,function(){1===e.playPokerCount?console.log("显示要抽的牌：",o):e.playPokerCount>1&&console.log("显示要切的牌：",o),r.push(e.pokers[o]),e.clearDrawPokers(),e.drawpoker=new PokerDrawContainer(e,r,!1,-1),e.drawpoker.name="drawpoker",e.addChild(e.drawpoker),o++},function(){1===e.playPokerCount?(console.log("结束显示要抽的牌和显示确认抽牌"),1===e.drawPokerRandom?e.showButtons(RoomManager.ButtonsToDrawAPoker):e.autoDrawPoker()):e.playPokerCount>1&&(console.log("结束显示要切的牌和显示确认切牌"),1===e.firstThrowPokerSeat?e.showButtons(RoomManager.ButtonsToSwitchAPoker):e.autoSwitchPoker())})},t.prototype.init=function(){var e,t=this,r=1;this.createTimer(100,20,function(){null!=t.getChildByName("startGameText")&&t.removeChild(t.getChildByName("startGameText")),e=new ShowText("第"+t.playPokerCount+"回合，开始！",600,420,130,r),e.name="startGameText",t.addChild(e),r-=.05},function(){null!=t.getChildByName("startGameText")&&t.removeChild(t.getChildByName("startGameText")),console.log("测试进程"),t.drawPoker()})},t.prototype.initPokers=function(){var e,t=this,r=27,o=new Array,i=0,s=1;this.createTimer(300,r,function(){console.log("发牌：",i),o.push(t.pokersPlayer[i]),t.clearPokers(),t.mypoker=new PokerContainer(t,o),t.mypoker.name="mypoker",t.addChild(t.mypoker),t.showCount(1,i+1),t.showCount(2,i+1),t.showCount(3,i+1),t.showCount(4,i+1),i++,i>=17&&(null!=t.getChildByName("startThrowText")&&t.removeChild(t.getChildByName("startThrowText")),e=new ShowText("等待丢牌...",600,500,130,s),e.name="startThrowText",t.addChild(e),s-=.1)},function(){null!=t.getChildByName("startThrowText")&&t.removeChild(t.getChildByName("startThrowText")),console.log("发牌结束"),t.clearAllThrowPoker(),t.showAutoThrowPoker()})},t.prototype.showThrowOrOutPokerTitle=function(){this.cleatFirstTitle(),console.log("显示丢牌出牌头衔"),this.fistThrowTitle=new FirstThrowTitleContainer(this.firstThrowPokerSeat),this.fistThrowTitle.name="fistThrowTitle",this.addChild(this.fistThrowTitle),this.fistOutTitle=new FirstOutTitleContainer(this.firstOutPokerSeat),this.fistOutTitle.name="fistOutTitle",this.addChild(this.fistOutTitle)},t.prototype.show=function(){this.showThrowOrOutPokerTitle(),this.initPokers(),this.showCount(1,this.pokersPlayer.length),this.showCount(2,this.pokersRight.length),this.showCount(3,this.pokersTop.length),this.showCount(4,this.pokersLeft.length),this.isDevelop&&(this.showRight=new PokerVerticalContainer(this.pokersRight,this.rightSeat),this.showRight.name="showRight",this.addChild(this.showRight),this.showLeft=new PokerVerticalContainer(this.pokersLeft,this.leftSeat),this.showLeft.name="showLeft",this.addChild(this.showLeft),this.showTop=new PokerVerticalContainer(this.pokersTop,this.topSeat),this.showTop.name="showTop",this.addChild(this.showTop))},t.prototype.buttonDiuPai=function(e){return this.clearButtons(),-1===PokerTypeUtils.isSingle(this.pokerSelectArray)?void console.log("你这选的是啥呀"):(this.PlayerThrowPoker=this.pokerSelectArray,this.showThrowPoker(this.mySeat,!1),this.pokerSelectArray=new Array,this.clearButtons(),this.clearThrowTimerControl(1),console.log("自动丢牌1"),this.pokersPlayer=PokerUtils.removePokers(this.pokersPlayer,this.PlayerThrowPoker),void this.showPokerVertival(this.mySeat))},t.prototype.throwPokerControl=function(e){var t=this;if(1!=e){var r=Math.floor(5*Math.random())+3,o=10;this.createTimer(1e3,r,function(){t.showThrowTimer(o--,e)},function(){t.clearThrowTimerControl(e),2===e?(t.RightThrowPoker=PokerSeekUtils.autoThrowPlay(t.pokersRight),t.showThrowPoker(t.rightSeat,!1),t.pokersRight=PokerUtils.removePokers(t.pokersRight,t.RightThrowPoker),t.isDevelop&&t.showPokerVertival(t.rightSeat),console.log("自动丢牌2")):3===e?(t.TopThrowPoker=PokerSeekUtils.autoThrowPlay(t.pokersTop),t.showThrowPoker(t.topSeat,!1),t.pokersTop=PokerUtils.removePokers(t.pokersTop,t.TopThrowPoker),t.isDevelop&&t.showPokerVertival(t.topSeat),console.log("自动丢牌3")):4===e&&(t.LeftThrowPoker=PokerSeekUtils.autoThrowPlay(t.pokersLeft),t.showThrowPoker(t.leftSeat,!1),t.pokersLeft=PokerUtils.removePokers(t.pokersLeft,t.LeftThrowPoker),t.isDevelop&&t.showPokerVertival(t.leftSeat),console.log("自动丢牌4"))})}else this.showButtons(RoomManager.ButtonsToThrowAPoker)},t.prototype.showAutoThrowPoker=function(){this.throwPokerControl(1),this.throwPokerControl(2),this.throwPokerControl(3),this.throwPokerControl(4),this.CycleTiming()},t.prototype.CycleTiming=function(){this.timer.reset(),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this),this.timer.start()},t.prototype.timerFunc=function(){console.log("计时中.."),0!=this.TopThrowPoker.length&&0!=this.LeftThrowPoker.length&&0!=this.PlayerThrowPoker.length&&0!=this.RightThrowPoker.length&&(this.timer.stop(),this.timer.reset(),this.showEvreyoneThrowPoker(),console.log("计时中满足条件.."))},t.prototype.timerComFunc=function(){console.log("结束")},t.prototype.isSearchCamp=function(e){return 4===Math.abs(e[0].getId()-this.checkThrowPoker[0].getId())&&e[0].getOrderValue()===this.checkThrowPoker[0].getOrderValue()?!0:!1},t.prototype.showEvreyoneThrowPoker=function(){var e=this;this.clearAllThrowPoker(),this.showThrowPoker(this.mySeat,!0),this.showThrowPoker(this.rightSeat,!0),this.showThrowPoker(this.topSeat,!0),this.showThrowPoker(this.leftSeat,!0);var t=3;this.createTimer(1e3,t,function(){console.log("显示丢的牌3秒倒计时")},function(){e.autoThrowPlay()})},t.prototype.autoThrowPlay=function(){var e=this;console.log("开始自动丢牌"),console.log("开始自动丢牌"+this.PlayerThrowPoker+","+this.RightThrowPoker+","+this.TopThrowPoker+","+this.LeftThrowPoker),console.log("丢牌玩家的座位号——————————————"+this.firstThrowPokerSeat);var t=!1;if(1===this.firstThrowPokerSeat?(this.checkThrowPoker=this.PlayerThrowPoker,this.playerCamp=!0,this.isSearchCamp(this.TopThrowPoker)&&(t=!0,this.topCamp=!0),this.isSearchCamp(this.RightThrowPoker)&&(t=!0,this.rightCamp=!0),this.isSearchCamp(this.LeftThrowPoker)&&(t=!0,this.leftCamp=!0)):2===this.firstThrowPokerSeat?(this.checkThrowPoker=this.RightThrowPoker,this.rightCamp=!0,this.isSearchCamp(this.TopThrowPoker)&&(t=!0,this.topCamp=!0),this.isSearchCamp(this.PlayerThrowPoker)&&(t=!0,this.playerCamp=!0),this.isSearchCamp(this.LeftThrowPoker)&&(t=!0,this.leftCamp=!0)):3===this.firstThrowPokerSeat?(this.checkThrowPoker=this.TopThrowPoker,this.topCamp=!0,this.isSearchCamp(this.PlayerThrowPoker)&&(t=!0,this.playerCamp=!0),this.isSearchCamp(this.RightThrowPoker)&&(t=!0,this.rightCamp=!0),this.isSearchCamp(this.LeftThrowPoker)&&(t=!0,this.leftCamp=!0)):4===this.firstThrowPokerSeat&&(this.checkThrowPoker=this.LeftThrowPoker,this.leftCamp=!0,this.isSearchCamp(this.TopThrowPoker)&&(t=!0,this.topCamp=!0),this.isSearchCamp(this.RightThrowPoker)&&(t=!0,this.rightCamp=!0),this.isSearchCamp(this.PlayerThrowPoker)&&(t=!0,this.playerCamp=!0)),console.log("要丢的牌"+this.checkThrowPoker.length),console.log("要丢的牌"+this.checkThrowPoker[0].getId()+","+this.checkThrowPoker[0].getOrderValue()+","+this.checkThrowPoker.length),!t){for(var r=0;r<this.pokersPlayer.length-1;r++)if(4===Math.abs(this.pokersPlayer[r].getId()-this.checkThrowPoker[0].getId())&&this.pokersPlayer[r].getOrderValue()===this.checkThrowPoker[0].getOrderValue()){if(1===this.firstThrowPokerSeat)return void console.log("在自己家，无效丢牌1");
this.playerCamp=!0}for(var r=0;r<this.pokersRight.length-1;r++)if(4===Math.abs(this.pokersRight[r].getId()-this.checkThrowPoker[0].getId())&&this.pokersRight[r].getOrderValue()===this.checkThrowPoker[0].getOrderValue()){if(console.log("在Right家"),2===this.firstThrowPokerSeat)return void console.log("在自己家，无效丢牌2");this.rightCamp=!0}for(var r=0;r<this.pokersTop.length-1;r++)if(4===Math.abs(this.pokersTop[r].getId()-this.checkThrowPoker[0].getId())&&this.pokersTop[r].getOrderValue()===this.checkThrowPoker[0].getOrderValue()){if(console.log("在Top家"),3===this.firstThrowPokerSeat)return void console.log("在自己家，无效丢牌3");this.topCamp=!0}for(var r=0;r<this.pokersLeft.length-1;r++)if(4===Math.abs(this.pokersLeft[r].getId()-this.checkThrowPoker[0].getId())&&this.pokersLeft[r].getOrderValue()===this.checkThrowPoker[0].getOrderValue()){if(console.log("在Left家"),4===this.firstThrowPokerSeat)return void console.log("在自己家，无效丢牌4");this.leftCamp=!0}}console.log("后来：this.playerCamp:"+this.playerCamp+",this.rightCamp"+this.rightCamp+",this.topCamp"+this.topCamp+",this.leftCamp"+this.leftCamp);var o,i=60,s=1,h=1;this.createTimer(50,i,function(){null!=e.getChildByName("startExchangeText")&&e.removeChild(e.getChildByName("startExchangeText")),o=new ShowText("交换牌中...",660,500,100,h),o.name="startExchangeText",e.addChild(o),h-=.05,s++},function(){console.log("等待交换牌时间结束"),e.exchangePoker()})},t.prototype.exchangePoker=function(){this.isFirst=!1,this.playerCamp===!0&&this.rightCamp===!0&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.RightThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.PlayerThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.TopThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.LeftThrowPoker),this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=2,this.rightCampNumber=1,this.topCampNumber=4,this.leftCampNumber=3),this.playerCamp===!0&&this.topCamp===!0&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.TopThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.PlayerThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.RightThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.LeftThrowPoker),this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=3,this.rightCampNumber=4,this.topCampNumber=1,this.leftCampNumber=2),this.playerCamp===!0&&this.leftCamp===!0&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.LeftThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.PlayerThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.RightThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.TopThrowPoker),this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=4,this.rightCampNumber=3,this.topCampNumber=2,this.leftCampNumber=1),this.playerCamp===!1&&this.rightCamp===!1&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.RightThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.LeftThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.TopThrowPoker),this.playerCamp=!0,this.rightCamp=!0,this.topCamp=!1,this.leftCamp=!1,this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=2,this.rightCampNumber=1,this.topCampNumber=4,this.leftCampNumber=3),this.playerCamp===!1&&this.topCamp===!1&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.TopThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.LeftThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.RightThrowPoker),this.playerCamp=!0,this.rightCamp=!1,this.topCamp=!0,this.leftCamp=!1,this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=3,this.rightCampNumber=4,this.topCampNumber=1,this.leftCampNumber=2),this.playerCamp===!1&&this.leftCamp===!1&&(this.pokersPlayer=PokerUtils.addExchangePoker(this.pokersPlayer,this.PlayerThrowPoker),this.pokersLeft=PokerUtils.addExchangePoker(this.pokersLeft,this.LeftThrowPoker),this.pokersRight=PokerUtils.addExchangePoker(this.pokersRight,this.TopThrowPoker),this.pokersTop=PokerUtils.addExchangePoker(this.pokersTop,this.RightThrowPoker),this.playerCamp=!0,this.rightCamp=!1,this.topCamp=!1,this.leftCamp=!0,this.showPortrait(this.isFirst,this.playerCamp),this.showOtherPortrait(2,this.isFirst,this.rightCamp),this.showOtherPortrait(3,this.isFirst,this.topCamp),this.showOtherPortrait(4,this.isFirst,this.leftCamp),this.playerCampNumber=4,this.rightCampNumber=3,this.topCampNumber=2,this.leftCampNumber=1),this.clearAllThrowPoker(),this.refreshAllPoker()},t.prototype.refreshAllPoker=function(){this.showPokerVertival(this.mySeat),this.isDevelop&&(this.showPokerVertival(this.rightSeat),this.showPokerVertival(this.topSeat),this.showPokerVertival(this.leftSeat)),1===this.firstOutPokerSeat?(this.playedSeat=1,this.outPokersSeat=1,this.showButtons(RoomManager.ButtonsDiscard)):2===this.firstOutPokerSeat?(this.playedSeat=2,this.outPokersSeat=2,this.autoOutPokers()):3===this.firstOutPokerSeat?(this.playedSeat=3,this.outPokersSeat=3,this.autoOutPokers()):4===this.firstOutPokerSeat&&(this.playedSeat=4,this.outPokersSeat=4,this.autoOutPokers())},t.prototype.buttonChuPai=function(e){if(console.log("开始出牌"),1==this.playedSeat||PokerCompareUtils.comparePokers(this.pokerSelectArray,this.playedPoker)){if(null==PokerTypeUtils.getType(this.pokerSelectArray)&&null==PokerTypeUtils.getSpecialType(this.pokerSelectArray))return void console.log("你这选的是啥呀");this.pokersPlayer=PokerUtils.removePokers(this.pokersPlayer,this.pokerSelectArray),console.log("已出牌，剩余牌数",this.pokersPlayer.length),this.imBuYao=!1,this.showPokerVertival(this.mySeat),this.showCount(1,this.pokersPlayer.length),this.showPokerPlayer(),this.playedPoker=PokerUtils.sortDescPokers(this.pokerSelectArray),this.playedSeat=1,this.pokerSelectArray=new Array,this.clearButtons(),this.gameOver()||(this.checkIsNullPoker(this.mySeat)&&(this.currentPokerNull=this.mySeat),this.outPokersSeat=2,this.checkPokerNull())}},t.prototype.buttonBuYao=function(e){this.imBuYao=!0,this.clearButtons(),this.pokerSelectArray=new Array,this.outPokersSeat=2,this.autoOutPokers()},t.prototype.buttonTiShi=function(e){},t.prototype.checkIsNullPoker=function(e){if(e==this.mySeat){if(null==this.pokersPlayer||0==this.pokersPlayer.length)return!0}else if(e==this.rightSeat){if(null==this.pokersRight||0==this.pokersRight.length)return!0}else if(e==this.topSeat){if(null==this.pokersTop||0==this.pokersTop.length)return!0}else if(e==this.leftSeat&&(null==this.pokersLeft||0==this.pokersLeft.length))return!0;return!1},t.prototype.friendGainOutPoker=function(){this.currentPokerNull==this.mySeat?null==this.RightOutPokers&&null==this.LeftOutPokers&&null==this.TopOutPokers&&(this.playedPoker=new Array,this.outPokersSeat=this.playerCampNumber):this.currentPokerNull==this.rightSeat?1==this.imBuYao&&null==this.LeftOutPokers&&null==this.TopOutPokers&&(this.playedPoker=new Array,this.outPokersSeat=this.rightCampNumber):this.currentPokerNull==this.topSeat?1==this.imBuYao&&null==this.LeftOutPokers&&null==this.RightOutPokers&&(this.playedPoker=new Array,this.outPokersSeat=this.topCampNumber):this.currentPokerNull==this.leftSeat&&1==this.imBuYao&&null==this.LeftOutPokers&&null==this.TopOutPokers&&(this.playedPoker=new Array,this.outPokersSeat=this.leftCampNumber)},t.prototype.buttonChouPai=function(e){this.clearButtons(),console.log("测试自己抽牌的BUG--this.pokerDrawArray.length:"+this.pokerDrawArray.length+"|"+this.pokerDrawArray[0].getId());for(var t=0;t<this.pokers.length;t++)if(this.pokers[t].getId()==this.pokerDrawArray[0].getId()){this.clearDrawPokers(),this.drawpoker=new PokerDrawContainer(this,this.pokers,!1,t),this.drawpoker.name="drawpoker",this.addChild(this.drawpoker),this.drawPokerIndex=t,this.drawPokerId=this.pokerDrawArray[0].getId(),this.drawPokerValue=this.pokerDrawArray[0].getOrderValue(),this.pokerDrawArray=new Array;break}this.showDealPokers()},t.prototype.buttonQiePai=function(e){this.clearButtons();for(var t=-1,r=0;r<this.pokers.length;r++)if(this.pokers[r].getId()===this.pokerDrawArray[0].getId()){t=r;break}console.log("要切牌的id:"+this.pokerDrawArray[0].getId()+",要切牌的索引："+t),this.pokers=this.pokers.slice(t,this.pokers.length).concat(this.pokers.slice(0,t)),1===this.firstThrowPokerSeat?this.firstThrowPokerSeat=2:2===this.firstThrowPokerSeat?this.firstThrowPokerSeat=3:3===this.firstThrowPokerSeat?this.firstThrowPokerSeat=4:4===this.firstThrowPokerSeat&&(this.firstThrowPokerSeat=1),this.dealPokersRestart()},t.prototype.gameOver=function(){if(0==this.pokersPlayer.length&&0!=this.pokersRight.length&&0!=this.pokersTop.length&&0!=this.pokersLeft.length&&this.firstOutPokerSeat==this.mySeat,0==this.pokersRight.length&&0!=this.pokersPlayer.length&&0!=this.pokersTop.length&&0!=this.pokersLeft.length&&this.firstOutPokerSeat==this.rightSeat,0==this.pokersTop.length&&0!=this.pokersPlayer.length&&0!=this.pokersRight.length&&0!=this.pokersLeft.length&&this.firstOutPokerSeat==this.rightSeat,0==this.pokersLeft.length&&0!=this.pokersPlayer.length&&0!=this.pokersTop.length&&0!=this.pokersRight.length&&this.firstOutPokerSeat==this.leftSeat,this.playerCamp===!0&&this.rightCamp===!0){if(0==this.pokersPlayer.length&&0==this.pokersRight.length&&0!=this.pokersTop.length&&0!=this.pokersLeft.length)return this.showResult(!0),!0;if(0!=this.pokersPlayer.length&&0!=this.pokersRight.length&&0==this.pokersTop.length&&0==this.pokersLeft.length)return this.showResult(!1),!0}if(this.playerCamp===!0&&this.topCamp===!0){if(0==this.pokersPlayer.length&&0==this.pokersTop.length&&0!=this.pokersRight.length&&0!=this.pokersLeft.length)return this.showResult(!0),!0;if(0!=this.pokersPlayer.length&&0!=this.pokersTop.length&&0==this.pokersRight.length&&0==this.pokersLeft.length)return this.showResult(!1),!0}if(this.playerCamp===!0&&this.leftCamp===!0){if(0==this.pokersPlayer.length&&0==this.pokersLeft.length&&0!=this.pokersTop.length&&0!=this.pokersRight.length)return this.showResult(!0),!0;if(0!=this.pokersPlayer.length&&0!=this.pokersLeft.length&&0==this.pokersTop.length&&0==this.pokersRight.length)return this.showResult(!1),!0}},t.prototype.showResult=function(e){this.clearGameResultShow();var t=new GameResultContainer(e);t.name="result",this.addChild(t),this.showButtons(RoomManager.ButtonsGameOver)},t.prototype.clearGameResultShow=function(){null!=this.getChildByName("result")&&this.removeChild(this.getChildByName("result"))},t.prototype.autoDrawPoker=function(){var e,t=this,r=60,o=1;this.createTimer(30,r,function(){null!=t.getChildByName("startDrawText")&&t.removeChild(t.getChildByName("startDrawText")),e=new ShowText(t.drawPokerRandom+"号AI玩家开始自动抽牌中",400,800,100,o),e.name="startDrawText",t.addChild(e),o-=.05},function(){null!=t.getChildByName("startDrawText")&&t.removeChild(t.getChildByName("startDrawText")),console.log("等待"+t.drawPokerRandom+"号AI玩家自动抽牌结束"),t.doAutoDrawPoker()})},t.prototype.doAutoDrawPoker=function(){var e=-1;2===this.drawPokerRandom?e=Math.floor(108*Math.random()):3===this.drawPokerRandom?e=Math.floor(108*Math.random()):4===this.drawPokerRandom&&(e=Math.floor(108*Math.random())),console.log("result:"+e),this.clearDrawPokers(),this.drawpoker=new PokerDrawContainer(this,this.pokers,!1,e),this.drawpoker.name="drawpoker",this.addChild(this.drawpoker),this.drawPokerIndex=e,this.drawPokerId=this.pokers[e].getId(),this.drawPokerValue=this.pokers[e].getOrderValue(),console.log("this.drawPokerIndex:"+this.drawPokerIndex+",this.drawPokerId:"+this.drawPokerId+",this.drawPokerValue:"+this.drawPokerValue),this.showDealPokers()},t.prototype.autoSwitchPoker=function(){var e,t=this,r=60,o=1;this.createTimer(50,r,function(){null!=t.getChildByName("startSwitchText")&&t.removeChild(t.getChildByName("startSwitchText")),e=new ShowText(t.firstThrowPokerSeat+"号AI玩家开始自动切牌中",400,500,100,o),e.name="startSwitchText",t.addChild(e),o-=.05},function(){null!=t.getChildByName("startSwitchText")&&t.removeChild(t.getChildByName("startSwitchText")),console.log("等待"+t.firstThrowPokerSeat+"号AI玩家自动切牌结束"),t.doAutoSwitchPoker()})},t.prototype.doAutoSwitchPoker=function(){var e=-1;2===this.drawPokerRandom?e=Math.floor(108*Math.random()):3===this.drawPokerRandom?e=Math.floor(108*Math.random()):4===this.drawPokerRandom&&(e=Math.floor(108*Math.random())),console.log("result:"+e),this.pokers=this.pokers.slice(e,this.pokers.length).concat(this.pokers.slice(0,e)),1===this.firstThrowPokerSeat?this.firstThrowPokerSeat=2:2===this.firstThrowPokerSeat?this.firstThrowPokerSeat=3:3===this.firstThrowPokerSeat?this.firstThrowPokerSeat=4:4===this.firstThrowPokerSeat&&(this.firstThrowPokerSeat=1),this.showDealPokers()},t.prototype.showDealPokers=function(){var e=this,t=3,r=3;this.createTimer(1e3,t,function(){e.playPokerCount>1?console.log("等待"+r+"秒自动【不显示】切牌完毕"):1==e.playPokerCount&&console.log("等待"+r+"秒自动【显示】抽牌完毕"),r--},function(){e.playPokerCount>1?(console.log("等待切牌【显示】结束"),e.dealPokersRestart()):1==e.playPokerCount&&(console.log("等待【显示】结束"),e.dealPokers())})},t.prototype.dealPokers=function(){for(var e=0;e<this.pokers.length;e++)4===Math.abs(this.pokers[e].getId()-this.drawPokerId)&&this.pokers[e].getOrderValue()-this.drawPokerValue===0&&(this.darkPokerIndex=e,this.darkPokerId=this.pokers[e].getId(),this.darkPokerValue=this.drawPokerValue);if(console.log("this.darkPokerIndex:"+this.darkPokerIndex+",this.darkPokerId:"+this.darkPokerId+",this.darkPokerValue:"+this.darkPokerValue),this.drawPokerValue%4===1){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=this.mySeat:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=this.rightSeat:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=this.topSeat:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=this.leftSeat),this.darkPokerIndex%4==3?this.firstOutPokerSeat=this.mySeat:this.darkPokerIndex%4==2?this.firstOutPokerSeat=this.rightSeat:this.darkPokerIndex%4==1?this.firstOutPokerSeat=this.topSeat:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=this.leftSeat);for(var e=this.pokers.length-1;e>=0;e--)e%4===3?this.pokersPlayer.push(this.pokers[e]):e%4===2?this.pokersRight.push(this.pokers[e]):e%4===1?this.pokersTop.push(this.pokers[e]):e%4===0&&this.pokersLeft.push(this.pokers[e])}else if(this.drawPokerValue%4===2){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=this.rightSeat:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=this.topSeat:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=this.leftSeat:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=this.mySeat),this.darkPokerIndex%4==3?this.firstOutPokerSeat=this.rightSeat:this.darkPokerIndex%4==2?this.firstOutPokerSeat=this.topSeat:this.darkPokerIndex%4==1?this.firstOutPokerSeat=this.leftSeat:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=this.mySeat);for(var e=this.pokers.length-1;e>=0;e--)e%4===3?this.pokersRight.push(this.pokers[e]):e%4===2?this.pokersTop.push(this.pokers[e]):e%4===1?this.pokersLeft.push(this.pokers[e]):e%4===0&&this.pokersPlayer.push(this.pokers[e])}else if(this.drawPokerValue%4===3){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=this.topSeat:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=this.leftSeat:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=this.mySeat:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=this.rightSeat),this.darkPokerIndex%4==3?this.firstOutPokerSeat=this.topSeat:this.darkPokerIndex%4==2?this.firstOutPokerSeat=this.leftSeat:this.darkPokerIndex%4==1?this.firstOutPokerSeat=this.mySeat:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=this.rightSeat);for(var e=this.pokers.length-1;e>=0;e--)e%4===3?this.pokersTop.push(this.pokers[e]):e%4===2?this.pokersLeft.push(this.pokers[e]):e%4===1?this.pokersPlayer.push(this.pokers[e]):e%4===0&&this.pokersRight.push(this.pokers[e])}else if(this.drawPokerValue%4===0){this.drawPokerIndex%4==3?this.firstThrowPokerSeat=this.leftSeat:this.drawPokerIndex%4==2?this.firstThrowPokerSeat=this.mySeat:this.drawPokerIndex%4==1?this.firstThrowPokerSeat=this.rightSeat:this.drawPokerIndex%4==0&&(this.firstThrowPokerSeat=this.topSeat),this.darkPokerIndex%4==3?this.firstOutPokerSeat=this.leftSeat:this.darkPokerIndex%4==2?this.firstOutPokerSeat=this.mySeat:this.darkPokerIndex%4==1?this.firstOutPokerSeat=this.rightSeat:this.darkPokerIndex%4==0&&(this.firstOutPokerSeat=this.topSeat);for(var e=this.pokers.length-1;e>=0;e--)e%4===3?this.pokersLeft.push(this.pokers[e]):e%4===2?this.pokersPlayer.push(this.pokers[e]):e%4===1?this.pokersRight.push(this.pokers[e]):e%4===0&&this.pokersTop.push(this.pokers[e])}console.log("优先丢牌座位号："+this.firstThrowPokerSeat+",优先出牌座位号："+this.firstOutPokerSeat),this.pokersPlayer=PokerUtils.sortDescPokers(this.pokersPlayer),this.pokersRight=PokerUtils.sortDescPokers(this.pokersRight),this.pokersTop=PokerUtils.sortDescPokers(this.pokersTop),this.pokersLeft=PokerUtils.sortDescPokers(this.pokersLeft),this.clearDrawPokers(),this.show()},t.prototype.dealPokersRestart=function(){if(1===this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)e%4===3?this.pokersPlayer.push(this.pokers[e]):e%4===2?this.pokersRight.push(this.pokers[e]):e%4===1?this.pokersTop.push(this.pokers[e]):e%4===0&&this.pokersLeft.push(this.pokers[e]);else if(2===this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)e%4===3?this.pokersRight.push(this.pokers[e]):e%4===2?this.pokersTop.push(this.pokers[e]):e%4===1?this.pokersLeft.push(this.pokers[e]):e%4===0&&this.pokersPlayer.push(this.pokers[e]);else if(3===this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)e%4===3?this.pokersTop.push(this.pokers[e]):e%4===2?this.pokersLeft.push(this.pokers[e]):e%4===1?this.pokersPlayer.push(this.pokers[e]):e%4===0&&this.pokersRight.push(this.pokers[e]);else if(4===this.firstThrowPokerSeat)for(var e=this.pokers.length-1;e>=0;e--)e%4===3?this.pokersLeft.push(this.pokers[e]):e%4===2?this.pokersPlayer.push(this.pokers[e]):e%4===1?this.pokersRight.push(this.pokers[e]):e%4===0&&this.pokersTop.push(this.pokers[e]);this.pokersPlayer=PokerUtils.sortDescPokers(this.pokersPlayer),this.pokersRight=PokerUtils.sortDescPokers(this.pokersRight),this.pokersTop=PokerUtils.sortDescPokers(this.pokersTop),this.pokersLeft=PokerUtils.sortDescPokers(this.pokersLeft),this.clearDrawPokers(),this.show()},t.prototype.autoOutPokers=function(){var e=this;if(!this.gameOver()){this.clearPokerShow(this.outPokersSeat);var t=Math.floor(5*Math.random())+1,r=15;this.createTimer(1e3,t,function(){e.showOPTimer(r--)},function(){e.clearOPTimer(),e.doAutoOutPokers()})}},t.prototype.doAutoOutPokers=function(){if(2===this.outPokersSeat){if(this.RightOutPokers=PokerSeekUtils.autoPlay(this.pokersRight,this.rightSeat,this.rightCampNumber,this.playedPoker,this.playedSeat),null==this.RightOutPokers||0==this.RightOutPokers.length)this.showTextTip(this.outPokersSeat),this.RightOutPokers=new Array;else{if(this.showOtherOutPoker(this.rightSeat),this.pokersRight=PokerUtils.sortDescPokers(PokerUtils.removePokers(this.pokersRight,this.RightOutPokers)),this.isDevelop&&this.showPokerVertival(this.rightSeat),this.playedPoker=this.RightOutPokers,this.playedSeat=this.rightSeat,this.showCount(this.rightSeat,this.pokersRight.length),this.gameOver())return;this.checkIsNullPoker(this.rightSeat)&&(this.currentPokerNull=this.rightSeat)}this.outPokersSeat=3,this.checkPokerNull()}else if(3===this.outPokersSeat){if(this.TopOutPokers=PokerSeekUtils.autoPlay(this.pokersTop,this.topSeat,this.topCampNumber,this.playedPoker,this.playedSeat),null==this.TopOutPokers||0==this.TopOutPokers.length)this.showTextTip(this.outPokersSeat),this.TopOutPokers=new Array;else{if(this.showOtherOutPoker(this.topSeat),this.pokersTop=PokerUtils.sortDescPokers(PokerUtils.removePokers(this.pokersTop,this.TopOutPokers)),this.isDevelop&&this.showPokerVertival(this.topSeat),this.playedPoker=this.TopOutPokers,this.playedSeat=this.topSeat,this.showCount(this.topSeat,this.pokersTop.length),this.gameOver())return;this.checkIsNullPoker(this.topSeat)&&(this.currentPokerNull=this.topSeat)}this.outPokersSeat=4,this.checkPokerNull()}else if(4===this.outPokersSeat){if(this.LeftOutPokers=PokerSeekUtils.autoPlay(this.pokersLeft,this.leftSeat,this.leftCampNumber,this.playedPoker,this.playedSeat),null==this.LeftOutPokers||0==this.LeftOutPokers.length)this.showTextTip(this.outPokersSeat),this.LeftOutPokers=new Array;else{if(this.showOtherOutPoker(this.leftSeat),this.pokersLeft=PokerUtils.sortDescPokers(PokerUtils.removePokers(this.pokersLeft,this.LeftOutPokers)),this.isDevelop&&this.showPokerVertival(this.leftSeat),this.playedPoker=this.LeftOutPokers,this.playedSeat=this.leftSeat,this.showCount(this.leftSeat,this.pokersLeft.length),this.gameOver())return;this.checkIsNullPoker(this.leftSeat)&&(this.currentPokerNull=this.leftSeat)}this.outPokersSeat=1,this.checkPokerNull()}},t.prototype.checkPokerNull=function(){1==this.outPokersSeat?null==this.pokersPlayer||0==this.pokersPlayer.length?1==this.currentPokerNull?this.friendGainOutPoker():(this.outPokersSeat=2,this.checkPokerNull()):this.checkOutPoker():2==this.outPokersSeat?null==this.pokersRight||0==this.pokersRight.length?2==this.currentPokerNull?this.friendGainOutPoker():(this.outPokersSeat=3,this.checkPokerNull()):this.checkOutPoker():3==this.outPokersSeat?null==this.pokersTop||0==this.pokersTop.length?1==this.currentPokerNull?this.friendGainOutPoker():(this.outPokersSeat=4,this.checkPokerNull()):this.checkOutPoker():4==this.outPokersSeat&&(null==this.pokersLeft||0==this.pokersLeft.length?1==this.currentPokerNull?this.friendGainOutPoker():(this.outPokersSeat=1,this.checkPokerNull()):this.checkOutPoker())},t.prototype.checkOutPoker=function(){1==this.outPokersSeat?(console.log("执行玩家函数"),this.clearPokerPlay(),this.showButtons(RoomManager.ButtonsDiscard)):(console.log("执行出牌函数"),this.autoOutPokers())},t.prototype.showOtherOutPoker=function(e){this.clearPokerShow(e),2===e?(this.rightOutPokers=new PokerOthersContainer(this.RightOutPokers,2),this.rightOutPokers.name="rightOutPokers",this.addChild(this.rightOutPokers)):3===e?(this.topOutPokers=new PokerOthersContainer(this.TopOutPokers,3),this.topOutPokers.name="topOutPokers",this.addChild(this.topOutPokers)):4===e&&(this.leftOutPokers=new PokerOthersContainer(this.LeftOutPokers,4),this.leftOutPokers.name="leftOutPokers",this.addChild(this.leftOutPokers))},t.prototype.clearPokerShow=function(e){2===e&&(null!=this.getChildByName("rightOutPokers")&&this.removeChild(this.getChildByName("rightOutPokers")),null!=this.getChildByName("textRight")&&this.removeChild(this.getChildByName("textRight"))),3===e&&(null!=this.getChildByName("topOutPokers")&&this.removeChild(this.getChildByName("topOutPokers")),null!=this.getChildByName("textTop")&&this.removeChild(this.getChildByName("textTop"))),4===e&&(null!=this.getChildByName("leftOutPokers")&&this.removeChild(this.getChildByName("leftOutPokers")),null!=this.getChildByName("textLeft")&&this.removeChild(this.getChildByName("textLeft")))},t.prototype.showTextTip=function(e){this.clearPokerShow(e),2===e?(this.textRight=new TextOtherContainer(PokerUtils.getRandomTextTip(),2),this.textRight.name="textRight",this.addChild(this.textRight)):3===e?(this.textTop=new TextOtherContainer(PokerUtils.getRandomTextTip(),3),this.textTop.name="textTop",this.addChild(this.textTop)):4===e&&(this.textLeft=new TextOtherContainer(PokerUtils.getRandomTextTip(),4),this.textLeft.name="textLeft",this.addChild(this.textLeft))},t.prototype.showPokerVertival=function(e){this.clearPokerVertical(e),1===e?(this.mypoker=new PokerContainer(this,this.pokersPlayer),this.mypoker.name="mypoker",this.addChild(this.mypoker)):2===e?(this.showRight=new PokerVerticalContainer(this.pokersRight,2),this.showRight.name="showRight",this.addChild(this.showRight)):3===e?(this.showTop=new PokerVerticalContainer(this.pokersTop,3),this.showTop.name="showTop",this.addChild(this.showTop)):4===e&&(this.showLeft=new PokerVerticalContainer(this.pokersLeft,4),this.showLeft.name="showLeft",this.addChild(this.showLeft))},t.prototype.clearPokerVertical=function(e){1===e&&null!=this.getChildByName("mypoker")&&this.removeChild(this.getChildByName("mypoker")),2===e&&null!=this.getChildByName("showRight")&&this.removeChild(this.getChildByName("showRight")),3===e&&null!=this.getChildByName("showTop")&&this.removeChild(this.getChildByName("showTop")),4===e&&null!=this.getChildByName("showLeft")&&this.removeChild(this.getChildByName("showLeft"))},t.prototype.clearPokerPlay=function(){null!=this.getChildByName("pokerPlayer")&&this.removeChild(this.getChildByName("pokerPlayer"))},t.prototype.showPokerPlayer=function(){this.clearPokerPlay(),this.playerOutPokers=new PokerPlayerContainer(PokerUtils.sortDescPokers(this.pokerSelectArray)),this.playerOutPokers.name="pokerPlayer",this.addChild(this.playerOutPokers)},t.prototype.showThrowPoker=function(e,t){1===e?(this.playerThrowPoker=new PokerThrowContainer(e,this.PlayerThrowPoker,t),this.playerThrowPoker.name="playerThrowPoker",this.addChild(this.playerThrowPoker)):2===e?(this.rightThrowPoker=new PokerThrowContainer(e,this.RightThrowPoker,t),this.rightThrowPoker.name="rightThrowPoker",this.addChild(this.rightThrowPoker)):3===e?(this.topThrowPoker=new PokerThrowContainer(e,this.TopThrowPoker,t),this.topThrowPoker.name="topThrowPoker",this.addChild(this.topThrowPoker)):4===e&&(this.leftThrowPoker=new PokerThrowContainer(e,this.LeftThrowPoker,t),this.leftThrowPoker.name="leftThrowPoker",this.addChild(this.leftThrowPoker))},t.prototype.clearAllThrowPoker=function(){null!=this.getChildByName("playerThrowPoker")&&this.removeChild(this.getChildByName("playerThrowPoker")),null!=this.getChildByName("rightThrowPoker")&&this.removeChild(this.getChildByName("rightThrowPoker")),null!=this.getChildByName("topThrowPoker")&&this.removeChild(this.getChildByName("topThrowPoker")),null!=this.getChildByName("leftThrowPoker")&&this.removeChild(this.getChildByName("leftThrowPoker"))},t.prototype.clearSingleThrowPoker=function(e){1===e&&null!=this.getChildByName("playerThrowPoker")&&this.removeChild(this.getChildByName("playerThrowPoker")),2===e&&null!=this.getChildByName("rightThrowPoker")&&this.removeChild(this.getChildByName("rightThrowPoker")),3===e&&null!=this.getChildByName("topThrowPoker")&&this.removeChild(this.getChildByName("topThrowPoker")),4===e&&null!=this.getChildByName("leftThrowPoker")&&this.removeChild(this.getChildByName("leftThrowPoker"))},t.prototype.showPortrait=function(e,t){this.clearPortrait(),this.portraitPlayer=new PortraitContainer(this.user,this.playerIndex,e,t),this.portraitPlayer.name="portraitPlayer",this.addChild(this.portraitPlayer)},t.prototype.clearPortrait=function(){null!=this.getChildByName("portraitPlayer")&&this.removeChild(this.getChildByName("portraitPlayer"))},t.prototype.showOtherPortrait=function(e,t,r){this.clearOtherPortrait(e),3===e?(this.portraitTop=new PortraitOtherContainer(this.userTop,this.topIndex,t,r,3),this.portraitTop.name="portraitTop",this.addChild(this.portraitTop)):2===e?(this.portraitRight=new PortraitOtherContainer(this.userRight,this.rightIndex,t,r,2),this.portraitRight.name="portraitRight",this.addChild(this.portraitRight)):4===e&&(this.portraitLeft=new PortraitOtherContainer(this.userLeft,this.leftIndex,t,r,4),this.portraitLeft.name="portraitLeft",this.addChild(this.portraitLeft))},t.prototype.clearOtherPortrait=function(e){3===e?null!=this.getChildByName("portraitTop")&&this.removeChild(this.getChildByName("portraitTop")):2===e?null!=this.getChildByName("portraitRight")&&this.removeChild(this.getChildByName("portraitRight")):4===e&&null!=this.getChildByName("portraitLeft")&&this.removeChild(this.getChildByName("portraitLeft"))},t.prototype.cleatFirstTitle=function(){null!=this.getChildByName("fistThrowTitle")&&this.removeChild(this.getChildByName("fistThrowTitle")),null!=this.getChildByName("fistOutTitle")&&this.removeChild(this.getChildByName("fistOutTitle"))},t.prototype.showButtons=function(e){this.clearButtons(),this.buttons=new PlayerButtonContainer(this,e),this.buttons.name="buttons",this.addChild(this.buttons)},t.prototype.showCount=function(e,t){this.clearCount(e),1===e?(this.playerCount=new OtherPokerCountContains(t,1),this.playerCount.name="playerCount",this.addChild(this.playerCount)):2===e?(this.rightCount=new OtherPokerCountContains(t,2),this.rightCount.name="rightCount",this.addChild(this.rightCount)):3===e?(this.topCount=new OtherPokerCountContains(t,3),this.topCount.name="topCount",this.addChild(this.topCount)):4===e&&(this.leftCount=new OtherPokerCountContains(t,4),this.leftCount.name="leftCount",this.addChild(this.leftCount))},t.prototype.clearButtons=function(){null!=this.getChildByName("buttons")&&this.removeChild(this.getChildByName("buttons"))},t.prototype.clearPokers=function(){null!=this.getChildByName("mypoker")&&this.removeChild(this.getChildByName("mypoker"))},t.prototype.clearDrawPokers=function(){null!=this.getChildByName("drawpoker")&&this.removeChild(this.getChildByName("drawpoker"))},t.prototype.clearCount=function(e){1===e?null!=this.getChildByName("playerCount")&&this.removeChild(this.getChildByName("playerCount")):2===e?null!=this.getChildByName("rightCount")&&this.removeChild(this.getChildByName("rightCount")):3===e?null!=this.getChildByName("topCount")&&this.removeChild(this.getChildByName("topCount")):4===e&&null!=this.getChildByName("leftCount")&&this.removeChild(this.getChildByName("leftCount"))},t.prototype.clearThrowTimer=function(){null!=this.getChildByName("playerThrowTimer")&&this.removeChild(this.getChildByName("playerThrowTimer")),null!=this.getChildByName("rightThrowTimer")&&this.removeChild(this.getChildByName("rightThrowTimer")),null!=this.getChildByName("topThrowTimer")&&this.removeChild(this.getChildByName("topThrowTimer")),null!=this.getChildByName("leftThrowTimer")&&this.removeChild(this.getChildByName("leftThrowTimer"))},t.prototype.clearThrowTimerControl=function(e){1===e?null!=this.getChildByName("playerThrowTimer")&&this.removeChild(this.getChildByName("playerThrowTimer")):2===e?null!=this.getChildByName("rightThrowTimer")&&this.removeChild(this.getChildByName("rightThrowTimer")):3===e?null!=this.getChildByName("topThrowTimer")&&this.removeChild(this.getChildByName("topThrowTimer")):4===e&&null!=this.getChildByName("leftThrowTimer")&&this.removeChild(this.getChildByName("leftThrowTimer"))},t.prototype.showThrowTimer=function(e,t){if(this.clearThrowTimerControl(t),1===t){var r=new OtherThrowTimer(e+"",t);r.name="playerThrowTimer",this.addChild(r)}else if(2===t){var o=new OtherThrowTimer(e+"",t);o.name="rightThrowTimer",this.addChild(o)}else if(3===t){var i=new OtherThrowTimer(e+"",t);i.name="topThrowTimer",this.addChild(i)}else if(4===t){var s=new OtherThrowTimer(e+"",t);s.name="leftThrowTimer",this.addChild(s)}},t.prototype.clearOPTimer=function(){null!=this.getChildByName("otherPlayingTimer")&&this.removeChild(this.getChildByName("otherPlayingTimer"))},t.prototype.showOPTimer=function(e){this.clearOPTimer();var t=new OtherPlayingTimer(e+"",this.outPokersSeat);
t.name="otherPlayingTimer",this.addChild(t)},t.prototype.createTimer=function(e,t,r,o){void 0===r&&(r=function(e){}),void 0===o&&(o=function(){});var i=new egret.Timer(e,t);i.addEventListener(egret.TimerEvent.TIMER,r,this),i.addEventListener(egret.TimerEvent.TIMER_COMPLETE,o,this),i.start()},t.prototype.pokerClick=function(e){var t=RES.getRes("layout_json").poker,r=t.pokerUpMove,o=e.currentTarget,i=parseInt(o.name.split(",")[0]),s=parseInt(o.name.split(",")[1]);if(o.y==r)o.y=0,this.pokerSelectArray.push(new Poker(i,s));else{o.y=r;var h=new Poker(i,s);console.log("poker",h.toString(),"array",this.pokerSelectArray),this.pokerSelectArray=PokerUtils.removePokers(this.pokerSelectArray,[h]),console.log("removedArray",this.pokerSelectArray)}},t.prototype.drawPokerClickUp=function(e){var t=RES.getRes("layout_json").poker,r=t.pokerDrawUpMove;null!=this.draggedUp&&0==this.draggedUp.y&&(this.draggedUp.y=r,this.pokerDrawArray=new Array),null!=this.draggedDown&&this.draggedDown.y==t.pokerDrawAddy&&(this.draggedDown.y=r+t.pokerDrawAddy,this.pokerDrawArray=new Array);var o=e.currentTarget;this.draggedUp=e.currentTarget;var i=parseInt(o.name.split(",")[0]),s=parseInt(o.name.split(",")[1]);if(o.y==r)o.y=0,this.pokerDrawArray.push(new Poker(i,s)),console.log("上:选中的牌为："+i+","+s+","+this.pokerDrawArray.length);else{o.y=r;var h=new Poker(i,s);console.log("上poker:"+h.toString()+"|array:"+this.pokerDrawArray),this.pokerDrawArray=PokerUtils.removePokers(this.pokerDrawArray,[h]),console.log("上removedArray:"+this.pokerDrawArray)}},t.prototype.drawPokerClickDown=function(e){var t=RES.getRes("layout_json").poker,r=t.pokerDrawUpMove;null!=this.draggedDown&&this.draggedDown.y==t.pokerDrawAddy&&(this.draggedDown.y=r+t.pokerDrawAddy,this.pokerDrawArray=new Array),null!=this.draggedUp&&0==this.draggedUp.y&&(this.draggedUp.y=r,this.pokerDrawArray=new Array);var o=e.currentTarget;this.draggedDown=e.currentTarget;var i=parseInt(o.name.split(",")[0]),s=parseInt(o.name.split(",")[1]);if(o.y==r+t.pokerDrawAddy)o.y=t.pokerDrawAddy,this.pokerDrawArray.push(new Poker(i,s)),console.log("下:选中的牌为："+i+","+s+","+this.pokerDrawArray.length);else{o.y=r+t.pokerDrawAddy;var h=new Poker(i,s);console.log("下poker:"+h.toString()+"|array:"+this.pokerDrawArray),this.pokerDrawArray=PokerUtils.removePokers(this.pokerDrawArray,[h]),console.log("下removedArray:"+this.pokerDrawArray)}},t.prototype.clearCamp=function(){this.isFirst=!0,this.playerCamp=!1,this.rightCamp=!1,this.topCamp=!1,this.leftCamp=!1},t.prototype.buttonRestart=function(){this.clearGameResultShow(),this.clearButtons(),this.pokersPlayer=new Array,this.pokersRight=new Array,this.pokersTop=new Array,this.pokersLeft=new Array,this.clearPokerVertical(this.mySeat),this.clearPokerVertical(this.rightSeat),this.clearPokerVertical(this.topSeat),this.clearPokerVertical(this.leftSeat),this.clearPokerPlay(),this.clearPokerShow(this.rightSeat),this.clearPokerShow(this.topSeat),this.clearPokerShow(this.leftSeat),this.pokerSelectArray=new Array,this.TopOutPokers=new Array,this.RightOutPokers=new Array,this.LeftOutPokers=new Array,this.PlayerThrowPoker=new Array,this.RightThrowPoker=new Array,this.TopThrowPoker=new Array,this.LeftThrowPoker=new Array,this.clearCount(this.mySeat),this.clearCount(this.rightSeat),this.clearCount(this.topSeat),this.clearCount(this.leftSeat),this.clearOPTimer(),this.clearCamp(),this.cleatFirstTitle(),this.currentPokerNull=-1,this.playPokerCount++,this.pokers=PokerUtils.getRandomPokers(),this.pokerDrawArray=new Array,this.init()},t.prototype.buttonGameOver=function(){this.clearGameResultShow(),console.log("返回大厅");var e=new GameHall(this.user);e.name="gameHall",this.parent.addChild(e),this.parent.removeChild(this)},t.prototype.buttonGameTest=function(){console.log("开发者第"+this.developButtonCount+"点击"),this.developButtonCount%2!=0?(this.isDevelop=!0,this.showPokerVertival(this.rightSeat),this.showPokerVertival(this.topSeat),this.showPokerVertival(this.leftSeat)):(this.isDevelop=!1,this.clearPokerVertical(this.rightSeat),this.clearPokerVertical(this.topSeat),this.clearPokerVertical(this.leftSeat)),this.developButtonCount++},t.prototype.onSetButtonClick=function(e){console.log("tt");var t=new eui.Panel;t.title="游戏设置",t.x=735,t.y=425,this.addChild(t),this.test()},t}(egret.DisplayObjectContainer);__reflect(StandaloneModel.prototype,"StandaloneModel");var ArrayUtils=function(){function e(){}return e.removeElements=function(e,t){for(var r=0;r<t.length;r++)for(var o=0;o<e.length;o++)if(t[r]==e[o]){e=this.slice(e,0,o).concat(this.slice(e,o+1,e.length));break}return e},e.slice=function(e,t,r){return 0>t||0>r||t>e.length||r>e.length?[]:e.slice(t,r)},e}();__reflect(ArrayUtils.prototype,"ArrayUtils");var Poker=function(){function e(e,t){this.id=e,this.orderValue=t}return e.prototype.getId=function(){return this.id},e.prototype.getOrderValue=function(){return this.orderValue},e.prototype.toString=function(){return"["+this.id+","+this.orderValue+"]"},e}();__reflect(Poker.prototype,"Poker");var PokerCompareUtils=function(){function e(){}return e.comparePokers=function(e,t){var r=PokerUtils.sortDescPokers(e),o=PokerUtils.sortDescPokers(t);if(r.length<1||o.length<1)return!1;if(-1!=PokerTypeUtils.isKingBoom(o))return!1;if(-1!=PokerTypeUtils.isKingBoom(r))return!0;if(-1!=PokerTypeUtils.isBoom(o))return-1!=PokerTypeUtils.isBoom(r)?this.compareOneLenghtBoom(r,o):!1;if(-1!=PokerTypeUtils.isBoom(r))return!0;if(e.length!=t.length)return!1;var i=PokerTypeUtils.getType(r),s=PokerTypeUtils.getType(o),h=PokerTypeUtils.getSpecialType(r),a=PokerTypeUtils.getSpecialType(o);if(null==i||null!=h){if(null==i&&null!=h){if(h.getType()!=a.getType())return!1;if(null==a)return!1;for(var n=!1,l=0;l<h.getSort().length;l++)n=h.getSort()[l].getThreeValue()>a.getSort()[l].getThreeValue()&&h.getSort()[l].getTwoValue()>a.getSort()[l].getTwoValue()?!0:!1;return n?!0:!1}return!1}return i.getType()!=s.getType()?!1:null==s?!1:null!=s?"typeStraightPairs"===s.getType()||"typePlane"===s.getType()||"typePlaneNPairsConnection3322"===s.getType()||"typePlaneNPairsConnection2233"===s.getType()||"typePlaneNPairsConnection2332"===s.getType()?this.compareOneLenght(r,o):i.getSort()>s.getSort():void 0},e.compareOne=function(e,t){return e.getOrderValue()>t.getOrderValue()?!0:!1},e.compareOneLenght=function(e,t){return e.length>t.length?!1:e.length<t.length?!1:e.length===t.length?e[0].getOrderValue()>t[0].getOrderValue()?!0:!1:void 0},e.compareOneLenghtBoom=function(e,t){return e.length>t.length?!0:e.length<t.length?!1:e.length===t.length?e[0].getOrderValue()>t[0].getOrderValue()?!0:!1:void 0},e}();__reflect(PokerCompareUtils.prototype,"PokerCompareUtils");var PokerSeekUtils=function(){function e(){}return e.seekRight=function(e,t){var r=PokerUtils.sortDescPokers(e),o=PokerUtils.sortDescPokers(t);console.log("seekRight",r,o);var i=PokerTypeUtils.getType(t),s=PokerTypeUtils.getSpecialType(t),h=null;if(null!=i&&null==s&&(i.getType()===PokerTypeUtils.typeKingBoom?h=null:i.getType()===PokerTypeUtils.typeBoom?h=this.seekBoom(r,i.getSort(),t.length):i.getType()===PokerTypeUtils.typeSingle?h=this.seekSingle(r,i.getSort()):i.getType()===PokerTypeUtils.typePair?h=this.seekPairs(r,i.getSort()):i.getType()===PokerTypeUtils.typeThree?h=this.seekThree(r,i.getSort()):i.getType()===PokerTypeUtils.typeThreePairOn?h=this.seekThreePairOn(r,i.getSort()):i.getType()===PokerTypeUtils.typeThreePairUnder?h=this.seekThreePairUnder(r,i.getSort()):i.getType()===PokerTypeUtils.typeStraightPairs?h=this.seekStraightPairs(r,i.getSort(),o.length/2):i.getType()===PokerTypeUtils.typePlane?h=this.seekPlane(r,i.getSort(),o.length/2):i.getType()===PokerTypeUtils.typePlaneNPairsConnection2233?h=this.seekPlaneNPairsConnection2233(r,i.getSort(),t.length/5):i.getType()===PokerTypeUtils.typePlaneNPairsConnection3322?h=this.seekPlaneNPairsConnection3322(r,i.getSort(),t.length/5):i.getType()===PokerTypeUtils.typePlaneNPairsConnection2332&&(h=this.seekPlaneNPairsConnection2332(r,i.getSort()))),null==i&&null!=s&&(console.log("找特殊类型"),s.getType()===PokerTypeUtils.typeThreePair?h=this.seekThreePair(r,s.getSort()):s.getType()===PokerTypeUtils.typePlaneNPairs?h=this.seekPlaneNPairs(r,s.getSort(),t.length/5):s.getType()===PokerTypeUtils.typePlaneNPairsConnection&&(h=this.seekPlaneNPairsConnection(r,s.getSort(),t.length/5))),null==i&&null==s&&console.log("没有找到类型"),null==h||0==h.length){var a=!0;if(null!=i&&(i.getType()==PokerTypeUtils.typeKingBoom||i.getType()==PokerTypeUtils.typeBoom)&&(a=!1,console.log("类型为炸弹，不可行")),a){var n=Math.floor(3*Math.random()+1);n%2!=0&&(h=this.seekBoom(r,0,4))}}return null!=h&&h.length>0?h:[]},e.seekBoom=function(e,t,r){console.log("找呀找炸弹");for(var o=-1,i=-1,s=new Array,h=0;h<e.length;h++)s.push(e[h].getOrderValue());for(var a=s.length-1;a>=0&&(s[a]>t&&(i=s.lastIndexOf(s[a])-s.indexOf(s[a]),i>=r-1&&(o=s.indexOf(s[a]))),-1==o);a--);var n=new Array;if(-1!=o)for(var l=0;i+1>l;l++)n.push(e[l+o]);return n},e.seekSingle=function(e,t){console.log("找呀找单张");for(var r=new Array,o=0;o<e.length;o++)r.push(e[o].getOrderValue());for(var i=r.length-1;i>=0;i--){var s=r.lastIndexOf(r[i])-r.indexOf(r[i]);if(0===s&&r[i]>t)return[e[i]]}for(var i=r.length-1;i>=0;i--){var s=r.lastIndexOf(r[i])-r.indexOf(r[i]);if(2===s&&r[i]>t)return[e[i]]}for(var i=r.length-1;i>=0;i--){var s=r.lastIndexOf(r[i])-r.indexOf(r[i]);if(1===s&&r[i]>t)return[e[i]]}return[]},e.seekPairs=function(e,t){console.log("找呀找对子");for(var r=new Array,o=0;o<e.length;o++)r.push(e[o].getOrderValue());for(var i=r.length-1;i>=0;i--){var s=r.lastIndexOf(r[i])-r.indexOf(r[i]);if(1===s&&r[i]>t)return[e[i-1],e[i]]}for(var i=r.length-1;i>=0;i--){var s=r.lastIndexOf(r[i])-r.indexOf(r[i]);if(2===s&&r[i]>t)return[e[i-1],e[i]]}return[]},e.seekThree=function(e,t){console.log("找呀找三张");for(var r=e.length-1;r>=2;r--)if(e[r].getOrderValue()===e[r-1].getOrderValue()&&e[r].getOrderValue()===e[r-2].getOrderValue()&&e[r].getOrderValue()>t)return[e[r],e[r-1],e[r-2]];return[]},e.seekThreePair=function(e,t){console.log("找呀找乱靠");for(var r=0,o=new Array,i=e.length-1;i>=2;i--)if(e[i].getOrderValue()===e[i-1].getOrderValue()&&e[i].getOrderValue()===e[i-2].getOrderValue()&&e[i].getOrderValue()>t[0].getThreeValue()){r=i,o.push(e[i],e[i-1],e[i-2]);break}if(0!=r)for(var s=0,i=e.length-1;i>=2;i--)if(e[i].getOrderValue()===e[i-1].getOrderValue()&&e[i].getOrderValue()>t[0].getTwoValue()){if(i==r||i==r-1||i==r-2)continue;s=i,o.push(e[i],e[i-1]);break}return null!=o&&5===o.length?o:[]},e.seekThreePairOn=function(e,t){console.log("找呀找上靠");for(var r=e.length-1;r>=4;r--)if(e[r].getOrderValue()===e[r-1].getOrderValue()&&e[r].getOrderValue()===e[r-2].getOrderValue()&&e[r].getOrderValue()-e[r-3].getOrderValue()===-1&&e[r-3].getOrderValue()===e[r-4].getOrderValue()&&e[r].getOrderValue()>t)return[e[r],e[r-1],e[r-2],e[r-3],e[r-4]];return[]},e.seekThreePairUnder=function(e,t){console.log("找呀找下靠");for(var r=e.length-1;r>=4;r--)if(e[r].getOrderValue()===e[r-1].getOrderValue()&&e[r].getOrderValue()-e[r-2].getOrderValue()===-1&&e[r-2].getOrderValue()===e[r-3].getOrderValue()&&e[r-2].getOrderValue()===e[r-4].getOrderValue()&&e[r-2].getOrderValue()>t)return[e[r],e[r-1],e[r-2],e[r-3],e[r-4]];return[]},e.seekStraightPairs=function(e,t,r){console.log("找呀找连对");for(var o=new Array,i=t-r+2,s=new Array,h=0;h<e.length;h++)s.push(e[h].getOrderValue());for(var a=s.length-1;a>0;a--){var n=!0;if(s[a]>=i)for(var l=0;r>l;l++){var u=s[a]+l;if(!(s.lastIndexOf(u)-s.indexOf(u)>0)){n=!1;break}n=!0}if(n&&s[a]>=i){for(var p=0;r>p;p++){var g=s.lastIndexOf(s[a]+p);o.push(e[g]),o.push(e[g-1])}return o}}return[]},e.seekPlane=function(e,t,r){console.log("找呀找飞机");for(var o=new Array,i=t-r+2,s=new Array,h=0;h<e.length;h++)s.push(e[h].getOrderValue());for(var a=s.length-1;a>0;a--){var n=!0;if(s[a]>=i)for(var l=0;r>l;l++){var u=s[a]+l;if(!(s.lastIndexOf(u)-s.indexOf(u)>1)){n=!1;break}n=!0}if(n&&s[a]>=i){for(var p=0;r>p;p++){var g=s.lastIndexOf(s[a]+p);o.push(e[g]),o.push(e[g-1]),o.push(e[g-2])}return o}}return[]},e.seekPlaneNPairs=function(e,t,r){console.log("找呀找飞机带对子");for(var o=new Array,i=new Array,s=0;s<e.length;s++)i.push(e[s].getOrderValue());for(var h=i.length-1;h>0;h--){var a=!0;if(i[h]>t[t.length-1].getThreeValue())for(var n=0;r>n;n++){var l=i[h]+n;if(!(i.lastIndexOf(l)-i.indexOf(l)>1)){a=!1;break}a=!0}if(a&&i[h]>=t[t.length-1].getThreeValue()){for(var u=0;r>u;u++){var p=i.lastIndexOf(i[h]+u);o.push(e[p]),o.push(e[p-1]),o.push(e[p-2])}break}}if(null==o)return[];for(var g=t.length-1,h=i.length-1;h>0;h--){var d=!0;if(i[h]>t[g].getTwoValue()){var k=i[h];d=i.lastIndexOf(k)-i.indexOf(k)===1?!0:!1}if(d&&i[h]>=t[g].getTwoValue()){var P=i.lastIndexOf(i[h]);o.push(e[P]),o.push(e[P-1]),g--}if(0>g)break}return null!=o?o:[]},e.seekPlaneNPairsConnection=function(e,t,r){console.log("找呀找飞机带对子");for(var o=new Array,i=new Array,s=0;s<e.length;s++)i.push(e[s].getOrderValue());for(var h=i.length-1;h>0;h--){var a=!0;if(i[h]>t[t.length-1].getThreeValue())for(var n=0;r>n;n++){var l=i[h]+n;if(!(i.lastIndexOf(l)-i.indexOf(l)>1)){a=!1;break}a=!0}if(a&&i[h]>=t[t.length-1].getThreeValue()){for(var u=0;r>u;u++){var p=i.lastIndexOf(i[h]+u);o.push(e[p]),o.push(e[p-1]),o.push(e[p-2])}break}}if(null==o)return[];for(var h=i.length-1;h>0;h--){var g=!0;if(i[h]>t[t.length-1].getTwoValue())for(var n=0;r>n;n++){var d=i[h]+n;if(i.lastIndexOf(d)-i.indexOf(d)!==1){g=!1;break}g=!0}if(g&&i[h]>=t[t.length-1].getTwoValue()){for(var u=0;r>u;u++){var k=i.lastIndexOf(i[h]+u);o.push(e[k]),o.push(e[k-1])}break}}return null!=o?o:[]},e.seekPlaneNPairsConnection2233=function(e,t,r){console.log("找呀找飞机带对子(有序2233)");for(var o=new Array,i=new Array,s=0;s<e.length;s++)i.push(e[s].getOrderValue());for(var h=i.length-1;h>0;h--){var a=!0,n=!0;if(i[h]>t){for(var l=0;r>l;l++){var u=i[h]+l;if(!(i.lastIndexOf(u)-i.indexOf(u)>0)){a=!1;break}a=!0}if(a)for(var l=0;r>l;l++){var p=i[h]-2*r;if(!(i.lastIndexOf(p)-i.indexOf(p)>1)){n=!1;break}n=!0}if(a&&n){for(var g=0;r>g;g++){var d=i.lastIndexOf(i[h]+g);o.push(e[d]),o.push(e[d-1])}for(var g=0;r>g;g++){var k=i.lastIndexOf(i[h]-2*r+g);o.push(e[k]),o.push(e[k-1]),o.push(e[k-2])}break}}}return null!=o?o:[]},e.seekPlaneNPairsConnection3322=function(e,t,r){console.log("找呀找飞机带对子(有序3322)");for(var o=new Array,i=new Array,s=0;s<e.length;s++)i.push(e[s].getOrderValue());for(var h=i.length-1;h>0;h--){var a=!0,n=!0;if(i[h]>t){for(var l=0;r>l;l++){var u=i[h]+l,p=i.lastIndexOf(u)-i.indexOf(u);if(!(p>1&&3!=p)){n=!1;break}n=!0}if(n)for(var l=0;r>l;l++){var g=i[h]-3*r;if(i.lastIndexOf(g)-i.indexOf(g)!==1){a=!1;break}a=!0}if(a&&n){for(var d=0;r>d;d++){var k=i.lastIndexOf(i[h]+d);o.push(e[k]),o.push(e[k-1]),o.push(e[k-2])}for(var d=0;r>d;d++){var P=i.lastIndexOf(i[h]-3*r+d);o.push(e[P]),o.push(e[P-1])}break}}}return null!=o?o:[]},e.seekPlaneNPairsConnection2332=function(e,t){return console.log("找呀找飞机带对子(有序2332)"),[]},e.randomPlay=function(e){for(var t=new Array,r=0;r<e.length;r++)t.push(e[r].getOrderValue());var o=new Array;if(e.length>=15){console.log("牌数>=15");for(var i=t.length-1;i>=0;i--)if(t[i]<10&&t.indexOf(t[i])-t.lastIndexOf(t[i])==0)return[e[i]];for(var i=t.length-1;i>=0;i--)if(t[i]<10&&t.lastIndexOf(t[i])-t.indexOf(t[i])==1)return[e[i],e[i-1]];var s=new Array;if(s.push(new ThreePair(0,0)),o=this.seekThreePair(e,s),null!=o||o.length>0)return o;if(o=this.seekStraightPairs(e,0,3),null!=o||o.length>0)return o}else if(e.length<15&&e.length>6){console.log("7<牌数<15");for(var i=t.length-1;i>=0;i--)if(t.indexOf(t[i])-t.lastIndexOf(t[i])==0)return[e[i]];for(var i=t.length-1;i>=0;i--)if(t.lastIndexOf(t[i])-t.indexOf(t[i])==1)return[e[i],e[i-1]];var s=new Array;if(s.push(new ThreePair(0,0)),o=this.seekThreePair(e,s),null!=o||o.length>0)return o}else{console.log("牌数<7");for(var i=t.length-1;i>=0;i--)if(t.indexOf(t[i])-t.lastIndexOf(t[i])==0)return[e[i]];for(var i=t.length-1;i>=0;i--)if(t.lastIndexOf(t[i])-t.indexOf(t[i])==1)return[e[i],e[i-1]]}return this.autoThrowPlay(e)},e.autoThrowPlay=function(e){console.log("自动抛出一张单张");for(var t=new Array,r=0;r<e.length;r++)t.push(e[r].getOrderValue());for(var o=t.length-1;o>=1;o--)if(t.indexOf(t[o])-t.lastIndexOf(t[o])==0)return[e[o]];return[e[e.length-1]]},e.autoPlay=function(e,t,r,o,i){if(console.log("轮到我出牌了，座位号：",t,"上家出牌，座位号：",i,"是否同一阵营：",r),null==e||0==e.length)return console.log("没牌了"),[];if(null==o||0==o.length)return this.randomPlay(e);if(t===i)return this.randomPlay(e);if(i===r){if(-1!=PokerTypeUtils.isSingle(o)){if(o[0].getOrderValue()<=11)return(null!=this.seekRight(e,o)||this.seekRight(e,o).length>0)&&1==this.seekRight(e,o).length&&this.seekRight(e,o)[0].getOrderValue()>12?[]:this.seekRight(e,o)}else if(-1!=PokerTypeUtils.isPair(o)){if(o[0].getOrderValue()<10)return this.seekRight(e,o)}else if(-1!=PokerTypeUtils.isThree(o)){if(o[0].getOrderValue()<12)return this.seekRight(e,o)}else if(-1!=PokerTypeUtils.isStraightPairs(o)&&o[0].getOrderValue()<6)return this.seekRight(e,o);return[]}return this.seekRight(e,o)},e}();__reflect(PokerSeekUtils.prototype,"PokerSeekUtils");var PokerType=function(){function e(e,t){this.type=e,this.sort=t}return e.prototype.getType=function(){return this.type},e.prototype.getSort=function(){return this.sort},e}();__reflect(PokerType.prototype,"PokerType");var PokerTypeThreePair=function(){function e(e,t){this.type=e,this.sort=t}return e.prototype.getType=function(){return this.type},e.prototype.getSort=function(){return this.sort},e}();__reflect(PokerTypeThreePair.prototype,"PokerTypeThreePair");var PokerTypeUtils=function(){function e(){}return e.getType=function(e){e=PokerUtils.sortDescPokers(e);var t=-1;return-1!=(t=this.isBoom(e))?new PokerType(this.typeBoom,t):-1!=(t=this.isKingBoom(e))?new PokerType(this.typeKingBoom,t):-1!=(t=this.isSingle(e))?new PokerType(this.typeSingle,t):-1!=(t=this.isPair(e))?new PokerType(this.typePair,t):-1!=(t=this.isThree(e))?new PokerType(this.typeThree,t):-1!=(t=this.isThreePairsOn(e))?new PokerType(this.typeThreePairOn,t):-1!=(t=this.isThreePairsUnder(e))?new PokerType(this.typeThreePairUnder,t):-1!=(t=this.isStraightPairs(e))?new PokerType(this.typeStraightPairs,t):-1!=(t=this.isPlane(e))?new PokerType(this.typePlane,t):-1!=(t=this.isPlaneNpairsConnection2233(e))?new PokerType(this.typePlaneNPairsConnection2233,t):-1!=(t=this.isPlaneNpairsConnection3322(e))?new PokerType(this.typePlaneNPairsConnection3322,t):-1!=(t=this.isPlaneNpairsConnection2332(e))?new PokerType(this.typePlaneNPairsConnection2332,t):null},e.getSpecialType=function(e){e=PokerUtils.sortDescPokers(e);var t=new Array;return null!=(t=this.isThreePairs(e))?new PokerTypeThreePair(this.typeThreePair,t):null!=(t=this.isPlaneNpairs(e))?new PokerTypeThreePair(this.typePlaneNPairs,t):null!=(t=this.isPlaneNpairsConnection(e))?new PokerTypeThreePair(this.typePlaneNPairsConnection,t):null},e.isBoom=function(e){if(e.length>=4&&e.length<=8){for(var t=!0,r=0;r<e.length-1;r++)if(e[r].getOrderValue()!=e[r+1].getOrderValue()){t=!1;break}return t?(console.log("是炸弹,值为:"+e[0].getOrderValue()),e[0].getOrderValue()):-1}return-1},e.isKingBoom=function(e){return 4==e.length&&e[0].getOrderValue()===PokerUtils.BigKingValue&&e[1].getOrderValue()===PokerUtils.BigKingValue&&e[2].getOrderValue()===PokerUtils.SmallKingValue&&e[3].getOrderValue()===PokerUtils.SmallKingValue?0:-1},e.isSingle=function(e){return 1==e.length?e[0].getOrderValue():-1},e.isPair=function(e){return 2==e.length&&e[0].getOrderValue()==e[1].getOrderValue()?e[0].getOrderValue():-1},e.isThree=function(e){return 3!=e.length?-1:e[1].getOrderValue()==e[0].getOrderValue()&&e[2].getOrderValue()==e[0].getOrderValue()?e[0].getOrderValue():-1},e.isThreePairs=function(e){var t=new Array;if(5!=e.length)return null;if(e[1].getOrderValue()===e[0].getOrderValue()&&e[2].getOrderValue()===e[0].getOrderValue()&&e[3].getOrderValue()!=e[0].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&1!=Math.abs(e[0].getOrderValue()-e[3].getOrderValue())){var r=new ThreePair(e[0].getOrderValue(),e[3].getOrderValue());return t.push(r),t}if(e[0].getOrderValue()===e[1].getOrderValue()&&e[2].getOrderValue()===e[3].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()!=e[2].getOrderValue()&&1!=Math.abs(e[0].getOrderValue()-e[2].getOrderValue())){var r=new ThreePair(e[2].getOrderValue(),e[0].getOrderValue());return t.push(r),t}return null},e.isThreePairsOn=function(e){return 5!=e.length?-1:e[1].getOrderValue()===e[0].getOrderValue()&&e[2].getOrderValue()===e[0].getOrderValue()&&e[3].getOrderValue()!=e[0].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()-e[3].getOrderValue()===-1?e[0].getOrderValue():e[0].getOrderValue()===e[1].getOrderValue()&&e[2].getOrderValue()===e[3].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()!=e[2].getOrderValue()&&e[2].getOrderValue()-e[0].getOrderValue()===-1?e[2].getOrderValue():-1},e.isThreePairsUnder=function(e){return 5!=e.length?-1:e[1].getOrderValue()===e[0].getOrderValue()&&e[2].getOrderValue()===e[0].getOrderValue()&&e[3].getOrderValue()!=e[0].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()-e[3].getOrderValue()===1?e[0].getOrderValue():e[0].getOrderValue()===e[1].getOrderValue()&&e[2].getOrderValue()===e[3].getOrderValue()&&e[3].getOrderValue()===e[4].getOrderValue()&&e[0].getOrderValue()!=e[2].getOrderValue()&&e[2].getOrderValue()-e[0].getOrderValue()===1?e[2].getOrderValue():-1},e.isStraightPairs=function(e){if(e.length<6||e.length>24||e.length%2!=0)return-1;if(e[0].getOrderValue()<3)return-1;for(var t=0;t<e.length-1;t+=2)if(e[t].getOrderValue()!=e[t+1].getOrderValue())return-1;for(var t=0;t<e.length-2;t+=2)if(t!=e.length-2&&e[t].getOrderValue()!=e[t+2].getOrderValue()+1)return-1;return e[0].getOrderValue()},e.isPlane=function(e){if(e.length<9&&e.length>27)return-1;if(e.length%3!=0)return-1;if(e[0].getOrderValue()<3)return-1;for(var t=0;t<e.length;t+=3)if(t!=e.length-3&&e[t].getOrderValue()===e[t+1].getOrderValue()&&e[t].getOrderValue()===e[t+2].getOrderValue()&&e[t].getOrderValue()===e[t+3].getOrderValue()+1)return e[0].getOrderValue();return-1},e.isPlaneNpairs=function(e){if(e.length<10||e.length>25)return null;for(var t=[],r=[],o=0;o<e.length-2;o++)e[o].getOrderValue()==e[o+1].getOrderValue()&&e[o].getOrderValue()==e[o+2].getOrderValue()&&(t.push(e[o]),console.log("i为"+o+"时，符合要求的three值为"+e[o].getOrderValue()+",id为"+e[o].getId()));for(var i=!1,o=0;o<t.length-1;o++)i=t[o].getOrderValue()-t[o+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+i),!i)return null;for(var s=[],o=0;o<t.length;o++)for(var h=0;h<e.length;h++)e[h].getOrderValue()===t[o].getOrderValue()&&(s.push(e[h]),console.log("要删除的：id"+e[h].getId()+",value:"+e[h].getOrderValue()));e=PokerUtils.removePokers(e,s);for(var a=0;a<e.length;a++)console.log("剩下--id:"+e[a].getId()+",value:"+e[a].getOrderValue());console.log("取对子");for(var o=0;o<e.length-1;o++)e[o].getOrderValue()===e[o+1].getOrderValue()&&(r.push(e[o]),console.log("i为"+o+"时，符合要求的two值为"+e[o].getOrderValue()+",id为"+e[o].getId()));if(t.length!=r.length)return null;for(var n=[],o=0;o<r.length;o++)for(var h=0;h<e.length;h++)r[o].getOrderValue()===e[h].getOrderValue()&&n.push(e[h]);e=PokerUtils.removePokers(e,n);for(var a=0;a<e.length;a++)console.log("two剩下--id:"+e[a].getId()+",value:"+e[a].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,o=0;o<r.length-1;o++)l=r[o].getOrderValue()-r[o+1].getOrderValue()===1?!0:!1;console.log("tw:"+l);var u=new Array;if(l)return console.log("不符合要求"),null;console.log("符合要求");for(var o=0;o<r.length;o++){var p=new ThreePair(t[o].getOrderValue(),r[o].getOrderValue());u.push(p)}return u},e.isPlaneNpairsConnection=function(e){if(e.length<10||e.length>25)return null;for(var t=[],r=[],o=0;o<e.length-2;o++)e[o].getOrderValue()==e[o+1].getOrderValue()&&e[o].getOrderValue()==e[o+2].getOrderValue()&&(t.push(e[o]),console.log("i为"+o+"时，符合要求的three值为"+e[o].getOrderValue()+",id为"+e[o].getId()));for(var i=!1,o=0;o<t.length-1;o++)i=t[o].getOrderValue()-t[o+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+i),!i)return null;for(var s=[],o=0;o<t.length;o++)for(var h=0;h<e.length;h++)e[h].getOrderValue()===t[o].getOrderValue()&&(s.push(e[h]),console.log("要删除的：id"+e[h].getId()+",value:"+e[h].getOrderValue()));e=PokerUtils.removePokers(e,s);for(var a=0;a<e.length;a++)console.log("剩下--id:"+e[a].getId()+",value:"+e[a].getOrderValue());console.log("取对子");for(var o=0;o<e.length-1;o++)e[o].getOrderValue()===e[o+1].getOrderValue()&&(r.push(e[o]),console.log("i为"+o+"时，符合要求的two值为"+e[o].getOrderValue()+",id为"+e[o].getId()));if(t.length!=r.length)return null;for(var n=[],o=0;o<r.length;o++)for(var h=0;h<e.length;h++)r[o].getOrderValue()===e[h].getOrderValue()&&n.push(e[h]);e=PokerUtils.removePokers(e,n);for(var a=0;a<e.length;a++)console.log("two剩下--id:"+e[a].getId()+",value:"+e[a].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,o=0;o<r.length-1;o++)l=r[o].getOrderValue()-r[o+1].getOrderValue()===1?!0:!1;console.log("tw:"+l);var u=new Array;if(l){console.log("符合要求");for(var o=0;o<r.length;o++){var p=new ThreePair(t[o].getOrderValue(),r[o].getOrderValue());u.push(p)}return u}return console.log("不符合要求"),null},e.isPlaneNpairsConnection2233=function(e){if(e.length<10||e.length>25)return-1;for(var t=[],r=[],o=0;o<e.length;o++)console.log("当前--id:"+e[o].getId()+",value:"+e[o].getOrderValue());for(var i=0;i<e.length-2;i++)e[i].getOrderValue()==e[i+1].getOrderValue()&&e[i].getOrderValue()==e[i+2].getOrderValue()&&(t.push(e[i]),console.log("i为"+i+"时，符合要求的three值为"+e[i].getOrderValue()+",id为"+e[i].getId()));for(var s=!1,i=0;i<t.length-1;i++)s=t[i].getOrderValue()-t[i+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+s),!s)return-1;for(var h=[],i=0;i<t.length;i++)for(var a=0;a<e.length;a++)e[a].getOrderValue()===t[i].getOrderValue()&&(h.push(e[a]),console.log("要删除的：id"+e[a].getId()+",value:"+e[a].getOrderValue()));e=PokerUtils.removePokers(e,h);for(var o=0;o<e.length;o++)console.log("剩下--id:"+e[o].getId()+",value:"+e[o].getOrderValue());console.log("取对子");for(var i=0;i<e.length-1;i++)e[i].getOrderValue()===e[i+1].getOrderValue()&&(r.push(e[i]),console.log("i为"+i+"时，符合要求的two值为"+e[i].getOrderValue()+",id为"+e[i].getId()));if(t.length!=r.length)return-1;for(var n=[],i=0;i<r.length;i++)for(var a=0;a<e.length;a++)r[i].getOrderValue()===e[a].getOrderValue()&&n.push(e[a]);e=PokerUtils.removePokers(e,n);for(var o=0;o<e.length;o++)console.log("two剩下--id:"+e[o].getId()+",value:"+e[o].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,i=0;i<r.length-1;i++)l=r[i].getOrderValue()-r[i+1].getOrderValue()===1?!0:!1;console.log("tw:"+l);new Array;return l?r[0].getOrderValue()-t[t.length-1].getOrderValue()===-1?r[r.length-1].getOrderValue():-1:(console.log("不符合要求"),-1)},e.isPlaneNpairsConnection3322=function(e){if(e.length<10||e.length>25)return-1;for(var t=[],r=[],o=0;o<e.length;o++)console.log("当前--id:"+e[o].getId()+",value:"+e[o].getOrderValue());for(var i=0;i<e.length-2;i++)e[i].getOrderValue()==e[i+1].getOrderValue()&&e[i].getOrderValue()==e[i+2].getOrderValue()&&(t.push(e[i]),console.log("i为"+i+"时，符合要求的three值为"+e[i].getOrderValue()+",id为"+e[i].getId()));for(var s=!1,i=0;i<t.length-1;i++)s=t[i].getOrderValue()-t[i+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+s),!s)return-1;for(var h=[],i=0;i<t.length;i++)for(var a=0;a<e.length;a++)e[a].getOrderValue()===t[i].getOrderValue()&&(h.push(e[a]),console.log("要删除的：id"+e[a].getId()+",value:"+e[a].getOrderValue()));e=PokerUtils.removePokers(e,h);for(var o=0;o<e.length;o++)console.log("剩下--id:"+e[o].getId()+",value:"+e[o].getOrderValue());console.log("取对子");for(var i=0;i<e.length-1;i++)e[i].getOrderValue()===e[i+1].getOrderValue()&&(r.push(e[i]),console.log("i为"+i+"时，符合要求的two值为"+e[i].getOrderValue()+",id为"+e[i].getId()));if(t.length!=r.length)return-1;for(var n=[],i=0;i<r.length;i++)for(var a=0;a<e.length;a++)r[i].getOrderValue()===e[a].getOrderValue()&&n.push(e[a]);e=PokerUtils.removePokers(e,n);for(var o=0;o<e.length;o++)console.log("two剩下--id:"+e[o].getId()+",value:"+e[o].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,i=0;i<r.length-1;i++)l=r[i].getOrderValue()-r[i+1].getOrderValue()===1?!0:!1;console.log("tw:"+l);new Array;return l?r[r.length-1].getOrderValue()-t[0].getOrderValue()===1?t[t.length-1].getOrderValue():-1:(console.log("不符合要求"),-1)},e.isPlaneNpairsConnection2332=function(e){if(e.length<10||e.length>25)return-1;for(var t=[],r=[],o=0;o<e.length;o++)console.log("当前--id:"+e[o].getId()+",value:"+e[o].getOrderValue());for(var i=0;i<e.length-2;i++)e[i].getOrderValue()==e[i+1].getOrderValue()&&e[i].getOrderValue()==e[i+2].getOrderValue()&&(t.push(e[i]),console.log("i为"+i+"时，符合要求的three值为"+e[i].getOrderValue()+",id为"+e[i].getId()));for(var s=!1,i=0;i<t.length-1;i++)s=t[i].getOrderValue()-t[i+1].getOrderValue()===1?!0:!1;if(console.log("符合要求吗？  "+s),!s)return-1;for(var h=[],i=0;i<t.length;i++)for(var a=0;a<e.length;a++)e[a].getOrderValue()===t[i].getOrderValue()&&(h.push(e[a]),console.log("要删除的：id"+e[a].getId()+",value:"+e[a].getOrderValue()));e=PokerUtils.removePokers(e,h);for(var o=0;o<e.length;o++)console.log("剩下--id:"+e[o].getId()+",value:"+e[o].getOrderValue());console.log("取对子");for(var i=0;i<e.length-1;i++)e[i].getOrderValue()===e[i+1].getOrderValue()&&(r.push(e[i]),console.log("i为"+i+"时，符合要求的two值为"+e[i].getOrderValue()+",id为"+e[i].getId()));if(t.length!=r.length)return-1;for(var n=[],i=0;i<r.length;i++)for(var a=0;a<e.length;a++)r[i].getOrderValue()===e[a].getOrderValue()&&n.push(e[a]);e=PokerUtils.removePokers(e,n);for(var o=0;o<e.length;o++)console.log("two剩下--id:"+e[o].getId()+",value:"+e[o].getOrderValue());if(e.length>0)return null;console.log("看对子是否连续");for(var l=!1,i=0;i<r.length-1;i++)l=r[i].getOrderValue()-r[i+1].getOrderValue()===1?!0:!1;var u=[];if(!l){for(var i=0;i<t.length;i++)u.push(t[i].getOrderValue());for(var i=0;i<r.length;i++)u.push(r[i].getOrderValue());u=u.sort()}for(var p=!1,i=0;i<u.length-1;i++)p=u[i]===u[i+1]-1?!0:!1;return p?r[0].getOrderValue():-1},e.typeBoom="typeBoom",e.typeKingBoom="typeKingBoom",e.typeSingle="typeSingle",e.typePair="typePair",e.typeStraightPairs="typeStraightPairs",e.typeThree="typeThree",e.typeThreePair="typeThreePair",e.typeThreePairOn="typeThreePairOn",e.typeThreePairUnder="typeThreePairUnder",e.typePlane="typePlane",e.typePlaneNPairs="typePlaneNPairs",e.typePlaneNPairsConnection="typePlaneNPairsConnection",e.typePlaneNPairsConnection3322="typePlaneNPairsConnection3322",e.typePlaneNPairsConnection2233="typePlaneNPairsConnection2233",e.typePlaneNPairsConnection2332="typePlaneNPairsConnection2332",e}();__reflect(PokerTypeUtils.prototype,"PokerTypeUtils");var PokerUtils=function(){function e(){}return e.getRandomPokers=function(){for(var e,t,r=new Array,o=this.pokerIds.slice(),i=[],s=0;s<this.pokerIds.length;s++)e=Math.floor(Math.random()*o.length),t=o[e],i.push(t),o=ArrayUtils.slice(o,0,e).concat(ArrayUtils.slice(o,e+1,o.length));for(var h=0;h<i.length;h++){var a=new Poker(this.pokerIds[i[h]-1],this.pokerSortValues[i[h]-1]);r.push(a)}return console.log("已随机生成一副牌",r.toString()),r},e.sortDescPokers=function(e){return e.sort(this.sortDesc)},e.removePokers=function(e,t){for(var r=new Array,o=0;o<e.length;o++){for(var i=!1,s=0;s<t.length;s++)e[o].getId()==t[s].getId()&&(i=!0);i||r.push(e[o])}return r},e.addExchangePoker=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r]);return this.sortDescPokers(e)},e.sortDesc=function(e,t){return e.getOrderValue()<t.getOrderValue()?1:e.getOrderValue()>t.getOrderValue()?-1:0},e.getRandomUser=function(){var e=this.randomUsers[Math.floor(Math.random()*this.randomUsers.length)];return new User(e.name,e.sex)},e.getRandomTextTip=function(){return this.textTip[Math.floor(Math.random()*this.textTip.length)]},e.pokerSortValues=[12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,14,14,15,15],e.AValue=12,e.BigKingValue=15,e.SmallKingValue=14,e.pokerIds=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108],e.randomUsers=[{uid:"1001",name:"大可",sex:"man"},{uid:"1002",name:"Tiger",sex:"lady"},{uid:"1003",name:"翔",sex:"man"},{uid:"1004",name:"傻源源",sex:"man"},{uid:"1005",name:"傻乐乐",sex:"man"},{uid:"1006",name:"小巴西",sex:"lady"},{uid:"1007",name:"油烟机",sex:"man"},{uid:"1008",name:"可乐鸡翅",sex:"lady"},{uid:"1009",name:"酸辣土豆丝",sex:"lady"},{uid:"1010",name:"糖拌西红柿",sex:"man"},{uid:"1011",name:"拍黄瓜",sex:"man"},{uid:"1012",name:"空调没有遥控器",sex:"man"},{uid:"1013",name:"这么晚了还不回家",sex:"lady"},{uid:"1014",name:"程咬金",sex:"man"},{uid:"1015",name:"猫砂不会盖",sex:"man"},{uid:"1016",name:"风扇不摇头",sex:"man"},{uid:"1017",name:"油炸花生米",sex:"man"},{uid:"1018",name:"电视不能看",sex:"man"},{uid:"1019",name:"绿萝",sex:"lady"},{uid:"1020",name:"薄荷糖不麻",sex:"lady"},{uid:"1021",name:"翔的小姐姐",sex:"lady"},{uid:"1022",name:"孤单想吃西瓜",sex:"man"},{uid:"1023",name:"一个人看烟花",sex:"lady"},{uid:"1024",name:"大海啊你全是水",sex:"man"},{uid:"1025",name:"骏马啊你四条腿",sex:"man"}],e.textTip=["不要","没你的大","要不起","你厉害","我认怂","你牛","过","GO","PASS","0.0"],e
}();__reflect(PokerUtils.prototype,"PokerUtils");var Room=function(){function e(){}return e}();__reflect(Room.prototype,"Room");var RoomManager=function(){function e(){}return e.Request_onRoom=1001,e.Request_BeReady=1002,e.Request_CallTheLandlord=1003,e.Request_Discard=1004,e.Response_InitUserOK=2e3,e.Response_RoomInfo=2001,e.Response_NewPlayerJoin=20011,e.Response_Reday=2002,e.Response_DealPoker=2003,e.Response_ToThrowAPoker=20050,e.Response_ToCallTheLandlord=2005,e.Response_LandlordAndLastCard=2006,e.Response_Discard=2007,e.Response_GameOver=2008,e.Victory_Landlord="Landlord",e.Victory_Farmer="Farmer",e.ButtonsGameTest=7,e.ButtonsToSwitchAPoker=6,e.ButtonsToDrawAPoker=5,e.ButtonsToThrowAPoker=4,e.ButtonsDiscard=2,e.ButtonsGameOver=3,e}();__reflect(RoomManager.prototype,"RoomManager");var ThreePair=function(){function e(e,t){this.threeValue=e,this.twoValue=t}return e.prototype.getThreeValue=function(){return this.threeValue},e.prototype.getTwoValue=function(){return this.twoValue},e.prototype.toString=function(){return"["+this.threeValue+","+this.twoValue+"]"},e}();__reflect(ThreePair.prototype,"ThreePair");var User=function(){function e(e,t){this.seat=1,this.name=e,this.sex=t}return e.prototype.getId=function(){return this.id},e.prototype.getName=function(){return this.name},e.prototype.getSex=function(){return this.sex},e.prototype.getSeat=function(){return this.seat},e.prototype.setSeat=function(e){this.seat=e},e.prototype.setId=function(e){this.id=e},e.prototype.setName=function(e){this.name=e},e}();__reflect(User.prototype,"User");